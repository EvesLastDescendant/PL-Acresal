!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Depicter=e()}(this,(function(){"use strict";function t(t,e){var i,s=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)),s}function e(e){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{};s%2?t(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){if(null==t)return{};var i,s=function(t,e){if(null==t)return{};for(var i,s={},n=Object.keys(t),o=0;o<n.length;o++)i=n[o],0<=e.indexOf(i)||(s[i]=t[i]);return s}(t,e);if(Object.getOwnPropertySymbols)for(var n=Object.getOwnPropertySymbols(t),o=0;o<n.length;o++)i=n[o],0<=e.indexOf(i)||Object.prototype.propertyIsEnumerable.call(t,i)&&(s[i]=t[i]);return s}function n(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((t=>{t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),function(t,e){try{t.querySelector(":scope body")}catch(i){["querySelector","querySelectorAll"].forEach((i=>{const s=e[i];e[i]=function(e){if(/(^|,)\s*:scope/.test(e)){var n=this.id;this.id="ID_"+Date.now(),e=e.replace(/((^|,)\s*):scope/g,"$1#"+this.id);var o=t[i](e);return this.id=n,o}return s.call(this,e)}}))}}(window.document,Element.prototype),void 0===Node.prototype.replaceChildren&&(Node.prototype.replaceChildren=function(t){for(;this.lastChild;)this.removeChild(this.lastChild);void 0!==t&&this.append(t)});class o{constructor(){this.listeners={},this._onceList=[],this.addEventListener=this.on,this.removeEventListener=this.off,this.debugEvents=!1}trigger(t,e,i=!1){this.debugEvents&&console.log(t,e),this.parentEmitter&&this.parentEmitter.trigger(i?this._transformName(t):t,e),this.listeners&&(this.listeners[t]&&(e?e.unshift(t):e=[t],this.listeners[t].forEach((t=>{t.callback.apply(t.context,e)}))),this._onceList.length&&(this._onceList=this._onceList.filter((e=>e.name!==t||(this.off(e.name,e.callback,e.context),!1)))))}on(t,e,i,s=0){if(-1===t.indexOf(",")){this.listeners[t]||(this.listeners[t]=[]);let n=this.listeners[t];n.find((t=>t.callback===e&&t.context===i&&t.priority===s))||(n.push({callback:e,priority:s,context:i}),n=n.sort(((t,e)=>t.priority>e.priority?1:t.priority<e.priority?-1:0)))}else t.replace(/\s*/g,"").split(",").forEach((t=>{this.on(t,e,i,s)}))}once(t,e,i,s){this.on(t,e,i,s),this._onceList.push({name:t,callback:e,context:i})}off(t,e,i){if(-1===t.indexOf(",")){const s=this.listeners[t];s&&s.length&&(this.listeners[t]=s.filter((t=>t.callback!==e||t.context!==i)))}else t.replace(/\s*/g,"").split(",").forEach((t=>{this.off(t,e,i)}))}offOnContext(t){Object.keys(this.listeners).forEach((e=>{this.listeners[e]=this.listeners[e].filter((e=>e.context!==t))}))}offByName(t){this.listeners[t]&&(this.listeners[t]=void 0)}_transformName(t){return this.eventPrefix&&this.eventPrefix.length?this.eventPrefix+t.slice(0,1).toUpperCase()+t.slice(1):t}}const r="depicter",a="ontouchstart"in document,h=Object.prototype.hasOwnProperty,l={mobile:767,tablet:1024},c=Object.keys(l).sort(((t,e)=>l[e]-l[t])),d=()=>{const t=window.innerWidth;let e=null,i=-1;return[...c].reverse().some(((s,n)=>t<=l[s]&&(e=s,i=c.length-n-1,!0))),{name:e,index:i,size:l[e]||t}};let p=null;window.addEventListener("resize",(()=>{p=d().name}));const u=new class extends o{constructor(){super(),this.update=this.update.bind(this),window.addEventListener("resize",this.update),this.activeBreakpoint=null,this.activeBreakpointIndex=null,this.activeBreakpointSize=null,this.update()}update(t){if(t)return clearTimeout(this._resizeTimeout),void(this._resizeTimeout=setTimeout(this.update,20));var{name:e,index:i,size:t}=d();e!==this.activeBreakpoint&&(this.activeBreakpoint=e,this.activeBreakpointIndex=i,this.activeBreakpointSize=t,this.trigger("breakpointChange",[e,i,t]))}},m=(t,e)=>{e=e||d().name;var i=c.indexOf(e);if(Array.isArray(t)){if(0===t.length)return;var s=t[i+1];return!s&&!1!==s||"string"==typeof s&&!s.length?"none"===e?void 0:m(t,1<=i?c[i-1]:"none"):s}return"object"==typeof(t=h.call(t,"toObject")?t.toObject():t)?h.call(t,e)?t[e]:"none"===e?void 0:m(t,1<=i?c[i-1]:"none"):t},g=(t,e)=>{const i={};return t.hasAttribute(`data-${e}`)&&(i.none=t.getAttribute(`data-${e}`)),c.forEach((s=>{t.hasAttribute(`data-${s}-${e}`)&&(i[s]=t.getAttribute(`data-${s}-${e}`))})),i};class v{constructor(t,e,i){this.composer=t,this.options=i,this.view=e,this.innerContainers={},this.outerContainers={},this._matchHeightList=[],this.options.register({layout:"boxed",stretchWidth:!1,width:900,height:500,columns:1,rtl:!1,keepAspectRatio:!0,delayBeforeResize:0,fullscreenMargin:0,narrowLayoutOn:"mobile",overflowFix:!0}),this.primaryContainer=document.createElement("div"),this.primaryContainer.classList.add(`${r}-primary-container`),this.composer.element.appendChild(this.primaryContainer),this.viewContainer=document.createElement("div"),this.viewContainer.classList.add(`${r}-view-container`),this.view.appendTo(this.viewContainer),this.primaryContainer.appendChild(this.viewContainer),this.view.options.has("reverse")&&(e=this.options.get("rtl"),this.view.options.set("reverse",e),e&&this.composer.element.classList.add(`${r}-rtl`),this.options.observe("rtl",((t,e)=>{this.view.options.set("reverse",e),this.composer.element.classList[e?"add":"remove"](`${r}-rtl`)}))),this.update=this.update.bind(this),window.addEventListener("resize",this.update,!1),requestAnimationFrame(this.update),this.update()}update(t){var e=this.options.get("delayBeforeResize");if(t&&0<e)return clearTimeout(this._resizeTimeout),void(this._resizeTimeout=setTimeout(this.update,e));var i=this.options.get(["layout","width","height","maxHeight","minHeight","fullscreenMargin","overflowFix","narrowLayoutOn"]);const s=this.composer.element;s.classList.add(`${r}-layout-${i.layout}`);var{name:n,size:t}=d();switch(n!==this.activeBreakpoint&&(this.activeBreakpoint&&this.composer.element.classList.remove(`${r}-bp-${this.activeBreakpoint}`),null!==(this.activeBreakpoint=n)&&this.composer.element.classList.add(`${r}-bp-${n}`),this.activeBreakpointSize=n?t:m(i.width,n)),this.isNarrow=n===i.narrowLayoutOn,this._lastNarrowStatus!==this.isNarrow&&(this.isNarrow?s.classList.add(`${r}-narrow-layout`):s.classList.remove(`${r}-narrow-layout`),this._lastNarrowStatus=this.isNarrow),i.layout){case"fullscreen":i.overflowFix&&document.body.classList.add(`${r}-overflow-fix`);case"fullwidth":s.style.width=document.body.clientWidth+"px",requestAnimationFrame((()=>{s.style.marginLeft="";var t=-(window.scrollX+Math.ceil(s.getBoundingClientRect().left))+"px";s.style.marginLeft=t;try{s.style.setProperty("margin-left",t,"important")}catch(t){}s.style.width=document.body.clientWidth+"px"}));break;case"boxed":s.style.maxWidth=m(i.width,n)+"px"}if(e=s.offsetWidth,"fullscreen"===i.layout)if(t=window.innerHeight,i.fullscreenMargin){let e=window.scrollY+Math.ceil(s.getBoundingClientRect().top);"auto"===i.fullscreenMargin&&.75<=e/window.innerHeight?e=0:"auto"!==i.fullscreenMargin&&(e=i.fullscreenMargin),s.style.height=t-e+"px"}else s.style.height=`${t}px`;this.composer.trigger("beforeViewResize",[this]),this.view.resize(),this._updateMatchHeights(),e===this.width&&this.height===s.offMatchHeight||(this.width=e,this.height=s.offsetHeight,this.composer.trigger("resize")),this.composer.trigger("layoutUpdate",[this])}getContainer(t){if("string"!=typeof t)return!1;var e=-1!==(t=t.toLowerCase()).indexOf("inner"),i=t.replace("inner","");t=e?this.innerContainers:this.outerContainers;return h.call(t,i)||this._createContainer(i,e),t[i]}onMatchHeight(t){this._matchHeightList.push(t),this._updateMatchHeights()}offMatchHeight(t){t.style.height="",this._matchHeightList.splice(this._matchHeightList.indexOf(t),1)}_updateMatchHeights(){this._matchHeightList.forEach((t=>{t.style.height=this.slider.view.height+"px"}))}_createContainer(t,e){const i=document.createElement("div");i.classList.add(`${r}-${t}-container`),e?(this.hasInnerBox||(this.hasInnerBox=!0,this.innerBox=document.createElement("div"),this.innerBox.classList.add(`${r}-inner-container`),this.innerBox.appendChild(this.viewContainer),(this.hasMidRow?this.midRow:this.primaryContainer).appendChild(this.innerBox)),this.innerContainers[t]=i,"right"===t||"left"===t?(this.hasInnerMidRow||(this.hasInnerMidRow=!0,this.innerMidRow=document.createElement("div"),this.innerMidRow.classList.add(`${r}-mid-row`),this.innerMidRow.appendChild(this.viewContainer),this.innerBox.appendChild(this.innerMidRow)),this.innerMidRow.appendChild(i)):this.innerBox.appendChild(i)):(this.outerContainers[t]=i,"right"===t||"left"===t?(this.hasMidRow||(this.hasMidRow=!0,this.midRow=document.createElement("div"),this.midRow.classList.add(`${r}-mid-row`),this.midRow.appendChild(this.hasInnerBox?this.innerBox:this.viewContainer),this.primaryContainer.appendChild(this.midRow)),this.midRow.appendChild(i)):this.primaryContainer.appendChild(i)),this.update()}}var f={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},y={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},_=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],b={CSS:{},springs:{}};function w(t,e,i){return Math.min(Math.max(t,e),i)}function x(t,e){return-1<t.indexOf(e)}function S(t,e){return t.apply(null,e)}var A={arr:function(t){return Array.isArray(t)},obj:function(t){return x(Object.prototype.toString.call(t),"Object")},pth:function(t){return A.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||A.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},nil:function(t){return A.und(t)||null===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return A.hex(t)||A.rgb(t)||A.hsl(t)},key:function(t){return!f.hasOwnProperty(t)&&!y.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function C(t){return(t=/\(([^)]+)\)/.exec(t))?t[1].split(",").map((function(t){return parseFloat(t)})):[]}function E(t,e){var i=C(t),s=w(A.und(i[0])?1:i[0],.1,100),n=w(A.und(i[1])?100:i[1],.1,100),o=w(A.und(i[2])?10:i[2],.1,100),r=(i=w(A.und(i[3])?0:i[3],.1,100),Math.sqrt(n/s)),a=o/(2*Math.sqrt(n*s)),h=a<1?r*Math.sqrt(1-a*a):0,l=a<1?(a*r-i)/h:-i+r;function c(t){var i=e?e*t/1e3:t;i=a<1?Math.exp(-i*a*r)*(+Math.cos(h*i)+l*Math.sin(h*i)):(1+l*i)*Math.exp(-i*r);return 0===t||1===t?t:1-i}return e?c:function(){var e=b.springs[t];if(e)return e;for(var i=0,s=0;;)if(1===c(i+=1/6)){if(16<=++s)break}else s=0;return e=i*(1/6)*1e3,b.springs[t]=e}}function k(t){return void 0===t&&(t=10),function(e){return Math.ceil(w(e,1e-6,1)*t)*(1/t)}}var L=function(t,e,i,s){if(0<=t&&t<=1&&0<=i&&i<=1){var n=new Float32Array(11);if(t!==e||i!==s)for(var o=0;o<11;++o)n[o]=$(.1*o,t,i);return function(o){return t===e&&i===s||0===o||1===o?o:$(function(e){for(var s=0,o=1;10!==o&&n[o]<=e;++o)s+=.1;var r=s+(e-n[--o])/(n[o+1]-n[o])*.1,a=O(r,t,i);return.001<=a?function(t,e,i,s){for(var n=0;n<4;++n){var o=O(e,i,s);if(0===o)return e;e-=($(e,i,s)-t)/o}return e}(e,r,t,i):0===a?r:function(t,e,i,s,n){for(var o,r,a=0;0<(o=$(r=e+(i-e)/2,s,n)-t)?i=r:e=r,1e-7<Math.abs(o)&&++a<10;);return r}(e,s,s+.1,t,i)}(o),e,s)}}};function I(t,e){return 1-3*e+3*t}function $(t,e,i){return((I(e,i)*t+(3*i-6*e))*t+3*e)*t}function O(t,e,i){return 3*I(e,i)*t*t+2*(3*i-6*e)*t+3*e}var T,P,M=(T={linear:function(){return function(t){return t}}},P={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function(t,e){void 0===e&&(e=.5);var i=w(t=void 0===t?1:t,1,10),s=w(e,.1,2);return function(t){return 0===t||1===t?t:-i*Math.pow(2,10*(t-1))*Math.sin((t-1-s/(2*Math.PI)*Math.asin(1/i))*(2*Math.PI)/s)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(t,e){P[t]=function(){return function(t){return Math.pow(t,e+2)}}})),Object.keys(P).forEach((function(t){var e=P[t];T["easeIn"+t]=e,T["easeOut"+t]=function(t,i){return function(s){return 1-e(t,i)(1-s)}},T["easeInOut"+t]=function(t,i){return function(s){return s<.5?e(t,i)(2*s)/2:1-e(t,i)(-2*s+2)/2}},T["easeOutIn"+t]=function(t,i){return function(s){return s<.5?(1-e(t,i)(1-2*s))/2:(e(t,i)(2*s-1)+1)/2}}})),T);function B(t,e){if(A.fnc(t))return t;var i=t.split("(")[0],s=M[i],n=C(t);switch(i){case"spring":return E(t,e);case"cubicBezier":return S(L,n);case"steps":return S(k,n);default:return S(s,n)}}function z(t){try{return document.querySelectorAll(t)}catch(t){return}}function D(t,e){for(var i,s=t.length,n=2<=arguments.length?e:void 0,o=[],r=0;r<s;r++)r in t&&(i=t[r],e.call(n,i,r,t)&&o.push(i));return o}function V(t){return t.reduce((function(t,e){return t.concat(A.arr(e)?V(e):e)}),[])}function j(t){return A.arr(t)?t:(t=A.str(t)&&z(t)||t)instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t]}function R(t,e){return t.some((function(t){return t===e}))}function W(t){var e,i={};for(e in t)i[e]=t[e];return i}function N(t,e){var i,s=W(t);for(i in t)s[i]=(e.hasOwnProperty(i)?e:t)[i];return s}function F(t,e){var i,s=W(t);for(i in e)s[i]=(A.und(t[i])?e:t)[i];return s}function H(t){if(t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[1]}function Y(t,e){return A.fnc(t)?t(e.target,e.id,e.total):t}function X(t,e){return t.getAttribute(e)}function q(t,e,i){if(R([i,"deg","rad","turn"],H(e)))return e;var s=b.CSS[e+i];if(!A.und(s))return s;var n=document.createElement(t.tagName);return(s=t.parentNode&&t.parentNode!==document?t.parentNode:document.body).appendChild(n),n.style.position="absolute",n.style.width=100+i,t=100/n.offsetWidth,s.removeChild(n),t*=parseFloat(e),b.CSS[e+i]=t}function Z(t,e,i){if(e in t.style){var s=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();s=t.style[e]||getComputedStyle(t).getPropertyValue(s)||"0";return i?q(t,s,i):s}}function U(t,e){return A.dom(t)&&!A.inp(t)&&(!A.nil(X(t,e))||A.svg(t)&&t[e])?"attribute":A.dom(t)&&R(_,e)?"transform":A.dom(t)&&"transform"!==e&&Z(t,e)?"css":null!=t[e]?"object":void 0}function G(t){if(A.dom(t)){for(var e,i=t.style.transform||"",s=/(\w+)\(([^)]*)\)/g,n=new Map;e=s.exec(i);)n.set(e[1],e[2]);return n}}function K(t,e,i,s){switch(U(t,e)){case"transform":return function(t,e,i,s){var n=x(e,"scale")?1:0+(x(n=e,"translate")||"perspective"===n?"px":x(n,"rotate")||x(n,"skew")?"deg":void 0);return n=G(t).get(e)||n,i&&(i.transforms.list.set(e,n),i.transforms.last=e),s?q(t,n,s):n}(t,e,s,i);case"css":return Z(t,e,i);case"attribute":return X(t,e);default:return t[e]||0}}function J(t,e){var i=/^(\*=|\+=|-=)/.exec(t);if(!i)return t;var s=H(t)||0,n=parseFloat(e),o=parseFloat(t.replace(i[0],""));switch(i[0][0]){case"+":return n+o+s;case"-":return n-o+s;case"*":return n*o+s}}function Q(t,e){if(A.col(t))return function(t){return A.rgb(t)?(e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(o=t))?"rgba("+e[1]+",1)":o:A.hex(t)?(r=(r=t).replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,s){return e+e+i+i+s+s})),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),"rgba("+parseInt(r[1],16)+","+parseInt(r[2],16)+","+parseInt(r[3],16)+",1)"):A.hsl(t)?(o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e=t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),r=parseInt(o[1],10)/360,t=parseInt(o[2],10)/100,e=parseInt(o[3],10)/100,o=o[4]||1,0==t?i=s=n=e:(i=a(t=2*e-(e=e<.5?e*(1+t):e+t-e*t),e,r+1/3),s=a(t,e,r),n=a(t,e,r-1/3)),"rgba("+255*i+","+255*s+","+255*n+","+o+")"):void 0;var e,i,s,n,o,r;function a(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}}(t);if(/\s/g.test(t))return t;var i=H(t);t=i?t.substr(0,t.length-i.length):t;return e?t+e:t}function tt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function et(t){for(var e,i=t.points,s=0,n=0;n<i.numberOfItems;n++){var o=i.getItem(n);0<n&&(s+=tt(e,o)),e=o}return s}function it(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*X(t,"r");case"rect":return 2*X(i=t,"width")+2*X(i,"height");case"line":return tt({x:X(e=t,"x1"),y:X(e,"y1")},{x:X(e,"x2"),y:X(e,"y2")});case"polyline":return et(t);case"polygon":return e=t.points,et(t)+tt(e.getItem(e.numberOfItems-1),e.getItem(0))}var e,i}function st(t,e){var i=e||{},s=i.el||function(t){for(var e=t.parentNode;A.svg(e)&&A.svg(e.parentNode);)e=e.parentNode;return e}(t),n=s.getBoundingClientRect();e=X(s,"viewBox"),t=n.width,n=n.height;return{el:s,viewBox:e=i.viewBox||(e?e.split(" "):[0,0,t,n]),x:+e[0],y:+e[1],w:t,h:n,vW:e[2],vH:e[3]}}function nt(t,e){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,s=Q(A.pth(t)?t.totalLength:t,e)+"";return{original:s,numbers:s.match(i)?s.match(i).map(Number):[0],strings:A.str(t)||e?s.split(i):[]}}function ot(t){return D(t?V(A.arr(t)?t.map(j):j(t)):[],(function(t,e,i){return i.indexOf(t)===e}))}function rt(t){var e=ot(t);return e.map((function(t,i){return{target:t,id:i,total:e.length,transforms:{list:G(t)}}}))}function at(t,e){var i,s=[],n=e.keyframes;for(i in e=n?F(function(t){for(var e=D(V(t.map((function(t){return Object.keys(t)}))),(function(t){return A.key(t)})).reduce((function(t,e){return t.indexOf(e)<0&&t.push(e),t}),[]),i={},s=0;s<e.length;s++)!function(s){var n=e[s];i[n]=t.map((function(t){var e,i={};for(e in t)A.key(e)?e==n&&(i.value=t[e]):i[e]=t[e];return i}))}(s);return i}(n),e):e)A.key(i)&&s.push({name:i,tweens:function(t,e){var i,s=W(e);/^spring/.test(s.easing)&&(s.duration=E(s.easing)),A.arr(t)&&(2!==(i=t.length)||A.obj(t[0])?A.fnc(e.duration)||(s.duration=e.duration/i):t={value:t});var n=A.arr(t)?t:[t];return n.map((function(t,i){return t=A.obj(t)&&!A.pth(t)?t:{value:t},A.und(t.delay)&&(t.delay=i?0:e.delay),A.und(t.endDelay)&&(t.endDelay=i===n.length-1?e.endDelay:0),t})).map((function(t){return F(t,s)}))}(e[i],t)});return s}var ht={css:function(t,e,i){return t.style[e]=i},attribute:function(t,e,i){return t.setAttribute(e,i)},object:function(t,e,i){return t[e]=i},transform:function(t,e,i,s,n){var o;s.list.set(e,i),e!==s.last&&!n||(o="",s.list.forEach((function(t,e){o+=e+"("+t+") "})),t.style.transform=o)}};function lt(t,e){rt(t).forEach((function(t){for(var i in e){var s=Y(e[i],t),n=t.target,o=K(n,i,r=H(s),t),r=J(Q(s,r||H(o)),o);o=U(n,i);ht[o](n,i,r,t.transforms,!0)}}))}function ct(t,e){return D(V(t.map((function(t){return e.map((function(e){return function(t,e){var i=U(t.target,e.name);if(i){var s=function(t,e){var i;return t.tweens.map((function(s){var n=function(t,e){var i,s={};for(i in t){var n=Y(t[i],e);A.arr(n)&&1===(n=n.map((function(t){return Y(t,e)}))).length&&(n=n[0]),s[i]=n}return s.duration=parseFloat(s.duration),s.delay=parseFloat(s.delay),s}(s,e),o=n.value,r=A.arr(o)?o[1]:o,a=H(r),h=K(e.target,t.name,a,e),l=i?i.to.original:h;return h=H(s=A.arr(o)?o[0]:l)||H(h),h=a||h,A.und(r)&&(r=l),n.from=nt(s,h),n.to=nt(J(r,s),h),n.start=i?i.end:0,n.end=n.start+n.delay+n.duration+n.endDelay,n.easing=B(n.easing,n.duration),n.isPath=A.pth(o),n.isPathTargetInsideSVG=n.isPath&&A.svg(e.target),n.isColor=A.col(n.from.original),n.isColor&&(n.round=1),i=n}))}(e,t),n=s[s.length-1];return{type:i,property:e.name,animatable:t,tweens:s,duration:n.end,delay:s[0].delay,endDelay:n.endDelay}}}(t,e)}))}))),(function(t){return!A.und(t)}))}function dt(t,e){function i(t){return t.timelineOffset||0}var s=t.length,n={};return n.duration=s?Math.max.apply(Math,t.map((function(t){return i(t)+t.duration}))):e.duration,n.delay=s?Math.min.apply(Math,t.map((function(t){return i(t)+t.delay}))):e.delay,n.endDelay=s?n.duration-Math.max.apply(Math,t.map((function(t){return i(t)+t.duration-t.endDelay}))):e.endDelay,n}var pt,ut=0,mt=[],gt=("undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){yt.suspendWhenDocumentHidden&&(ft()?pt=cancelAnimationFrame(pt):(mt.forEach((function(t){return t._onDocumentVisibility()})),gt()))})),function(){pt||ft()&&yt.suspendWhenDocumentHidden||!(0<mt.length)||(pt=requestAnimationFrame(vt))});function vt(t){for(var e=mt.length,i=0;i<e;){var s=mt[i];s.paused?(mt.splice(i,1),e--):(s.tick(t),i++)}pt=0<i?requestAnimationFrame(vt):void 0}function ft(){return document&&document.hidden}function yt(t){var e,i=0,s=0,n=0,o=0,r=null;function a(t){var e=window.Promise&&new Promise((function(t){return r=t}));return t.finished=e}var h,l,c,d,p=(l=N(f,h=t=void 0===t?{}:t),c=at(d=N(y,h),h),c=dt(h=ct(t=rt(h.targets),c),d),d=ut,ut++,F(l,{id:d,children:[],animatables:t,animations:h,duration:c.duration,delay:c.delay,endDelay:c.endDelay}));function u(){var t=p.direction;"alternate"!==t&&(p.direction="normal"!==t?"normal":"reverse"),p.reversed=!p.reversed,e.forEach((function(t){return t.reversed=p.reversed}))}function m(t){return p.reversed?p.duration-t:t}function g(){i=0,s=m(p.currentTime)*(1/yt.speed)}function v(t,e){e&&e.seek(t-e.timelineOffset)}function _(t){for(var e=0,i=p.animations,s=i.length;e<s;){var n=i[e],o=n.animatable,r=(h=n.tweens).length-1,a=h[r];r&&(a=D(h,(function(e){return t<e.end}))[0]||a);for(var h=w(t-a.start-a.delay,0,a.duration)/a.duration,l=isNaN(h)?1:a.easing(h),c=a.to.strings,d=a.round,u=[],m=a.to.numbers.length,g=void 0,v=0;v<m;v++){var f=void 0,y=a.to.numbers[v],_=a.from.numbers[v]||0;f=a.isPath?function(t,e,i){function s(i){return t.el.getPointAtLength(1<=e+(i=void 0===i?0:i)?e+i:0)}var n=st(t.el,t.svg),o=s(),r=s(-1),a=s(1),h=i?1:n.w/n.vW,l=i?1:n.h/n.vH;switch(t.property){case"x":return(o.x-n.x)*h;case"y":return(o.y-n.y)*l;case"angle":return 180*Math.atan2(a.y-r.y,a.x-r.x)/Math.PI}}(a.value,l*y,a.isPathTargetInsideSVG):_+l*(y-_);d&&(a.isColor&&2<v||(f=Math.round(f*d)/d)),u.push(f)}var b=c.length;if(b){g=c[0];for(var x=0;x<b;x++){c[x];var S=c[x+1],A=u[x];isNaN(A)||(g+=S?A+S:A+" ")}}else g=u[0];ht[n.type](o.target,n.property,g,o.transforms),n.currentValue=g,e++}}function b(t){p[t]&&!p.passThrough&&p[t](p)}function x(t){var h=p.duration,l=p.delay,c=h-p.endDelay,d=m(t);p.progress=w(d/h*100,0,100),p.reversePlayback=d<p.currentTime,e&&function(t){if(p.reversePlayback)for(var i=o;i--;)v(t,e[i]);else for(var s=0;s<o;s++)v(t,e[s])}(d),!p.began&&0<p.currentTime&&(p.began=!0,b("begin")),!p.loopBegan&&0<p.currentTime&&(p.loopBegan=!0,b("loopBegin")),d<=l&&0!==p.currentTime&&_(0),(c<=d&&p.currentTime!==h||!h)&&_(h),l<d&&d<c?(p.changeBegan||(p.changeBegan=!0,p.changeCompleted=!1,b("changeBegin")),b("change"),_(d)):p.changeBegan&&(p.changeCompleted=!0,p.changeBegan=!1,b("changeComplete")),p.currentTime=w(d,0,h),p.began&&b("update"),h<=t&&(s=0,p.remaining&&!0!==p.remaining&&p.remaining--,p.remaining?(i=n,b("loopComplete"),p.loopBegan=!1,"alternate"===p.direction&&u()):(p.paused=!0,p.completed||(p.completed=!0,b("loopComplete"),b("complete"),!p.passThrough&&"Promise"in window&&(r(),a(p)))))}return a(p),p.reset=function(){var t=p.direction;p.passThrough=!1,p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.loopBegan=!1,p.changeBegan=!1,p.completed=!1,p.changeCompleted=!1,p.reversePlayback=!1,p.reversed="reverse"===t,p.remaining=p.loop,e=p.children;for(var i=o=e.length;i--;)p.children[i].reset();(p.reversed&&!0!==p.loop||"alternate"===t&&1===p.loop)&&p.remaining++,_(p.reversed?p.duration:0)},p._onDocumentVisibility=g,p.set=function(t,e){return lt(t,e),p},p.tick=function(t){x(((n=t)+(s-(i=i||n)))*yt.speed)},p.seek=function(t){x(m(t))},p.pause=function(){p.paused=!0,g()},p.play=function(){p.paused&&(p.completed&&p.reset(),p.paused=!1,mt.push(p),g(),gt())},p.reverse=function(){u(),p.completed=!p.reversed,g()},p.restart=function(){p.reset(),p.play()},p.remove=function(t){bt(ot(t),p)},p.reset(),p.autoplay&&p.play(),p}function _t(t,e){for(var i=e.length;i--;)R(t,e[i].animatable.target)&&e.splice(i,1)}function bt(t,e){var i=e.animations,s=e.children;_t(t,i);for(var n=s.length;n--;){var o=s[n],r=o.animations;_t(t,r),r.length||o.children.length||s.splice(n,1)}i.length||s.length||e.pause()}yt.version="3.2.1",yt.speed=1,yt.suspendWhenDocumentHidden=!0,yt.running=mt,yt.remove=function(t){for(var e=ot(t),i=mt.length;i--;)bt(e,mt[i])},yt.get=K,yt.set=lt,yt.convertPx=q,yt.path=function(t,e){var i=A.str(t)?z(t)[0]:t,s=e||100;return function(t){return{property:t,el:i,svg:st(i),totalLength:it(i)*(s/100)}}},yt.setDashoffset=function(t){var e=it(t);return t.setAttribute("stroke-dasharray",e),e},yt.stagger=function(t,e){var i=(e=void 0===e?{}:e).direction||"normal",s=e.easing?B(e.easing):null,n=e.grid,o=e.axis,r=e.from||0,a="first"===r,h="center"===r,l="last"===r,c=A.arr(t),d=c?parseFloat(t[0]):parseFloat(t),p=c?parseFloat(t[1]):0,u=H(c?t[1]:t)||0,m=e.start||0+(c?d:0),g=[],v=0;return function(t,e,f){if(a&&(r=0),h&&(r=(f-1)/2),l&&(r=f-1),!g.length){for(var y,_,b,w=0;w<f;w++)n?(_=h?(n[0]-1)/2:r%n[0],b=h?(n[1]-1)/2:Math.floor(r/n[0]),y=_-w%n[0],_=b-Math.floor(w/n[0]),b=Math.sqrt(y*y+_*_),"x"===o&&(b=-y),g.push(b="y"===o?-_:b)):g.push(Math.abs(r-w)),v=Math.max.apply(Math,g);s&&(g=g.map((function(t){return s(t/v)*v}))),"reverse"===i&&(g=g.map((function(t){return o?t<0?-1*t:-t:Math.abs(v-t)})))}return m+(c?(p-d)/v:d)*(Math.round(100*g[e])/100)+u}},yt.timeline=function(t){var e=yt(t=void 0===t?{}:t);return e.duration=0,e.add=function(i,s){var n=mt.indexOf(e),o=e.children;function r(t){t.passThrough=!0}-1<n&&mt.splice(n,1);for(var a=0;a<o.length;a++)r(o[a]);return(n=F(i,N(y,t))).targets=n.targets||t.targets,i=e.duration,n.autoplay=!1,n.direction=e.direction,n.timelineOffset=A.und(s)?i:J(s,i),r(e),e.seek(n.timelineOffset),r(n=yt(n)),o.push(n),n=dt(o,t),e.delay=n.delay,e.endDelay=n.endDelay,e.duration=n.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},yt.easing=B,yt.penner=M,yt.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};class wt extends o{constructor(){super(),this.sections=[],this.sectionsCount=0,this._index=-1,this.indexes=[],this.currentSection=null,this.eventPrefix="view",this._loop=!1,this._size=0}get index(){return this._index}set index(t){t!==this._index&&(this._index=t,this.currentSection=this.sections[t],this.trigger("indexChange",[t],!0))}get loop(){return this._loop}set loop(t){this._loop!==t&&(this._loop=t,this.update())}get size(){return this._size}set size(t){this._size!==t&&(this._size=t,this.update())}get count(){return this.sectionsCount}appendSection(t,e=!0){this.sections.push(t),this._afterSectionAdd(t,e)}prependSection(t,e=!0){this.sections.unshift(t),this._afterSectionAdd(t,e)}insertSectionAfter(t,e,i=!0){this.insertSectionAt(t,this.sections.indexOf(e),i)}insertSectionAt(t,e,i=!0){e<0||(this.sections.splice(e,0,t),this._afterSectionAdd(t,i))}removeSection(t,e=!0){return this.removeSectionByIndex(this.section.indexOf(t),e)}removeSectionByIndex(t,e=!0){if(t<0)return!1;const i=this.sections.splice(t,1);return i.unmount(),this.trigger("sectionRemove",i),e&&this.update(),i[0]}update(){this.trigger("update",null,!0)}updateSectionsIndex(){this.sections.forEach(((t,e)=>{t.index=e}))}_afterSectionAdd(t,e){this.sectionsCount=this.sections.length,t.mount(this),this.updateSectionsIndex(),e&&this.update(),this.trigger("sectionAdd",[t])}}class xt extends wt{constructor(){super(),this.element=document.createElement("div"),this.element.classList.add(`${r}-view`),this.sectionsContainer=document.createElement("div"),this.sectionsContainer.classList.add(`${r}-sections`),this.element.appendChild(this.sectionsContainer),this.sizeProp="width"}resize(){var t=this.element.offsetWidth,e=this.element.offsetHeight;return this.width=t,this.height=e,this.size=this[this.sizeProp],(t!==this.width||e!==this.height)&&(this.trigger("resize",[t,e],!0),!0)}appendTo(t){t.appendChild(this.element),this.resize(),this.trigger("elementAppend",[t],!0)}appendSection(t){this.sectionsContainer.appendChild(t.element),super.appendSection(t)}prependSection(t){this.sectionsContainer.hasChildNodes?this.sectionsContainer.insertBefore(t.element,this.sectionsContainer.firstChild):this.sectionsContainer.appendChild(t.element),super.prependSection(t)}insertSectionAt(t,e){e<0||(this.sectionsContainer.insertBefore(t.element,this.sectionsContainer.childNodes[e]),super.insertSectionAt(t,e))}removeSectionByIndex(t){return!(t<0)&&(this.sections[t].element.remove(),super.removeSectionByIndex(t))}}class St extends xt{constructor(){super(),this.activeEnteringSection=!1,this.activeFactor=.8,this.visibleIndex=0,this.visibleIndexes=[],this.scrollable=!0,this._size=0,this._position=0,this._length=0}get position(){return this._position}set position(t){this._position!==t&&(this.scrollDirection=t>this._position?"forward":"backward",this._loop?this._position=this.normalizePosition(t):this._position=t,this.update(!1),this.trigger("scroll",[this._position]))}get nominalLength(){return this._length-this._size}get length(){return this._length}get size(){return this._size}set size(t){if(this._size!==t){var e=this._size?t/this._size:1;this._size=t;let i=0;this.sections.some(((t,e)=>!(e<this.visibleIndex&&(i+=t.space,1)))),this._position=(this._position-i)*e+i}this.update()}arrange(){var t=this._length;this._length=0,this.sections.forEach(((t,e)=>{t.index=e,t.position=this._length,t.offset=this._length,t.calculateSize(this.options.get("dir"),!0),this._length+=t.size})),this._sectionsCount&&!this._loop&&(this._length-=this.sections[this._sectionsCount-1].space),this.trigger("arrange",null,!0),this._length!==t&&this.trigger("lengthChange",[this._length],this)}locateInLoop(){if(this._loop){let t,e=0,i=-1,s=0,n=0;if(this.sections.some((e=>!!e.inRangeTest(this._position)&&(t=e,!0))),t){for(let o=0;o!==this._sectionsCount;o+=1){const r=this.sections[(o+t.index)%this._sectionsCount];if(r.offset=t.position+e,e+=r.size,-1===i&&r.inRangeTest((this._position+this._size)%this._length)&&(i=(this._length-e)/2),-1!==i&&r.inRangeTest((this._position+i+this._size)%this._length)){s=(o+1+t.index)%this._sectionsCount,n=this._sectionsCount-(o+1);break}}e=0;for(let i=n-1;0<=i;--i){const n=this.sections[(i+s)%this._sectionsCount];e+=n.size,n.offset=t.position-e}this.trigger("loopUpdate",null,!0)}}}update(t=!0){this._sectionsCount=this.sections.length,t&&this.arrange(),this.locateInLoop(),this.updateStatusAndIndex(),this.trigger("update",[this._position],!0)}updateStatusAndIndex(){let t,e=[],i=[];const s=Math.round(this._position);this.sections.forEach((n=>{let o="in";n.offset+n.size<=s?o="passed":n.offset<s?o="forward"===this.scrollDirection?"leaving":"entering":n.offset-n.space>=s+this._size?o="pending":n.offset+n.size-n.space>s+this._size&&(o="forward"!==this.scrollDirection?"leaving":"entering"),n.inRangeTest(s)&&(t=n.index),"passed"!==o&&"pending"!==o&&i.push(n.index),n.status=o;var r=n.offset-s,a=n.offset+n.size-n.space-s-this._size;n.pendingOffset=r<=0?r:Math.max(0,a),this.activeEnteringSection?(a=n.size*this.activeFactor,n.active=n.offset+a>=s&&n.offset+n.size-a<=s+this._size+n.space):n.active="in"===o,n.active&&e.push(n.index)})),i=i.sort(((t,e)=>this.sections[t].offset-this.sections[e].offset)),this.visibleIndexes.toString()!==i.toString()&&(this.visibleIndexes=i,this.trigger("visibleIndexesChange",[this.visibleIndexes],!0)),this.visibleIndex!==t&&(this.visibleIndex=t,this.trigger("visibleIndexChange",[this.visibleIndex],!0)),e=e.sort(((t,e)=>this.sections[t].offset-this.sections[e].offset)),this.indexes.toString()!==e.toString()&&(this.indexes=e,this.trigger("indexesChange",[this.indexes]));var n=this.indexes[0];this.index!==n&&(this.index=n,this.trigger("indexChange",[this.index]))}normalizePositionByDirection(t,e="auto"){t=this._loop?this.normalizePosition(t):Math.min(t,this._length-this._size);let i=0;if(this._loop&&"off"!==e){var s=this._position,n=t,o=s<n?n-s:this._length-s+n,r=s<n?n-this._length-s:n-s;switch(e){case"auto":i=Math.abs(r)<Math.abs(o)?r:o;break;case"backward":i=r;break;default:i=o}return this._position+i}return t}scrollTo(t,i=!0,s=1,n="auto",o){this.killScrollAnimation(),t=this.normalizePositionByDirection(t,n),i?((o=e(e({easing:"easeOutExpo",duration:1e3*s},o),{},{complete:()=>{this.animating=!1,this.trigger("scrollToAnimationEnd",void 0,!0)}})).position=t,this.animating=!0,yt(e({targets:this},o))):this.position=t}killScrollAnimation(){this.animating&&(yt.remove(this),this.animating=!1)}goToSection(t,e=!0,i=1,s="auto",n){this.scrollTo(t.position,e,i,s,n)}goToIndex(t,e=!0,i=1,s="auto",n){t>=this.sectionsCount||this.goToSection(this.sections[t],e,i,s,n)}getIndexAtPosition(t){this._loop&&(t=this.normalizePosition(t)),t%=this._length;let e=-1;return this.sections.some(((i,s)=>!!i.inRangeTest(t,this.activeEnteringSection?this.activeFactor:1)&&(e=s,!0))),-1===e?this._loop?0:this.sectionsCount-1:e}getIndexesAtPosition(t){t=this._loop?this.normalizePosition(t):Math.min(t,this._length-this._size);var e=this.getIndexAtPosition(t),i=(t=t+this._size)>this._length?t%this._length:t;const s=[];for(let t=0;t!==this._sectionsCount;t+=1){let n;if(this._loop)n=this.sections[(t+e)%this._sectionsCount];else{if(t+e>=this._sectionsCount)return s;n=this.sections[t+e]}if(s.push(n.index),n.inRangeTest(i))return this.activeEnteringSection&&(n.position+n.size-n.size*this.activeFactor<i||s.pop()),s}return s}normalizePosition(t){return(t%=this._length)<0&&(t+=this.length),t}}class At{constructor(t){this._drag=t,this._dragLog=Math.log(t),this._x=0,this._v=0,this._startTime=0}set(t,e){this._x=t,this._v=e,this._startTime=Date.now()}x(t){return void 0===t&&(t=(Date.now()-this._startTime)/1e3),this._x+this._v*this._drag**t/this._dragLog-this._v/this._dragLog}dx(){var t=(Date.now()-this._startTime)/1e3;return this._v*this._drag**t}done(){return Math.abs(this.dx())<1}}const Ct=.001;function Et(t,e,i){return e-i<t&&t<e+i}function kt(t,e){return Et(t,0,e)}class Lt{constructor(t,e,i){this._m=t,this._k=e,this._c=i,this._solution=null,this._endPosition=0,this._startTime=0}_solve(t,e){var i=this._c,s=this._m,n=this._k,o=i*i-4*s*n;if(0==o){const n=-i/(2*s),o=t,r=e/(n*t);return{x:t=>(o+r*t)*Math.E**(n*t),dx(t){var e=Math.E**(n*t);return n*(o+r*t)*e+r*e}}}if(0<o){const n=(-i-Math.sqrt(o))/(2*s),r=(-i+Math.sqrt(o))/(2*s),a=(e-n*t)/(r-n),h=t-a;return{x:t=>h*Math.E**(n*t)+a*Math.E**(r*t),dx:t=>h*n*Math.E**(n*t)+a*r*Math.E**(r*t)}}const r=Math.sqrt(4*s*n-i*i)/(2*s),a=-i/2*s,h=t,l=(e-a*t)/r;return{x:t=>Math.E**(a*t)*(h*Math.cos(r*t)+l*Math.sin(r*t)),dx(t){var e=Math.E**(a*t),i=Math.cos(r*t);t=Math.sin(r*t);return e*(l*r*i-h*r*t)+a*e*(l*t+h*i)}}}x(t){return void 0===t&&(t=(Date.now()-this._startTime)/1e3),this._solution?this._endPosition+this._solution.x(t):0}dx(t){return void 0===t&&(t=(Date.now()-this._startTime)/1e3),this._solution?this._solution.dx(t):0}setEnd(t,e,i){if(i=i||Date.now(),t!==this._endPosition||!kt(e,Ct)){e=e||0;let s=this._endPosition;this._solution&&(kt(e,Ct)&&(e=this._solution.dx((i-this._startTime)/1e3)),s=this._solution.x((i-this._startTime)/1e3),kt(e,Ct)&&(e=0),kt(s,Ct)&&(s=0),s+=this._endPosition),this._solution&&kt(s-t,Ct)&&kt(e,Ct)||(this._endPosition=t,this._solution=this._solve(s-this._endPosition,e),this._startTime=i)}}snap(t){this._startTime=Date.now(),this._endPosition=t,this._solution={x:()=>0,dx:()=>0}}done(t){return Et(this.x(),this._endPosition,Ct)&&kt(this.dx(),Ct)}springConstant(){return this._k}damping(){return this._c}}class It{constructor(t){this._f=t||1e-4,this._endPosition=0,this._x=0,this._start=0,this._minV=700,this._maxV=1e4}x(t){return this.done()||t?this._end:(this._x+=this.dx(),this._x)}dx(){var t=Math.abs(this._start-this._end),e=.01*this._v;return e-=e*this._f,t/Math.round(t/e)}setEnd(t,e){this._end=t,this._v=e||1e3*Math.sign(this._end-this._start),Math.abs(this._v)>this._maxV&&(this._v=this._maxV*Math.sign(this._v)),Math.abs(this._v)<this._minV&&(this._v=this._minV*Math.sign(this._v))}snap(t){this._x=t,this._start=t}done(){return Math.abs(this._x-this._end)<2}}class $t{constructor(t,i,s={}){this.value=i,this.operator=t,this.activeFactor=.5,(s=e({mass:1,constant:90,damping:20,criticalDamping:!(this.priority=10)},s)).criticalDamping&&(s.damping=Math.sqrt(4*s.mass*s.constant)),this.spring=new Lt(s.mass,s.constant,s.damping)}get motion(){return this.spring}isActive(t,e){switch(this.operator){case"<=":return e<=this.value;case">=":return e>=this.value;case"<":return e<this.value;default:return e>this.value}}set(t,e,i,s){this.spring.snap(e),this.spring.setEnd(this.value,s)}getPriority(){return this.priority}}class Ot{constructor(t=[],i={}){this.activeFactor=1,this.priority=20,this.points=t,this._activeRange=null,this.options=e({mass:1,constant:90,damping:20,criticalDamping:!1,paginate:!0,loop:!1,motionMode:"spring",linearFriction:.01},i),(i=e({},this.options)).criticalDamping&&(i.damping=Math.sqrt(4*i.mass*i.constant)),"spring"===i.motionMode?this._motion=new Lt(i.mass,i.constant,i.damping):this._motion=new It(i.linearFriction)}get activeRange(){return this._activeRange}set activeRange(t){this._activeRange=t,this.length=t[1]-t[0]}get motion(){return this._motion}findPoint(t){t=this.normalizePosition(t);let e=-1;return this.points.some(((i,s)=>(e=s)===this.points.length-1||Math.abs(t-this.points[s+1][0])>Math.abs(t-i[0]))),!this.options.loop||e!==this.points.length-1||Math.abs(t-this.activeRange[1])>Math.abs(t-this.points[e][0])?e:"end"}normalizePosition(t){return this.options.loop?(t%=this.length||1)<0&&(t+=this.length):t=Math.max(0,Math.min(t,this.length)),t}isActive(t,e){return!!this.activeRange&&(!!this.options.loop||Math.max(t,e)>this._activeRange[0]&&Math.min(t,e)<this._activeRange[1])}getPriority(){return this.priority}set(t,e,i,s){let n=0;if(null===i&&(i=e),this.options.paginate&&0!==s){let e=this.findPoint(t);if(this.options.loop?(n=Math.floor(t/this.length),"end"===e&&(e=0,n+=1)):t=this.normalizePosition(t),t=this.points[e],0<s)i=n*this.length+t[0]+t[1];else if(s<0){let s=e-1;-1===s&&(s=this.points.length-1),i=n*this.length+t[0]-this.points[s][1]}this.options.loop||(i=this.normalizePosition(i))}else{let t=this.findPoint(i);this.options.loop?(n=Math.floor(i/this.length),"end"===t&&(t=0,n+=1)):i=this.normalizePosition(i),i=n*this.length+this.points[t][0]}this._motion.snap(e),this._motion.setEnd(i,s)}}class Tt{constructor(){this._options={},this._defaults={},this._observers={},this._aliases={},this._waitings={}}inject(t){Object.keys(t).forEach((e=>{this._options[e]instanceof Tt?this._options[e].inject(t[e]):this.set(e,t[e],!0)||(this._waitings[e]=t[e])}))}register(t,e){if("object"!=typeof t)return Array.isArray(e)||"object"!=typeof e?this._defaults[t]=e:(this._options[t]=new Tt,this._options[t].register(e)),this._checkWaitingList(t),t;{const e=Object.keys(t);return e.forEach((e=>{this.register(e,t[e])})),e}}chain(t,e){this._aliases[t]&&(t=this._aliases[t]);const i=this._isNested(t);if(i)i.options.chain(i.name,e);else{if(this._options[t]instanceof Tt){const i=this._options[t];Object.assign(e._aliases,i._aliases),Object.assign(e._waitings,i._waitings),Object.assign(e._defaults,i._defaults),Object.keys(i._observers).forEach((t=>{Object.prototype.hasOwnProperty.call(e._observers,t)?e._observers[t].concat(i._observers[t]):e._observers[t]=i._observers[t]})),Object.keys(i._options).forEach((t=>{i._options[t]instanceof Tt&&e._options[t]?i.chain(t,e._options[t]):e._options[t]=i._options[t]})),e.register(e._defaults)}this._options[t]=e}}alias(t,e){if(this.has(t))throw new Error(`"${t}" is already an option.`);if(this._aliases[t])throw new Error(`"${t}" is already created.`);if(!this.has(e))throw new Error(`"${t}" is not registered. Register the option before defining any alias.`);this._aliases[t]=e,this._checkWaitingList(t)}has(t){const e=this._isNested(t);return e?e.options.has(e.name):h.call(this._options,t)||h.call(this._defaults,t)}is(t,e){return this.get(t)===e}get(t){if(Array.isArray(t)){const e={};return t.forEach((t=>{e[t]=this.get(t)})),e}this._aliases[t]&&(t=this._aliases[t]);const e=this._isNested(t);return e?e.options.get(e.name):(h.call(this._options,t)?this._options:this._defaults)[t]}set(t,e,i=!1){if("object"==typeof t)return Object.keys(t).forEach((e=>this.set(e,t[e],i))),!0;this._aliases[t]&&(t=this._aliases[t]);const s=this._isNested(t);return s?s.options.set(s.name,e,i):!!this.has(t)&&("object"==typeof e&&this._options[t]instanceof Tt?this._options[t].set(e):this._options[t]=e,this._internalChange||i||(this._observers[t]&&this._observers[t].forEach((i=>i(t,e))),this._observers["*"]&&this._observers["*"].forEach((t=>t("*",e)))),!0)}observe(t,e){if(Array.isArray(t))t.forEach((t=>this.observe(t,e)));else{if("*"!==t&&!this.has(t))throw new Error(`This option: "${t}" is not registered.`);const i=this._isNested(t);if(i)i.options.observe(i.name,e);else{const i=this.get(t);i instanceof Tt&&i.observe("*",e),this._observers[t]||(this._observers[t]=[]),this._observers[t].push(e)}}}dontObserve(t,e){if(Array.isArray(t))t.forEach((t=>this.dontObserve(t,e)));else{const i=this._isNested(t);if(i)i.options.dontObserve(i.name,e);else{const i=this._observers[t];i.length&&i.splice(i.indexOf(e),1)}}}internalChange(){this._internalChange=!0}endInternalChange(){this._internalChange=!1}aliasesOf(t){return Object.keys(this._aliases).filter((e=>this._aliases[e]===t))}reset(t,e){if("*"!==t){this._internalChange=e;const i=this._isNested(t);if(i)i.options.reset(i.name,e);else{const i=this._options[t];void 0!==i&&(i instanceof Tt?i.reset("*",e):this.set(t,this._defaults[t])),this._internalChange=!1}}else Object.keys(this._options).forEach((t=>this.reset(t,e)))}toObject(){const t={};return Object.keys(e(e({},this._defaults),this._options)).forEach((e=>{this._options[e]instanceof Tt?t[e]=this._options[e].toObject():t[e]=this.get(e)})),t}list(){const t=[];return Object.keys(e(e({},this._defaults),this._options)).forEach((e=>{this._options[e]instanceof Tt?t.push({name:e,value:this._options[e].list()}):t.push({name:e,value:this._options[e],default:this._defaults[e],aliases:this.aliasesOf(e).toString(),observers:this._observers[e]})})),t}_checkWaitingList(t){void 0!==this._waitings[t]&&(this.set(t,this._waitings[t],!0),this._waitings[t]=void 0)}_isNested(t){var e=t.indexOf(".");if(-1===e)return!1;var i=this.get(t.slice(0,e));return i instanceof Tt&&{name:t.slice(e+1),options:i}}}class Pt extends o{constructor(t,e,i){super(),this.view=e,this.composer=t,this.options=new Tt,this.options.register({animate:!0,duration:1,easing:void 0,start:0,checkLoop:!0}),this.options.inject(i),this.currentIndex=0,this.targetIndex=0,this.count=-1,this.currentSectionIndex=0,this.targetSectionIndex=0,this.currentSectionIndexes=[],this.targetSectionIndexes=[]}init(){this.composer.on("init",(()=>{this.options.get("start")&&this.goToIndex(this.options.get("start"),{animate:!1},!0)}),1e3)}next(t){t=e(e({},this.options.toObject()),t),this.targetIndex+1>=this.count?t.checkLoop&&this.view.options.get("loop")?this.goToIndex(0,t):this.trigger("nextBlock"):this.goToIndex(this.targetIndex+1,t)}previous(t){t=e(e({},this.options.toObject()),t),this.targetIndex-1<0?t.checkLoop&&this.view.options.get("loop")?this.goToIndex(this.count-1,t):this.trigger("previousBlock"):this.goToIndex(this.targetIndex-1,t)}goToIndex(t,e,i){}update(){this.updateTargetIndex(this.view.index),this.updateCurrentIndex()}checkIndex(t,e=!0){return-1===this.count&&this.updateCount(),e?Math.max(0,Math.min(t,this.count-1)):0<=t&&t<this.count}updateCount(){}updateTargetIndex(t){[this.targetSectionIndex]=this.targetSectionIndexes,this.targetIndex!==t&&(this.targetIndex=t,this.trigger("changeStart",[this.targetIndex]),this.trigger("targetIndexChange",[this.targetIndex]))}updateCurrentIndex(){this.currentSectionIndex=this.view.index,this.currentSectionIndexes=this.view.indexes,this.targetIndex!==this.currentIndex&&(this.currentIndex=this.targetIndex,this.trigger("changeEnd",[this.currentIndex]),this.trigger("currentIndexChange",[this.currentIndex]))}}class Mt{constructor(t){this._drag=t,this._x=0,this._startTime=0}set(t,e){this._x=t,this._end=e}x(t){return t?this._end:(this._x+=(this._end-this._x)*this._drag,this._x)}dx(){return this._x-this._end}done(){return Math.abs(this.dx())<1}}class Bt extends o{constructor(t=.01){super(),this._position=0,this.animating=!1,this._constraints=[],this._friction=new At(t),this._frictionVal=t,this.startPosition=null,this._tickerId=null,this._tick=this._tick.bind(this),this.disabled=!1,this.eventPrefix="slicker"}get friction(){return this._frictionVal}set friction(t){this.disabled||t===this._frictionVal||(this._friction=new At(t),this._frictionVal=t)}get position(){return this._position}set position(t){this.disabled||t===this._position||(null===this.startPosition&&(this.startPosition=t),this._currentConstraint=this.findConstraint(t),this._updatePosition(t))}moveToPosition(t,e=.5){this.disabled||this._position===t||(null===this.startPosition&&(this.startPosition=t),this._velocity=NaN,this._activeMotion=new Mt(e),this._activeMotion.set(this._position,t),this._startAnimation())}get velocity(){return this._activeMotion?this._activeMotion.dx():0}set velocity(t){if(!this.disabled&&this._velocity!==t){if(this._velocity=t,this._friction.set(this._position,this._velocity),this._activeMotion=this._friction,t=this._friction.x(120),this._targetConstraint=this.findConstraint(t)||null,this._targetConstraint)return this._currentConstraint=null,this._animToConstraint(this._targetConstraint,this._position,t,this._velocity),void(this.startPosition=null);this._startAnimation(),this.trigger("push",[this._velocity],!0)}}stop(){this.startPosition=this._position,this.animating=!1,this._tick(),this.trigger("motionInterrupt",null,!0)}release(t){!this.disabled&&this._currentConstraint&&(t?this._goToConstraint(this._currentConstraint,this._position,null,this._velocity):(this._animToConstraint(this._currentConstraint,this._position,null,this._velocity),this.trigger("motionToConstraint",null,!0)))}addConstraint(t){(t.slicker=this)._constraints.push(t)}removeConstraint(t){-1!==(t=this._constraints.indexOf(t))&&(this._constraints=this._constraints.splice(t,1))}removeConstraints(){this._currentConstraint=null,this._constraints=[]}findConstraint(t){if(!this._constraints.length)return!1;const e=this._constraints.filter((e=>e.isActive(this._position,t,this.velocity)));return!!e.length&&e.sort(((e,i)=>{var s=i.getPriority(this._position,t,this.velocity),n=e.getPriority(this._position,t,this.velocity);return"important"===s?1:"important"===n?-1:i.priority-e.priority}))[0]}_updatePosition(t){var e=t-this._position;this._position=t,this._currentConstraint&&(this._position-=(1-this._currentConstraint.activeFactor)*e),this.trigger("positionChange",[this._position],!0)}_startAnimation(){var t;this.animating||(this.animating=!0,this.trigger("animationStart",null,!0),this._activeMotion!==this._friction&&this.trigger("constraintAnimationStart",null,!0),t=Math.round(100*this._activeMotion.x(120))/100,this.endPosition!==t&&this.trigger("endPositionChange",[t],!0),this._tick())}_tick(){if(this.animating){if(this._activeMotion.done())return this.animating=!1,this._updatePosition(Math.round(100*this._position)/100),this._tick(),this.trigger("animationEnd",null,!0),void(this._activeMotion!==this._friction&&this.trigger("constraintAnimationEnd",null,!0));this._updatePosition(this._activeMotion.x()),this._tickerId=requestAnimationFrame(this._tick)}else cancelAnimationFrame(this._tickerId),this._velocity=0,this._targetConstraint=null,this._currentConstraint=this.findConstraint(this._position)}_animToConstraint(t,e,i,s){t.set(this.startPosition,e,i,s),this._activeMotion=t.motion,this._startAnimation()}_goToConstraint(t,e,i,s){t.set(this.startPosition,e,i,s),t=Math.round(100*t.motion.x(120))/100,this.trigger("endPositionChange",[t],!0),this.position=t,this.trigger("animationEnd",null,!0)}}class zt extends Pt{constructor(t,e,i={}){super(t,e,i),this.options.register({direction:"auto",slicker:!0,slickerFriction:.01,updateIndexOnDrag:"auto",boundariesSpring:{mass:1,constant:90,damping:20,criticalDamping:!1},snapping:{mass:1,constant:90,damping:20,criticalDamping:!0}}),this.options.inject(i),this.updateCurrentIndex=this.updateCurrentIndex.bind(this),this.updateCount=this.updateCount.bind(this),this.view.on("arrange",this.updateCount,this)}setupSlicker(){this.options.get("slicker")&&(this.updateSlicker=this.updateSlicker.bind(this),this.slicker=new Bt,this.slicker.on("positionChange",this._onSlickerValueChange,this),this.slicker.on("endPositionChange",this._onSlickerEndValueChange,this),this.slicker.on("animationEnd",this.updateCurrentIndex,this),this.slicker.on("push",(()=>this.trigger("slickChanged"))),this.slicker.on("motionInterrupt",(()=>this.trigger("slickChanged"))),this.options.observe(["slickType","boundariesSpring","snapping"],this.updateSlicker),this.options.observe("slickerFriction",((t,e)=>{this.slicker.friction=e})),this.view.options.observe("loop",this.updateSlicker),this.view.on("resize, sectionAdd, sectionRemove, lengthChange",this.updateSlicker),this.view.on("scrollToAnimationEnd",this.updateCurrentIndex,this),!1===this.view.isSafeForInteractions&&(this.slicker.disabled=!0),this.view.on("unsafeInteractions",(()=>{this.slicker.disabled=!0})),this.view.on("safeInteractions",(()=>{this.slicker.disabled=!1})),this.updateSlicker())}next(t){super.next(e({direction:"forward"},t))}previous(t){super.previous(e({direction:"backward"},t))}drag(t){this.slicker&&(this.slicker.position+=t*(this.view.dragFactor||1),this._updateIndexesOnDrag&&(this._onSlickerEndValueChange(null,this.slicker.position),this.updateCurrentIndex()))}push(t){this.slicker&&(this.slicker.velocity=t)}release(t){this.slicker&&(this.slicker.position=this.view.position,this.slicker.release(t))}hold(){var t;null!==(t=this.slicker)&&void 0!==t&&t.stop()}goToPosition(t,e){}update(){this.updateSlicker(),this.updateTargetIndex(this.view.index,this.slicker.position),this.updateCurrentIndex()}updateCount(){}updateSlicker(){}_onSlickerValueChange(){}_onSlickerEndValueChange(t,e){}}class Dt extends zt{constructor(t,e,i={}){super(t,e,i),this.options.register({slickType:"slide",paginate:!1}),this.options.inject(i),this.updateTargetIndex=this.updateTargetIndex.bind(this),this.options.observe("paginate",this.updateCount),this.updateCount(),this.setupSlicker()}setupSlicker(){this.options.get("slicker")&&(this.updateSlicker=this.updateSlicker.bind(this),this.options.observe(["paginate","slickerFriction"],this.updateSlicker),super.setupSlicker())}push(t){this.view.killScrollAnimation(),super.push(t)}release(t){this.view.killScrollAnimation(),super.release(t)}hold(){this.view.animating&&(this.view.killScrollAnimation(),this.slicker&&(this.slicker.position=this.view.position)),super.hold()}goToIndex(t,i,s=!1){if(t=this.checkIndex(t),s||t!==this.targetIndex){const n={index:t};(i=e(e({},this.options.get(["animate","direction","duration","paginate","easing"])),i)).easing&&(n.easing=i.easing),s=this.options.get("paginate")?t*this.view.size:this.view.sections[t].position,!1!==this.view.scrollTo(s,i.animate,i.duration,i.direction,n)&&this.updateTargetIndex(t,s),i.animate||this.updateCurrentIndex()}}goToPosition(t,i){var s=this.checkIndex(this.view.getIndexAtPosition(t));const n={};if((i=e(e({},this.options.get(["animate","direction","duration","paginate","ease"])),i)).ease&&(n.ease=i.ease),this.updateTargetIndex(s,t),i.useFriction)return this.slicker.position=this.view.normalizePositionByDirection(this.view.position),void this.slicker.moveToPosition(this.view.normalizePositionByDirection(t),i.friction);this.view.scrollTo(t,i.animate,i.duration,i.direction,n),i.animate||this.updateCurrentIndex()}update(){this.updateSlicker(),this.updateTargetIndex(this.view.index,this.slicker.position),this.updateCurrentIndex()}updateTargetIndex(t,e){this.targetSectionIndexes=this.view.getIndexesAtPosition(e),super.updateTargetIndex(t)}updateCurrentIndex(){this.slicker&&(this.slicker.position=this.view.position),super.updateCurrentIndex()}updateCount(){var t=this.options.get("paginate")?Math.ceil(this.view.length/this.view.size):this.view.count;t!==this.count&&(this.count=t,this.trigger("countChange",[this.count]))}updateSlicker(){const t=this.options.get(["slickType","slickerFriction","boundariesSpring","snapping","paginate","updateIndexOnDrag"]);var i,s=this.view.options.get("loop");if(this.slicker.stop(),this.slicker.removeConstraints(),this.slicker.friction=t.slickerFriction,this._updateIndexesOnDrag=t.updateIndexOnDrag,"auto"===this._updateIndexesOnDrag&&(this._updateIndexesOnDrag="scroll"===t.slickType),"scroll"!==t.slickType){let i,o=[];if(t.paginate){i=[0,this.count*this.view.size];for(let t=0;t!==this.count;t+=1)o.push([t*this.view.size,this.view.size])}else s?(i=[0,this.view.length],o=this.view.sections.map((t=>[t.position,t.size]))):(i=[0,this.view.nominalLength],this.view.sections.some((t=>t.position<this.view.nominalLength?(o.push([t.position,t.size]),!1):(o.push([this.view.nominalLength,this.view.size]),!0))));var n=e(e({loop:s,paginate:"slide"===t.slickType},t.snapping.toObject()),{},{linearFriction:t.slickerFriction,motionMode:"animroll"===this.composer.options.get("view")?"linear":"spring"});const r=new Ot(o,n);r.activeRange=i,this.slicker.addConstraint(r)}s||(i=t.boundariesSpring.toObject(),n=new $t("<",0,i),s=t.paginate?(this.count-1)*this.view.size:this.view.nominalLength,i=new $t(">",s,i),this.slicker.addConstraint(n),this.slicker.addConstraint(i)),this.release(!0)}_onSlickerValueChange(){this.view.position=this.slicker.position}_onSlickerEndValueChange(t,e){let i;i=this.options.get("paginate")?Math.ceil(Math.round(e/this.view.size))%this.count:this.view.getIndexAtPosition(e),this.updateTargetIndex(i,e)}}class Vt{constructor(t,e=!0){this._dependencies=1,this.action=t,this.noMoreExec=e}hold(){this._dependencies+=1}charge(t){this._dependencies+=t}exec(){if(this._executed){if(!this.noMoreExec)return!0;console.warn("The action is triggered before.")}return--this._dependencies,this._dependencies<=0&&(this._executed=!0,this.action(),!0)}isExecuted(){return this._executed}}const jt=[],Rt=new Map,Wt=new Map,Nt=new Map,Ft=new Map;class Ht extends o{static registerView(t,e){if(Rt.has(t))throw new Error(`${t} is already registered.`);Rt.set(t,e)}static registerSection(t,e){if(Ft.has(t))throw new Error(`${t} is already registered.`);Ft.set(t,e)}static registerAddon(t,e){if(Wt.has(t))throw new Error(`${t} is already registered.`);Wt.set(t,e)}static registerControl(t,e){if(Nt.has(t))throw new Error(`${t} is already registered.`);Nt.set(t,e)}static get views(){return Rt}static get addons(){return Wt}static get controls(){return Nt}setup(t,e={}){this.element=t,this.element.classList.add(`${r}-content-composer`),this.options=new Tt,this.options.register({sectionSelector:`.${r}-section`,excludeAddons:[],navigator:{},viewOptions:{},view:"basic",sectionType:"block",sectionFit:"cover",disableAnimations:!1}),this.trigger("beforeOptions",[e]),this.options.inject(e),this.initTrigger=new Vt(this._init.bind(this)),this.readyTrigger=new Vt(this._ready.bind(this)),this.element.classList.add(`${r}-on-setup`),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this._domReady.bind(this)):this._domReady()}_domReady(){this.trigger("beforeDomReady");var t=this.element;"object"==typeof t&&t.nodeName?this.element=t:"string"==typeof t&&(this.element=document.querySelector(t)),this.element&&(this._domReady=!0,this.trigger("domReady",[this.element]),this._setupAddons(),this.element.classList.remove(`${r}-on-setup`),this.element.classList.add(`${r}-dom-ready`),this.initTrigger.exec())}_init(){this.trigger("beforeInit"),this._setupView(),this._setupLayout(),this._setupNavigator(),this._setupSections(),this.trigger("init"),this.element.classList.remove(`${r}-before-init`),this.element.classList.add(`${r}-init`),this.readyTrigger.exec()}_ready(){this.element.classList.add(`${r}-ready`)}_setupAddons(){this.addons={};const t=this.options.get("excludeAddons");this.trigger("beforeSetupAddons"),Wt.forEach(((e,i)=>{-1===t.indexOf(i)&&(this.addons[i]=new e(this))})),this.trigger("afterSetupAddons")}_setupView(){this.trigger("beforeViewSetup");const t=Rt.get(this.options.get("view"));this.view=new t,this.options.chain("viewOptions",this.view.options),(this.view.parentEmitter=this).view.appendTo(this.element),this.trigger("viewSetup",[this.view])}_setupLayout(){this.trigger("beforeLayoutSetup"),this.layoutController=new v(this,this.view,this.options),(this.layoutController.parentEmitter=this).trigger("layoutSetup",[this.layoutController])}_setupNavigator(){this.trigger("beforeNavigatorSetup"),(this.view instanceof St||this.view.scrollable)&&(this.hasScrollView=!0,this.navigator=new Dt(this,this.view),this.options.chain("navigator",this.navigator.options),(this.navigator.parentEmitter=this).navigator.init()),this.trigger("navigatorSetup",[this.navigator])}_setupSections(){this.trigger("beforeSectionsSetup");var t=this.options.get("sectionSelector");const e=Ft.get(this.options.get("sectionType"));this.element.querySelectorAll(`:scope > ${t}`).forEach((t=>{const i=new e(t,this);(i.parentEmitter=this).view.appendSection(i,!1)})),this.view.sections.length&&(this.view.update(),this.navigator.update()),this.trigger("sectionsSetup")}}i(Ht,"initAll",(()=>{const{depicterSetups:t=[]}=window;t.length&&t.forEach((t=>{jt.includes(t)||(jt.push(t),t())}))}));var Yt=Object.freeze({__proto__:null,default:Ht});const Xt=["type"],qt=["type"],Zt=["type"],Ut=["segmentBy","staggerDirection","delay","duration","overlap","segmentAnimType"],Gt=["type"],Kt=["duration","delay","easing","clipParams"],Jt=["selector","focalPoint","set","scale"],Qt=(t,e)=>{var i;return null!==(i=t.parentElement)&&void 0!==i&&i.insertBefore(e,t),e.appendChild(t),e},te=t=>{t.replaceWith(...t.childNodes)},ee=t=>Array.from(t.childNodes).reduce(((t,e)=>{var i;return e.nodeType!==Node.TEXT_NODE&&null!==(i=e.childNodes)&&void 0!==i&&i.length?[...t,...ee(e)]:e.nodeType===Node.TEXT_NODE?[...t,e]:t}),[]),ie=(t,e)=>{const i=window.getComputedStyle(t)[e];if(!i)return null;if(/px/.test(i.toString())){var s=t.style.display;return t.style.display="none",e=window.getComputedStyle(t)[e],t.style.display=s,e}return i},se={duration:1e3,easing:"linear",delay:0},ne=(t,i={})=>{var{duration:s,delay:n,easing:o,begin:r,complete:i}=e(e({},se),i);const a=(t=>{const e=t.style.cssText;return()=>{t.style.cssText=e}})(t);return{parts:{offset:n,params:{targets:t,duration:s,easing:o,begin:r,complete:i}},reset:()=>{a(),yt.remove(t)}}};function oe(t,e){return t.hasOwnProperty(e)}const re=e(e({},se),{},{movement:100,direction:"left",fade:!0,perspective:2e3,x:null,y:null,z:null}),ae={top:"Y",bottom:"Y",left:"X",right:"X",front:"Z",back:"Z"},he=t=>(i,s={})=>{var{movement:n,direction:o,fade:r,perspective:a}=e(e({},re),s),{parts:{params:h,offset:l},reset:c}=ne(i,s);let d={};var p="in"===t;if("custom"===o){var{x:u,y:m,z:s}=s;let t=u,i=m,n=s,o="px",r="px",a="px";u&&oe(u,"value")&&(t=u.value,o=u.unit),m&&oe(m,"value")&&(i=m.value,r=m.unit),s&&oe(s,"value")&&(n=s.value,a=s.unit),d=e(e(e({},u&&{translateX:p?[`${t}${o}`,0]:`${t}${o}`}),m&&{translateY:p?[`${i}${r}`,0]:`${i}${r}`}),s&&{translateZ:p?[`${n}${a}`,0]:`${n}${a}`})}else{let t=n,e="px";oe(n,"value")&&(t=n.value,e=n.unit),n=["left","top","back"].includes(o)?`-${t}${e}`:`${t}${e}`,d[`translate${ae[o]}`]=p?[n,0]:n}return d.translateZ&&yt.set(i,{perspective:a}),r&&(d.opacity=p?[0,1]:0),{parts:{offset:l,params:e(e({},h),d)},reset:c}};var le=he("in"),ce=he("out"),de=e({},re);const pe=t=>(i,s={})=>{var{skew:n,scale:o,rotate:r,rotate3d:a,transformOrigin:h,skewX:l,skewY:c,rotateX:d,rotateY:p,rotateZ:u}=s,{reset:m,parts:{params:g,offset:v}}=he(t)(i,s);let f={};var y,_="in"===t;return f=a?(({x:i,y:s,z:a}=a),e(e(e(e({},f),void 0!==i&&{rotateX:_?[i,0]:i}),void 0!==s&&{rotateY:_?[s,0]:s}),void 0!==a&&{rotateZ:_?[a,0]:a})):([d,p,u]=[d,p,u],e(e(e(e({},f),void 0!==d&&{rotateX:_?[d,0]:d}),void 0!==p&&{rotateY:_?[p,0]:p}),void 0!==u&&{rotateZ:_?[u,0]:u})),void 0!==r&&(f.rotate=_?[r,0]:r),f=n?(({x:r,y:n}=n),e(e(e({},f),void 0!==r&&{skewX:_?[r,0]:r}),void 0!==n&&{skewY:_?[n,0]:n})):e(e(e({},f),void 0!==l&&{skewX:_?[l,0]:l}),void 0!==c&&{skewY:_?[c,0]:c}),o&&("number"==typeof o?f.scale=_?[o,1]:o:(({x:o,y:y}=o),f=e(e(e({},f),void 0!==o&&{scaleX:_?[o,1]:o}),void 0!==y&&{scaleY:_?[y,1]:y}))),h&&(({x:_,y:y,z:h}=h),h=`${_||0} ${y||0} ${h||0}`,f.transformOrigin=[h,h]),{parts:{offset:v,params:e(e({},g),f)},reset:m}};var ue=pe("in"),me=pe("out");e({},re);var ge=t=>(e,i={})=>{const s=Qt(e,document.createElement("div"));s.classList.add("animator-mask-container");var n=ie(e,"width"),o=ie(e,"height");null!==n&&"auto"!==n&&(e.style.width="100%",s.style.width=n),null!==o&&"auto"!==o&&(e.style.height="100%",s.style.height=o),s.style.overflow="hidden";const{reset:r,parts:{params:a,offset:h}}=he(t)(e,i);return{parts:{offset:h,params:a},reset:()=>{r(),te(s)}}},ve=ge("in"),fe=ge("out");e({},de);var ye=t=>(e,i={})=>{const s=Qt(e,document.createElement("div"));s.classList.add("animator-mask-container");var n=ie(e,"width"),o=ie(e,"height");null!==n&&"auto"!==n&&(e.style.width="100%",s.style.width=n),null!==o&&"auto"!==o&&(e.style.height="100%",s.style.height=o),s.style.overflow="hidden";const{reset:r,parts:{params:a,offset:h}}=pe(t)(e,i);return{parts:{offset:h,params:a},reset:()=>{r(),te(s)}}},_e=ye("in"),be=ye("out");const we=(t,e,i,s)=>{if(oe(i=ri[i],t)){const n=i[t];var{parts:e,reset:s}=n(e,s);return{reset:s,parts:e}}throw new Error("Animation type not found.")},xe={coverInAnim:e({type:"moveAndTransform"},de),coverOutAnim:e({type:"moveAndTransform"},de),targetAnim:{type:"none"}};var Se=t=>(i,n)=>{var o=e(e({},xe),n),{coverColor:r,duration:a,delay:h=0,coverInAnim:{type:l},coverOutAnim:{type:c}}=o,d=s(o.coverInAnim,Xt);n=s(o.coverOutAnim,qt);const p=document.createElement("div"),u=document.createElement("div");p.classList.add("animator-mask-container"),Qt(i,p),p.append(u),Object.assign(p.style,{position:"relative",overflow:"hidden",display:"inline-block",verticalAlign:"middle"}),Object.assign(u.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",background:r});const{reset:m,parts:g}=we(l,u,"in",e(e({},d),{},{duration:a?a/2:d.duration,delay:a?h:d.delay}));var{offset:r=0,params:l}=g;d=r+l.duration;let v=o.targetAnim;(r="none"===v.type)&&(v={type:"move",fade:!0,movement:0,direction:"left"});var l=v.type;o=s(v,Zt);const{reset:f,parts:y}=we(l,i,t,e(e({},o),{},{duration:r?1:a?a/2:o.duration,delay:a?h+a/2:d+(o.delay||0)}));let _=[],b=null;o.fade||(({reset:r,parts:i}=we("fade",i,t,{fade:!0,movement:0,direction:"left",duration:1,delay:a?h+a/2:d+(o.delay||0)})),_=[i],b=r);const{reset:w,parts:x}=we(c,u,"out",e(e({},n),{},{duration:a?a/2:o.duration,delay:a?h+a/2:d+(n.delay||0)}));return{parts:[g,..._,y,x],reset:()=>{var t;m(),w(),f(),null!==(t=b)&&void 0!==t&&t(),u.remove(),te(p),p.remove(),console.log("reset")}}},Ae=Se("in"),Ce=Se("out");const Ee=(t,e,i,s,n)=>t.map(((t,o)=>{var r=" "!==t;return n&&!r||!t?null:`<${e}${r&&i?` class="${i} ${0===o?"first":""}"`:""}${r&&s?` style="${s}"`:""}>${t}</${e}>`})).filter((t=>null!==t)),ke=e(e(e({segmentBy:"letter",staggerDirection:"left",overlap:.05,segmentAnimType:"moveAndTransform"},se),de),xe);var Le=t=>(i,n)=>{const o=e(e({},ke),n),{segmentBy:r,staggerDirection:a,delay:h=0,duration:l=1e3,overlap:c=.05,segmentAnimType:d}=o,p=s(o,Ut);let u=ee(i).filter((t=>" "!==t.textContent));const m=1<(i=u).length?i.reduce(((t,e)=>t===e?t:((t,e)=>{const i=new Range;return t.contains(e)?t:e.contains(t)?e:(i.setStartBefore(t),i.setEndAfter(e),i.collapsed&&(i.setStartBefore(e),i.setEndAfter(t)),i.commonAncestorContainer)})(t,e)),i[0]):i[0].parentElement;var g;const v=(i=m,g=document.createElement("div"),[...i.childNodes].forEach((t=>g.appendChild(t))),i.appendChild(g),g),f=v.cloneNode(!0);m.appendChild(f),v.style.display="none",i=window.getComputedStyle(m).textTransform,u=ee(f).filter((t=>" "!==t.textContent));const y=document.createElement("span");u.forEach((t=>{y.innerHTML=((t,e)=>{const i=["letter","word","line"],s=i.slice(i.indexOf(t)),n="word"===t,o="letter"===t,r=[];if(s.includes("line")){const t=(t=>{const e=null==t?void 0:t.textContent;if(!t||!t.parentNode||3!==t.nodeType||!e)return[];const i=document.createRange(),s=[];i.setStart(t,0);let n=i.getBoundingClientRect().bottom,o=1,r=0;for(var a;o<=e.length;)i.setStart(t,o),o<e.length-1&&i.setEnd(t,o+1),(a=i.getBoundingClientRect().bottom)>n&&(s.push(e.substr(r,o-r)),n=a,r=o),o+=1;return s.push(e.substr(r)),s})(e);let i=[];s.includes("word")?t.forEach((t=>{const e=(t=>t.split(/(\s+)/))(t);let r=[];s.includes("letter")?e.forEach((t=>{t=(t=>t.split(""))(t),t=Ee(t,"span",o?"animator-letter":"",o?"display:inline-block":"").join(""),r.push(t)})):r=e,i.push(Ee(r,"span",n?"animator-word":"",n?"display:inline-block":"").join(""))})):i=t,r.push(Ee(i,"div","animator-line","white-space: nowrap; display: inline-block;").join(""))}return r.join("")})(r,t),t.replaceWith(...y.childNodes)})),y.remove();const _=[],b=[],w=[...f.querySelectorAll(`.animator-${r}`)];let x="left"===a?w:w.reverse();"shuffle"===a&&(x=(t=>{const e=t;let i=t.length;for(var s;0!==i;)s=Math.floor(Math.random()*i),--i,[e[i],e[s]]=[e[s],e[i]];return e})(x));const S=l/((x.length-1)*(1-c)+1);return x.forEach(((i,s)=>{var{parts:i,reset:s}=we(d,i,t,e(e({},p),{},{delay:s*(1-c)*S+h,duration:S}));Array.isArray(i)?_.push(...i):_.push(i),b.push(s)})),f.querySelectorAll(".animator-mask-container").forEach((t=>{t.style.verticalAlign="sub",t.style.display="inline-block"})),"capitalize"===i&&"letter"===r&&(f.style.textTransform="initial",f.querySelectorAll(".animator-letter.first").forEach((t=>{t.style.textTransform="capitalize"}))),{parts:_,reset:()=>{var t;b.forEach((t=>t())),f.remove(),[...(t=v).childNodes].forEach((e=>t.parentElement.appendChild(e))),t.remove()}}},Ie=Le("in"),$e=Le("out");e({},se);var Oe=t=>(i,s={})=>{var{parts:{params:n,offset:i},reset:s}=ne(i,s);const o={};return o.opacity="in"===t?[0,1]:0,{parts:{offset:i,params:e(e({},n),o)},reset:s}},Te=Oe("in"),Pe=Oe("out");const Me=t=>"number"==typeof t?`${t}px`:`${t.value}${t.unit}`,Be={top:{bottom:{value:100,unit:"%"},left:{value:0,unit:"%"}},bottom:{top:{value:100,unit:"%"},left:{value:0,unit:"%"}},left:{top:{value:0,unit:"%"},right:{value:100,unit:"%"}},right:{top:{value:0,unit:"%"},left:{value:100,unit:"%"}}},ze=e({},se),De=t=>(i,s)=>{var{direction:n,directionsValue:o={top:0,right:0,bottom:0,left:0}}=e(e({},ze),s),o=n?Be[n]:o;const{parts:{params:r,offset:a},reset:h}=ne(i,s),l={};var{from:s,to:o}=((t,e)=>{const i=Object.keys(t),s={};i.forEach((i=>{var n=((t,e)=>{var i="number"==typeof t?t:t.value;return t="number"==typeof t?"px":t.unit,{from:Me({value:"in"===e?i:0,unit:t}),to:Me({value:"in"===e?0:i,unit:t})}})(t[i],e);s[i]=n}));var{top:n,right:o,bottom:r,left:a}=s;return{from:`inset(${(null==n?void 0:n.from)||0} ${(null==o?void 0:o.from)||0} ${(null==r?void 0:r.from)||0} ${(null==a?void 0:a.from)||0})`,to:`inset(${(null==n?void 0:n.to)||0} ${(null==o?void 0:o.to)||0} ${(null==r?void 0:r.to)||0} ${(null==a?void 0:a.to)||0})`}})(o,t);return i.style.clipPath=s,l.clipPath=[s,o],{parts:{offset:a,params:e(e({},r),l)},reset:()=>{i.style.removeProperty("clip-path"),h()}}};var Ve=De("in"),je=De("out");const Re={tl:"left top",tr:"right top",tc:"center top",ml:"left center",mc:"center center",mr:"right center",bl:"left bottom",br:"right bottom",bc:"center bottom"},We=e({},se),Ne=t=>(i,s)=>{var{circleOrigin:n="mc",radius:o={value:100,unit:"%"}}=e(e({},We),s);const{parts:{params:r,offset:a},reset:h}=ne(i,s),l={};var{from:o,to:n}=((t,e,i,s)=>{let n="number"==typeof t?t:t.value;var o="number"==typeof t?"px":t.unit,[r,t]=Re[e].split(" ");return"%"===o&&(n=((t,e)=>{switch(t){case"mc":default:return.5*Math.sqrt(e.width**2+e.height**2);case"tl":case"tr":case"bl":case"br":return Math.sqrt(e.width**2+e.height**2);case"tc":case"bc":return Math.sqrt((e.width/2)**2+e.height**2);case"ml":case"mr":return Math.sqrt(e.width**2+(e.height/2)**2)}})(e,i)*n/100),{from:`circle(${Me({value:"in"===s?0:n,unit:"px"})} at ${r} ${t})`,to:`circle(${Me({value:"in"===s?n:0,unit:"px"})} at ${r} ${t})`}})(o,n,{width:i.clientWidth,height:i.clientHeight},t);return i.style.clipPath=o,l.clipPath=[o,n],{parts:{offset:a,params:e(e({},r),l)},reset:()=>{i.style.removeProperty("clip-path"),h()}}};var Fe=Ne("in"),He=Ne("out");const Ye=(t,e)=>{const i=t.map((t=>{var{x:e,y:i}=t.from,{x:s,y:t}=t.to;return{from:`${Me(e)} ${Me(i)}`,to:`${Me(s)} ${Me(t)}`}}));var s=i.map((t=>t.from)).join(",");t=i.map((t=>t.to)).join(",");return{from:`polygon(${"in"===e?s:t})`,to:`polygon(${"in"===e?t:s})`}},Xe=e(e({},se),{},{direction:"tl",use45deg:!0}),qe={tl:[{from:{x:0,y:0},to:{x:0,y:0}},{from:{x:0,y:0},to:{x:{value:200,unit:"%"},y:0}},{from:{x:0,y:0},to:{x:0,y:{value:200,unit:"%"}}}],tr:[{from:{x:{value:100,unit:"%"},y:0},to:{x:{value:100,unit:"%"},y:0}},{from:{x:{value:100,unit:"%"},y:0},to:{x:{value:-200,unit:"%"},y:0}},{from:{x:{value:100,unit:"%"},y:0},to:{x:{value:100,unit:"%"},y:{value:200,unit:"%"}}}],br:[{from:{x:{value:100,unit:"%"},y:{value:100,unit:"%"}},to:{x:{value:100,unit:"%"},y:{value:100,unit:"%"}}},{from:{x:{value:100,unit:"%"},y:{value:100,unit:"%"}},to:{x:{value:-200,unit:"%"},y:{value:100,unit:"%"}}},{from:{x:{value:100,unit:"%"},y:{value:100,unit:"%"}},to:{x:{value:100,unit:"%"},y:{value:-200,unit:"%"}}}],bl:[{from:{x:0,y:{value:100,unit:"%"}},to:{x:0,y:{value:100,unit:"%"}}},{from:{x:0,y:{value:100,unit:"%"}},to:{x:{value:200,unit:"%"},y:{value:100,unit:"%"}}},{from:{x:0,y:{value:100,unit:"%"}},to:{x:0,y:{value:-200,unit:"%"}}}]},Ze=t=>(i,s)=>{var{direction:n,use45deg:o}=e(e({},Xe),s);const{parts:{params:r,offset:a},reset:h}=ne(i,s),l={};var{from:c,to:n}=Ye(o?(c=i.clientWidth,o=i.clientHeight,{tl:[{from:{x:0,y:0},to:{x:0,y:0}},{from:{x:0,y:0},to:{x:{value:c+o,unit:"px"},y:0}},{from:{x:0,y:0},to:{x:0,y:{value:c+o,unit:"px"}}}],tr:[{from:{x:{value:100,unit:"%"},y:0},to:{x:{value:100,unit:"%"},y:0}},{from:{x:{value:c,unit:"px"},y:0},to:{x:{value:-o,unit:"px"},y:0}},{from:{x:{value:100,unit:"%"},y:0},to:{x:{value:100,unit:"%"},y:{value:c+o,unit:"px"}}}],br:[{from:{x:{value:100,unit:"%"},y:{value:100,unit:"%"}},to:{x:{value:100,unit:"%"},y:{value:100,unit:"%"}}},{from:{x:{value:c,unit:"%"},y:{value:100,unit:"%"}},to:{x:{value:-o,unit:"px"},y:{value:100,unit:"%"}}},{from:{x:{value:100,unit:"%"},y:{value:o,unit:"%"}},to:{x:{value:100,unit:"%"},y:{value:-c,unit:"px"}}}],bl:[{from:{x:0,y:{value:100,unit:"%"}},to:{x:0,y:{value:100,unit:"%"}}},{from:{x:0,y:{value:100,unit:"%"}},to:{x:{value:o+c,unit:"px"},y:{value:100,unit:"%"}}},{from:{x:0,y:{value:o,unit:"%"}},to:{x:0,y:{value:-c,unit:"px"}}}]})[n]:qe[n],t);return i.style.clipPath=c,l.clipPath=[c,n],{parts:{offset:a,params:e(e({},r),l)},reset:()=>{i.style.removeProperty("clip-path"),h()}}};var Ue=Ze("in"),Ge=Ze("out");const Ke=e({},se),Je=t=>(i,s)=>{var{points:n=[]}=e(e({},Ke),s);const{parts:{params:o,offset:r},reset:a}=ne(i,s),h={};var{from:s,to:n}=Ye(n,t);return console.log(s),i.style.clipPath=s,h.clipPath=[s,n],{parts:{offset:r,params:e(e({},o),h)},reset:()=>{i.style.removeProperty("clip-path"),a()}}};var Qe=Je("in");ge=Je("out");const ti={type:"inset"},ei=t=>(i,n)=>{var o,r=(o=e(e({},ti),n)).type,a=s(o,Gt);let h;switch(r){case"circle":h=Ne(t)(i,a);break;case"inset":case"rect":default:var{direction:l="left"}=a;h=(["left","right","top","bottom"].includes(l)?De:Ze)(t)(i,a);break;case"diagonal":h=Ze(t)(i,a);break;case"polygon":h=Je(t)(i,a)}var{reset:n,parts:{params:o,offset:r}}=h;return{parts:{offset:r,params:o},reset:n}};ye=ei("in"),Se=ei("out");const ii=e(e({},se),{},{clipParams:ti,moveAndTransformParams:de});Le=t=>(i,n)=>{var o=e(e({},ii),n),{duration:r,delay:a,easing:h,clipParams:l}=o,c=s(o,Kt);const d=Qt(i,document.createElement("div"));n=ie(i,"width"),o=ie(i,"height"),null!==n&&"auto"!==n&&(i.style.width="100%",d.style.width=n),null!==o&&"auto"!==o&&(i.style.height="100%",d.style.height=o),d.style.overflow="hidden";const{reset:p,parts:u}=ei(t)(d,e({duration:r,delay:a,easing:h},l)),{reset:m,parts:g}=pe(t)(i,e({duration:r,delay:a,easing:h},c));return{parts:[u,g],reset:()=>{m(),p(),te(d)}}},Oe=Le("in"),de=Le("out");const si=(t,e=1)=>Math.round(t*10**e)/10**e;function ni(t,e,i,s,n,o,r=!1){(r||t<n||e<o)&&({width:t,height:e}=((t,e,i,s,n,o=0)=>(e/=s,i/=n,i="cover"===t?Math.max(e,i):Math.min(e,i),void 0!==o?{width:si(s*i,o),height:si(n*i,o)}:{width:s*i,height:n*i}))("cover",n,o,t,e));const a={x:t*i-n/2,y:e*s-o/2};return a.x=Math.min(t-n,Math.max(0,a.x)),a.y=Math.min(e-o,Math.max(0,a.y)),{position:a,mediaSize:{width:t,height:e}}}const oi=e(e({},se),{},{fade:!1,scale:1,duration:5e3});Le=t=>(i,n)=>{var o=e(e({},oi),n),{selector:r="img",focalPoint:a={x:.5,y:.5},set:h,scale:l}=o,c=s(o,Jt),{offsetWidth:n,offsetHeight:o}=i;const d=i.querySelector(r),p=h||{};h={width:d.clientWidth,height:d.clientHeight},null!=p&&p.focalPoint||(({left:u,top:m}=getComputedStyle(d)),p.focalPoint={x:(-parseFloat("auto"===u?"0":u)+n/2)/h.width,y:(-parseFloat("auto"===m?"0":m)+o/2)/h.height});var{position:u,mediaSize:m}=ni(h.width,h.height,p.focalPoint.x,p.focalPoint.y,n,o),{position:n,mediaSize:o}=ni(h.width*l,h.height*l,a.x,a.y,n,o);const g=d.style.transformOrigin,v=d.style.transform;Object.assign(d.style,{transformOrigin:"top left"});var m=pe(t)(d,e(e({},c),{},{direction:"custom",x:u.x-n.x,y:u.y-n.y,scale:o.width/m.width})).parts;return i.style.overflow="hidden",{parts:m,reset:()=>{d.style.transformOrigin=g,d.style.transform=v,yt.remove(d)}}};const ri={in:{move:le,moveAndTransform:ue,mask:ve,maskAndTransform:_e,reveal:Ae,text:Ie,revealText:Ie,fade:Te,clipInset:Ve,clipCircle:Fe,clip:ye,clipAndTransform:Oe,clipPolygon:Qe,clipDiagonal:Ue,kenBurns:Le("in")},out:{move:ce,moveAndTransform:me,mask:fe,maskAndTransform:be,reveal:Ce,text:$e,revealText:$e,fade:Pe,clipInset:je,clipCircle:He,clip:Se,clipAndTransform:de,clipPolygon:ge,clipDiagonal:Ge,kenBurns:Le("out")}};var ai,hi,li,ci=(t,e,i,s,n,o,r=0)=>{const{parts:a,reset:h}=we(t,e,i,s);return n=n||yt.timeline(o),Array.isArray(a)?a.forEach((t=>{var{offset:e=0,params:t}=t;n.add(t,"string"==typeof e?e:e+r)})):(({offset:s=0,params:o}=a),n.add(o,"string"==typeof s?s:s+r)),{timeline:n,reset:h,parts:a,phase:i}};const di=(t,e)=>{var i;return null!==(i=t.parentElement)&&void 0!==i&&i.insertBefore(e,t),e.appendChild(t),e},pi=(t,e,i)=>{let s="";return t.hasAttribute(`data-${e}`)&&(s=t.getAttribute(`data-${e}`),t.removeAttribute(`data-${e}`)),i&&t.hasAttribute(`data-${i}`)&&(s=t.getAttribute(`data-${i}`),t.removeAttribute(`data-${i}`)),!!s&&(t.setAttribute(e,s),!0)},ui=t=>"object"==typeof t&&0===Object.keys(t).length,mi=t=>"object"==typeof t?t.value:t,gi=(t,e)=>{const i={};return Object.keys(t).forEach((s=>{i[s]=e(t[s],s)})),i},vi=t=>{try{return JSON.parse(t.replace(/'/g,'"'))}catch(e){console.warn("Given data value is not a valid JSON, skipped. \n "+t)}return null},fi=["type"];class yi{static isAnimative(t){return function(t,e){let i=!1;return[].some.call(t.attributes,(t=>(i=e.test(t.name),i))),i}(t,/^(data(-\w+)*-animation-(in|out))$/g)}constructor(t,e,i,s){this.target=t,this.element=i,this.sourceElement=e;const n=g(this.sourceElement,"animation-in")||{},o=g(this.sourceElement,"animation-out")||{},a=!!s&&{type:"move",duration:1e3,direction:"top",movement:0};this.animationsData=["none",...c].map((s=>{var r=m(n,s);s=m(o,s);return{animationIn:r?this.parseAnimationData(r):a,animationOut:s?this.parseAnimationData(s):a,target:t,sourceElement:e,targetElement:i}})),this.animatorIsSet=!1,u.on("breakpointChange",this.setAnimator,this),t.animateInOut=(t,e=!1)=>!!["in","out"].includes(t)&&this.startAnimation(t,e);const h=t.show;t.show=(e=!0)=>{h?h.call(t):t.element.classList.remove(`${r}-is-hidden`),e&&t.animateInOut("in")};const l=t.hide;t.hide=(e=!0)=>{e&&t.animateInOut("out")||(l?l.call(t):t.element.classList.add(`${r}-is-hidden`),this.status="out-end")},t.progressInOut=(t,e)=>{["in","out"].includes(e)&&this.progressAnimation(e,t)},t.killInOutAnimation=()=>{this.removeActiveAnimator()}}parseAnimationData(t){t=t.replace(/'/g,'"');let e="";try{e=JSON.parse(t)}catch(e){return console.warn("Given animation data value is not a valid JSON, animation skipped. \n "+t),""}return e}_animationBegin(t,e){e&&this._progressed||(this.status=t+"-start",this.target.show(!1),this.target.trigger("in"===t?"animationInStart":"animationOutStart",[this.target,this.status],!0))}_animationEnd(t,e){e&&this._progressed||(this.status=t+"-end",this.target.trigger("in"===t?"animationInEnd":"animationOutEnd",[this.target,this.status],!0),"in"===t?this.removeActiveAnimator():"out"===t&&this.target.hide(!1))}removeActiveAnimator(){this.activeAnimator&&(this.activeAnimator.reset(),this.activeAnimator=null)}generateNewAnimator(t){var e=m(this.animationsData);if(!this.hasAnimation(t,e))return null;e=(i=e["in"===t?"animationIn":"animationOut"]).type;var i=s(i,fi);i=ci(e,this.element,t,i,null,{autoplay:!1,begin:()=>this._animationBegin(t,!0),complete:()=>this._animationEnd(t,!0)});return this.status=t+"-init",this.activePhase=t,i}startAnimation(t,e=!1){if(this._progressed=!1,this.animatorIsSet||this.setAnimator(),!e&&t+"-end"===this.status)return!1;if(t===this.activePhase&&this.activeAnimator||(this.removeActiveAnimator(),this.activeAnimator=this.generateNewAnimator(t)),!this.activeAnimator)return!1;const i=this.activeAnimator.timeline;return(e||"in"===t&&"in-init"===this.status||"out"===t&&"out-init"===this.status)&&(i.seek(0),i.play()),!0}progressAnimation(t,e){if(this._progressed=!0,this.animatorIsSet||this.setAnimator(),t===this.activePhase&&this.activeAnimator||(this.removeActiveAnimator(),this.activeAnimator=this.generateNewAnimator(t)),this.activeAnimator){const i=this.activeAnimator.timeline;i.seek(i.duration*e),1<=e&&this.status!==`${t}-end`&&this._animationEnd(t),(e<1&&this.status===`${t}-end`||this.status===`${t}-init`)&&this._animationBegin(t)}}setAnimator(){if(this.animatorIsSet=!0,"in-end"!==this.status){let e=0,i=!1;var t;if(this.activePhase||(this.activePhase="in"),this.activeAnimator&&(e=(t=this.activeAnimator.timeline).progress,i=t.began&&!t.paused,this.removeActiveAnimator()),this.activeAnimator=this.generateNewAnimator(this.activePhase),this.activeAnimator){const t=this.activeAnimator.timeline;e&&t.seek(t.duration*(e/100)),i&&t.play()}else this.status="in-end"}}hasAnimation(t,e){return"in"===t?!!e.animationIn:!!e.animationOut}}function _i(t,e,i,s,n,o,r=!1){(r||t<n||e<o)&&({width:t,height:e}=((t,e,i,s,n)=>(e/=s,i/=n,{width:s*(i="cover"===t?Math.max(e,i):Math.min(e,i)),height:n*i}))("cover",n,o,t,e));const a={x:t*i-n/2,y:e*s-o/2};return a.x=Math.min(t-n,Math.max(0,a.x)),a.y=Math.min(e-o,Math.max(0,a.y)),{position:a,mediaSize:{width:t,height:e}}}"undefined"!=typeof window&&(os=(os=window.navigator.userAgent.match(/Edge\/(\d{2})\./))?parseInt(os[1],10):null,ai=!!os&&16<=os&&os<=18,"objectFit"in document.documentElement.style==0||ai?(hi=function(t,e,i){var s,n,o,r,a;if((i=i.split(" ")).length<2&&(i[1]=i[0]),"x"===t)s=i[0],n=i[1],o="left",r="right",a=e.clientWidth;else{if("y"!==t)return;s=i[1],n=i[0],o="top",r="bottom",a=e.clientHeight}if(s!==o&&n!==o){if(s!==r&&n!==r)return"center"===s||"50%"===s?(e.style[o]="50%",void(e.style["margin-"+o]=a/-2+"px")):void(0<=s.indexOf("%")?(s=parseInt(s,10))<50?(e.style[o]=s+"%",e.style["margin-"+o]=a*(s/-100)+"px"):(e.style[r]=(s=100-s)+"%",e.style["margin-"+r]=a*(s/-100)+"px"):e.style[o]=s);e.style[r]="0"}else e.style[o]="0"},li=function(t){var e,i,s,n,o=(o=t.dataset?t.dataset.objectFit:t.getAttribute("data-object-fit"))||"cover",r=(r=t.dataset?t.dataset.objectPosition:t.getAttribute("data-object-position"))||"50% 50%",a=t.parentNode;return e=a,s=(i=window.getComputedStyle(e,null)).getPropertyValue("position"),n=i.getPropertyValue("overflow"),i=i.getPropertyValue("display"),s&&"static"!==s||(e.style.position="relative"),"hidden"!==n&&(e.style.overflow="hidden"),i&&"inline"!==i||(e.style.display="block"),0===e.clientHeight&&(e.style.height="100%"),-1===e.className.indexOf("object-fit-polyfill")&&(e.className=e.className+" object-fit-polyfill"),function(t){var e,i=window.getComputedStyle(t,null),s={"max-width":"none","max-height":"none","min-width":"0px","min-height":"0px",top:"auto",right:"auto",bottom:"auto",left:"auto","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"0px"};for(e in s)i.getPropertyValue(e)!==s[e]&&(t.style[e]=s[e])}(t),t.style.position="absolute",t.style.width="auto",t.style.height="auto","none"===(o="scale-down"===o?t.clientWidth<a.clientWidth&&t.clientHeight<a.clientHeight?"none":"contain":o)?(hi("x",t,r),void hi("y",t,r)):"fill"===o?(t.style.width="100%",t.style.height="100%",hi("x",t,r),void hi("y",t,r)):(t.style.height="100%",void("cover"===o&&t.clientWidth>a.clientWidth||"contain"===o&&t.clientWidth<a.clientWidth?(t.style.top="0",t.style.marginTop="0",hi("x",t,r)):(t.style.width="100%",t.style.height="auto",t.style.left="0",t.style.marginLeft="0",hi("y",t,r))))},os=function(t){if(void 0===t||t instanceof Event)t=document.querySelectorAll("[data-object-fit]");else if(t&&t.nodeName)t=[t];else if("object"!=typeof t||!t.length||!t[0].nodeName)return!1;for(var e=0;e<t.length;e++)if(t[e].nodeName){var i=t[e].nodeName.toLowerCase();if("img"===i){if(ai)continue;t[e].complete?li(t[e]):t[e].addEventListener("load",(function(){li(this)}))}else"video"!==i||0<t[e].readyState?li(t[e]):t[e].addEventListener("loadedmetadata",(function(){li(this)}))}return!0},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",os):os(),window.addEventListener("resize",os),window.objectFitPolyfill=os):window.objectFitPolyfill=function(){return!1});const bi=(t,e,i,s="50% 50%",n)=>{const{objectFit:o=i,objectPosition:r=s}=t.dataset,a=o.split(",").map((t=>t.trim())),h=r.split(",").map((t=>t.trim()));let l,c;const d=(i,s)=>{var o,r;!s&&l&&"custom"!==l||(l=m(a,i),c=m(h,i),"custom"!==l?(t.style.width="",t.style.height="",t.style.left="",t.style.right="",t.classList.remove(`${n}-cropped`),function(t,e,i,s,n){if("tile"===e&&"IMG"===t.nodeName)return t.style.visibility="hidden",t.parentElement.style.backgroundImage=`url( ${t.getAttribute("data-src")||t.src})`;t.hasAttribute("data-object-fit"),t.setAttribute("data-object-fit",e),t.style.objectFit=e,i&&(t.hasAttribute("data-object-position"),t.setAttribute("data-object-position",i),t.style.objectPosition=i),window.objectFitPolyfill&&window.objectFitPolyfill(t)}(t,l,c)):(({offsetWidth:o,offsetHeight:r}=e||t.parentElement),s=gi(g(s=t,"crop"),(t=>"false"!==t.trim()&&vi(t))),({focalPoint:s,mediaSize:i}=m(s,i)),({position:o,mediaSize:r}=_i(i.width,i.height,s.x,s.y,o,r)),t.style.objectFit="",t.style.width=`${null==r?void 0:r.width}px`,t.style.height=`${null==r?void 0:r.height}px`,t.style.left=`-${null==o?void 0:o.x}px`,t.style.top=`-${null==o?void 0:o.y}px`,t.classList.add(`${n}-cropped`)))};return u.on("breakpointChange",((t,e)=>d(e,!0))),d(u.activeBreakpoint),{update:()=>d(u.activeBreakpoint),currentObjectFit:l,currentObjectFitPosition:c}};function wi(t,e,i){pi(t,"srcset"),pi(t,"src"),pi(t,"srcset","depicter-srcset"),pi(t,"src","depicter-src"),t.complete?(e||i)&&(t.naturalWidth&&e?e():i&&i()):(e&&t.addEventListener("load",e,!1),i&&t.addEventListener("error",i,!1))}const xi=(t,e,i,s)=>{const n=t.querySelector("img"),o=t.querySelectorAll("source");n||o.length?(o.forEach((t=>{pi(t,"srcset","depicter-srcset")})),pi(n,"src","depicter-src"),e&&n.addEventListener("load",e,!1),i&&n.addEventListener("error",i,!1),s&&window.addEventListener("resize",(()=>{n.complete||s()}))):e()};class Si extends o{constructor(t,e=!0){super(),this.parentEmitter=t,this.section=t,this.container=document.createElement("div"),this.container.classList.add(`${r}-background-container`),this.container.classList.add(`${r}-bg-container`),this.element=document.createElement("div"),this.element.classList.add(`${r}-section-background`),this.animationWrap=document.createElement("div"),this.animationWrap.classList.add(`${r}-background-animation-wrap`),this.animationWrap.appendChild(this.element),this.container.appendChild(this.animationWrap),t.composer.options.get("disableAnimations")||(this.inOutAnimation=new yi(this,t.element,this.animationWrap,e)),this._onBgImageLoad=this._onBgImageLoad.bind(this),this._onBgImageLoadError=this._onBgImageLoadError.bind(this)}appendTo(t){t.appendChild(this.container)}appendBackground(t){this.element.appendChild(t)}appendBackgroundImage(t,e){this.backgroundImage=t,this.appendBackground(t),this.isPicture="PICTURE"===t.tagName,this.targetImg=this.isPicture?t.querySelector("img"):t;e=bi(this.targetImg,this.element,e,void 0,r).update;this.section.on("resize",e,void 0,100),this.updateBgImageFit=e}loadBackgroundImage(){this.backgroundImage&&(this.isPicture?xi:wi)(this.backgroundImage,this._onBgImageLoad,this._onBgImageLoadError)}_onBgImageLoad(t){this.updateBgImageFit(),this.trigger("backgroundImageLoad",[t,this.backgroundImage])}_onBgImageLoadError(t){this.trigger("backgroundImageLoadError",[t,this.backgroundImage])}}class Ai extends o{constructor(t,e,i=!0){super(),this.element=t,this.composer=e,this.view=e.view,this.id=t.id,this.eventPrefix="section",this.parentEmitter=this.composer,this.readyTrigger=new Vt(this.ready.bind(this)),this.loadTrigger=new Vt(this.loadContent.bind(this),!1),this.targetHeight=t.dataset.wrapperHeight?t.dataset.wrapperHeight.split(","):e.options.get("height"),this._active=!1,this.addDefaultAnimation=i,this._setupBackground()}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.isActivated=t,this.element.classList[t?"add":"remove"](`${r}-active`),this.trigger(t?"activated":"deactivated",[this],!0),this.isReady&&this.trigger(t?"readyAndActivated":"readyAndDeactivated",[this],!0))}get status(){return this._status}set status(t){var e;t!==this._status&&(this.element.classList.add(`${r}-${t}`),this._status&&this.element.classList.remove(`${r}-${this._status}`),e=this._status,this._status=t,this.trigger("statusChange",[this,t,e],!0))}reactive(){this.active&&(this.active=!1,this.active=!0)}calculateSize(){}mount(){!1!==this.firstMount?this.firstMount=!0:this.firstMount=!1,this.trigger("beforeMount",[this],!0),this.mounted=!0,this.isReady||this.isLoading||this.loadTrigger.exec(),this.trigger("afterMount",[this],!0)}unmount(){this.mounted=!1}ready(){this.element.classList.add(`${r}-ready`),this.isReady=!0,this.isLoading=!1,this.trigger("ready",[this],!0),this._active&&this.trigger("readyAndActivated",[this],!0)}loadContent(){this.isLoading=!0,this.trigger("loadingStart",[this],!0),this.backgroundImage?(this._onBgLoad=this._onBgLoad.bind(this),this.background.on("backgroundImageLoad, backgroundImageLoadError",this._onBgLoad),this.background.loadBackgroundImage()):this.readyTrigger.exec()}checkResize(t){var e=this.element.offsetWidth,i=this.element.offsetHeight;!t&&this.height===i&&this.width===e||(this.width=e,this.height=i,this.trigger("resize",[this,e,i],!0))}_setupBackground(){this.background=new Si(this,this.addDefaultAnimation),this.background.appendTo(this.element),this.backgroundImage=this.element.querySelector(`:scope > img.${r}-bg,:scope > picture.${r}-bg`),this.backgroundImage&&(this.background.appendBackgroundImage(this.backgroundImage,this.composer.options.get("sectionFit")),this.trigger("bgImageSetup",[this.backgroundImage],!0))}_onBgLoad(){this.trigger("bgImageLoad",[this],!0),this._bgLoaded||this.readyTrigger.exec(),this._bgLoaded=!0}}Ht.registerSection("block",class extends Ai{constructor(t,e){super(t,e,!1),this.space=0,this.merge=1,this.position=-1,this.offset=-1,this.size=0,this.element.hasAttribute("data-merge")&&(this.merge=(e=!0,"string"!=typeof(t=this.element.getAttribute("data-merge"))?t:(t=t.replace(/\s+/g,"").split(","),e?t.map((t=>Number.parseInt(t,10))):t))),this.trigger("sectionCreate",[this],!0)}get pendingOffset(){return this._pendingOffset}set pendingOffset(t){t!==this._pendingOffset&&(this._pendingOffset=t,this.trigger("pendingOffsetChange",[this,t,t/this.size]))}triggerPendingOffsetChange(){this.trigger("pendingOffsetChange",[this,this._pendingOffset,this._pendingOffset/this.size])}get active(){return this._active}set active(t){this._active!==t&&this.isReady&&this.background.inOutAnimation&&this.background.inOutAnimation.startAnimation(t?"in":"out",!0),super.active=t}ready(){super.ready(),this._active&&this.background.inOutAnimation&&this.background.inOutAnimation.startAnimation("in")}calculateSize(){var t=this.composer.options.get("columns");let e=m(this.merge);var i,s=this.view.options.is("dir","h");t?(t=m(t),i=this.view.size-this.space*(t-1),this.size=i/t+this.space,1<e&&(e=Math.min(t,e),this.size=this.size*e+this.space*(e-1),i+=this.space*(e-1))):this.size=this.view.size+this.space,this.element.style.width=s?this.size+"px":this.view.width+"px",this.checkResize()}inRangeTest(t,e=1){return t>=this.position&&t<this.position+this.size*e}});var Ci=new WeakMap;Ht.registerSection("animative",class extends Ai{constructor(t,e){super(t,e),function(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}(this,Ci,{writable:!0,value:""}),this.inAnimation={duration:0,start:0},this.outAnimation={duration:0,start:0},this.appearDuration=0,this.disappearDuration=0,this.element.classList.add(`${r}-anim-section`),this.disableAnimationAdapterControl=!0,this.trigger("sectionCreate",[this],!0),this.once("readyAndActivated",(()=>{this.startInOutAnimation("in")}))}get position(){return this.outAnimation.start}get size(){return this.disappearDuration}updateDurations(){var t=p;(function(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,n(t,e,"get"))})(this,Ci)!==t&&(function(t,e,i){(function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}})(t,n(t,e,"set"),i)}(this,Ci,t),this.inAnimation.duration=this.getInOutAnimationDuration("in"),this.outAnimation.duration=this.getInOutAnimationDuration("out"))}inRangeTest(t){return t>this.inAnimation.start&&t<this.inAnimation.start+this.appearDuration?"in":t>this.outAnimation.start&&t<this.outAnimation.start+this.disappearDuration?"out":t===this.outAnimation.start&&"in-end"}remaining(t,e){return"in"===(e=e||this.inRangeTest(t))?1-(t-this.inAnimation.start)/this.appearDuration:"out"===e||"in-end"===e?1-(t-this.outAnimation.start)/this.disappearDuration:NaN}getLastAnimativeElement(t){const e="in"===t?"animationIn":"animationOut";let i,s=0;return[...this.layersAnimations||[],this.background.inOutAnimation.animationsData].forEach((t=>{var n;!t||(n=m(t))[e]&&((t=(n[e].duration||0)+(n[e].delay||0))>s&&(i=n.target),s=Math.max(t,s))})),{target:i,duration:s}}getInOutAnimationDuration(t,e){var i;return Math.max(this.getLastAnimativeElement(t).duration,"in"===t&&(null==e||null===(i=e.getInOutAnimationDuration)||void 0===i?void 0:i.call(e,"out"))||0)}startInOutAnimation(t){var e,i;this.killInOutAnimation(),null==this||null!==(i=this.layersController)&&void 0!==i&&i.layers.forEach((e=>{var i;null==e||null!==(i=e.animateInOut)&&void 0!==i&&i.call(e,t,!0)})),null===(e=this.background)||void 0===e||null!==(i=e.animateInOut)&&void 0!==i&&i.call(e,t,!0),this.getLastAnimativeElement(t).target.on("animationInEnd, animationOutEnd",(()=>{this.trigger("allInOutAnimationsEnd",[t])}),this)}progressInOutAnimation(t,e){var i,s;this.killInOutAnimation(),e=Math.max(0,Math.min(1,e)),null==this||null!==(i=this.layersController)&&void 0!==i&&i.layers.forEach((i=>{var s;null==i||null!==(s=i.progressInOut)&&void 0!==s&&s.call(i,e,t,!0)})),null!==(i=(s=this.background).progressInOut)&&void 0!==i&&i.call(s,e,t,!0)}killInOutAnimation(){var t,e;this.getLastAnimativeElement("in").target.offOnContext(this),this.getLastAnimativeElement("out").target.offOnContext(this),null==this||null!==(t=this.layersController)&&void 0!==t&&t.layers.forEach((t=>{var e;null==t||null!==(e=t.killInOutAnimation)&&void 0!==e&&e.call(t)})),null!==(t=(e=this.background).killInOutAnimation)&&void 0!==t&&t.call(e)}calculateSize(){this.element.style.width=this.view.width+"px",this.checkResize()}});Ge=window.getComputedStyle(document.documentElement,""),Le=(Array.prototype.slice.call(Ge).join("").match(/-(moz|webkit|ms)-/)||""===Ge.OLink&&["","o"])[1];var Ei={dom:"WebKit|Moz|MS|O".match(new RegExp("("+Le+")","i"))[1],lowercase:Le,css:"-"+Le+"-",js:{moz:"Moz",webkit:"Webkit",o:"O",ms:"ms"}[Le]};class ki extends St{constructor(){super(),this.options=new Tt,this.readOptions=this.readOptions.bind(this),this.options.observe(this.options.register({dir:"h",reverse:!1,space:0,loop:!1,instantActive:!0}),this.readOptions),this.readOptions()}readOptions(){const t=this._positionProp;var e=this.options.get("reverse");this._space=this.options.get("space"),this._loop=this.options.get("loop"),this._reverseFactor=e?1:-1,this.activeEnteringSection=this.options.get("instantActive"),"h"===this.options.get("dir")?(this.sizeProp="width",this.offsetProp="offsetWidth",this._positionProp=e?"right":"left",this._transformProp="X",this.element.classList.remove(`${r}-dir-v`),this.element.classList.add(`${r}-dir-h`)):(this.sizeProp="height",this.offsetProp="offsetHeight",this._transformProp="Y",this._positionProp=e?"bottom":"top",this.element.classList.remove(`${r}-dir-h`),this.element.classList.add(`${r}-dir-v`)),this.sections.forEach((e=>{e.hasCustomSpace||(e.space=this._space),e.element.style[t]="",e.sizeReference=this.offsetProp})),this.resize(),this.update()}update(t=!0){super.update(t),this._paintScheduled||(this._paintScheduled=!0,requestAnimationFrame((()=>{this.sections.forEach((t=>this.locateSection(t))),this.sectionsContainer.style[`${Ei.js}Transform`]="translate"+this._transformProp+"("+this._position*this._reverseFactor+"px)",this._paintScheduled=!1})))}locateSection(t){t.element.style[this._positionProp]=`${t.offset}px`}_afterSectionAdd(t){t.customSpace||(t.space=this._space),super._afterSectionAdd(t)}}Ht.registerView("basic",ki);const Li={transform:{translateX:[0,0],translateY:[0,0],translateZ:[0,0],rotateX:[0,0],rotateY:[0,0],rotateZ:[0,0],scale:[1,1],skewX:[0,0],skewY:[0,0]},opacity:[1,1],limitDistance:!1,limitOpacity:!1,ease:null},Ii={translateX:"px",translateY:"px",translateZ:"px",rotateX:"deg",rotateY:"deg",rotateZ:"deg",skewY:"deg",skewX:"deg"},$i={fadeBasic:{className:`${r}-fade-basic-view`,opacity:[.4,.4]},wave:{className:`${r}-wave-view`,transform:{translateZ:[-300,-300]}},fadeWave:{className:`${r}-fade-wave-view`,opacity:[.6,.6],transform:{scale:[.875,.875]}},flow:t=>({className:`${r}-flow-view`,transform:e(e(e({},"h"===t.dir&&{rotateY:[30,-30]}),"v"===t.dir&&{rotateX:[-30,30]}),{},{translateZ:[-600,-600]})}),fadeFlow:t=>({className:`${r}-fade-flow-view`,opacity:[.6,.6],transform:e(e(e({},"h"===t.dir&&{rotateY:[50,-50]}),"v"===t.dir&&{rotateX:[-50,50]}),{},{translateZ:[-100,100]})})};Ht.registerView("transform",class extends ki{constructor(){super(),this.options.register({transformStyle:"flow"}),this.on("elementAppend",(()=>{var t=this.options.toObject();this.transformOptions="function"==typeof $i[t.transformStyle]?$i[t.transformStyle](t):$i[t.transformStyle],this.element.classList.add(`${r}-transform-view`),this.element.classList.add(this.transformOptions.className)}))}locateSection(t){t.element.style[this._positionProp]=`${t.offset}px`;var i=((t,i)=>{i=e(e(e({},Li),i),{},{transform:e(e({},Li.transform),i.transform)});let s=Math.abs(t),n="";i.limitDistance&&(s=Math.min(s,1));const o=t<0?0:1;let r=1;return Object.entries(i.transform).forEach((([t,e])=>{var i,r=Ii[t]||"";"scale"===t?1!==e[o]&&(i=Math.abs(e[o]**s),n+="scale("+i+") "):e[o]&&(n+=t+"("+s*e[o]+r+") ")})),i.opacity[o]<1&&(r=i.limitOpacity&&1<s?0:1-Math.min(s,1-i.opacity[o])),{opacity:r,transform:n}})(t.pendingOffset/this.size,this.transformOptions);t.element.style.transform=i.transform,t.element.style.opacity=i.opacity}});class Oi extends ki{update(t=!0){this._sectionsCount=this.sections.length,t&&this.arrange(),this.locateInLoop(),this.updateStatusAndIndex(),this.trigger("update",[this._position],!0),this._paintScheduled=!0,requestAnimationFrame((()=>{this.sections.forEach((t=>this.locateSection(t))),this._paintScheduled=!1}))}locateSection(t){t.element.style.zIndex=this.count-Math.abs(Math.ceil(t.pendingOffset/this.size))}}Ht.registerView("baseStack",Oi),Ht.registerView("stack",class extends Oi{constructor(){super(),this.element.classList.add(`${r}-stack-view`),this.options.register({scaleFactor:.2}),this.on("elementAppend",(()=>{this.scaleFactor=this.options.get("scaleFactor")}))}locateSection(t){var e=t.pendingOffset/this.size,i=Math.abs(e);super.locateSection(t),i<1?(t.element.style.visibility="",e<0?t.element.style.transform="scale("+(1-i*this.scaleFactor)+")":(t.element.style.transform=`translate${this._transformProp}(${-i*this.size}px)`,t.element.style.zIndex=1e3),t.element.classList.remove(`${r}-section-hidden`)):t.element.classList.add(`${r}-section-hidden`)}}),Ht.registerView("fade",class extends Oi{constructor(){super(),this.element.classList.add(`${r}-fade-view`)}locateSection(t){var e=t.pendingOffset/this.size;e=Math.abs(e);super.locateSection(t),e<1?(t.element.style.opacity=1-e,t.element.classList.remove(`${r}-section-hidden`)):t.element.classList.add(`${r}-section-hidden`)}}),Ht.registerView("mask",class extends Oi{constructor(){super(),this.element.classList.add(`${r}-mask-view`),this.options.register({maskParallax:0}),this.on("elementAppend",(()=>{this.maskParallax=this.options.get("maskParallax")})),this.on("sectionAdd",this._wrapSection.bind(this))}_wrapSection(t,e){const i=document.createElement("div");i.classList.add(`${r}-section-mask`),e.element.parentElement.insertBefore(i,e.element),i.appendChild(e.element),e.maskElement=i}locateSection(t){var e=t.pendingOffset/this.size,i=Math.abs(e);super.locateSection(t),i<1?(t.element.style.visibility="",t.maskElement.style.transform=`translate${this._transformProp}(${e*this.size}px)`,t.element.style.transform=`translate${this._transformProp}(${-e*this.size*(1-this.maskParallax)}px)`,t.element.classList.remove(`${r}-section-hidden`)):t.element.classList.add(`${r}-section-hidden`)}}),Ht.registerView("cube",class extends Oi{constructor(){super(),this.element.classList.add(`${r}-cube-view`),this.options.register({shadow:.8,dolly:500}),this.on("elementAppend",(()=>{this._rotateAxis="h"===this.options.get("dir")?"rotateY":"rotateX",this._rotateDir="h"===this.options.get("dir")?-1:1,this._shadow=this.options.get("shadow"),this._dolly=this.options.get("dolly")}))}update(t=!0){this._sectionsCount=this.sections.length,t&&this.arrange(),this.locateInLoop(),this.updateStatusAndIndex(),this.trigger("update",[this._position],!0),this._paintScheduled=!0,requestAnimationFrame((()=>{this.sections.forEach((t=>this.locateSection(t))),this._paintScheduled=!1}))}locateSection(t){var e=t.pendingOffset/this.size,i=Math.abs(e);super.locateSection(t),i<1?(t.element.style.visibility="",t.element.style.transform=this._rotateAxis+"("+-e*this._rotateDir*90+"deg)",t.element.style.transformOrigin="50% 50% -"+this.size/2+"px",this._shadow&&(t.element.style.filter=`brightness(${1-i*this._shadow})`),t.element.classList.remove(`${r}-section-hidden`),this._dolly&&0<e&&(this.sectionsContainer.style.transform=`translateZ(${-this._dolly/2+Math.abs(i-.5)*this._dolly}px)`)):t.element.classList.add(`${r}-section-hidden`)}}),Ht.registerView("animroll",class extends xt{constructor(){super(),this.options=new Tt,this.options.register({loop:!0,dir:"h",reverse:!1,transitionType:"animation"}),this.element.classList.add(`${r}-animative-view`),this.isSafeForInteractions=!0,this.size=0,this.scrollable=!0,this._position=0}arrange(){var t=this._length;this._length=0,this._loop=this.options.get("loop"),this.sections.forEach(((t,e)=>{t.index=e;const i=this.sections[this.normalizeVal(e+1,this.sections.length)];t.calculateSize(this.options.get("dir")),t.updateDurations(),t.outAnimation.start=this._length,i.updateDurations(),i.inAnimation.start=this._length,i.appearDuration=Math.max(t.outAnimation.duration,i.inAnimation.duration),t.disappearDuration=i.appearDuration,this._length+=i.appearDuration})),this.trigger("arrange",null,!0),this._length!==t&&this.trigger("lengthChange",[this._length],this)}get nominalLength(){var t;return this._length-(!this._loop&&(null===(t=this.sections[this.sectionsCount-1])||void 0===t?void 0:t.disappearDuration)||0)}get length(){return this._length}get dragFactor(){var t="h"===this.options.get("dir")?"clientWidth":"clientHeight";return this.currentSection.size/this.element[t]}get position(){return this._position}set position(t){this.isSafeForInteractions&&(t=this._loop?this.normalizeVal(t,this._length):Math.max(0,Math.min(t,this.nominalLength)),this._position!==t&&(this.scrollDirection=t>this._position?"forward":"backward",this._position=t,this.update(!1),this.trigger("scroll",[this._position])))}resize(){var t=super.resize();return this.size=this.length/(this.sections.length||1),t}update(t=!0){super.update(),t&&this.arrange(),this.updateStatusAndIndex(),this.sections.forEach((t=>this.updateSection(t)))}updateStatusAndIndex(){if(this.sections.length){const e=this.getIndexesAtPosition(this._position);var[t]=e;this.currentSectionAppearDuration=this.sections[e[0]].appearDuration,this.sections.forEach((t=>{let e="neutral";var i=t.inRangeTest(this._position);"in"===i?e="in-progress":"out"===i&&(e="out-progress"),t.status=e})),this.indexes.toString()!==e.toString()&&(this.indexes=e,this.trigger("indexesChange",[this.indexes])),this.index!==t&&(this.index=t,this.trigger("indexChange",[this.index]))}}updateStatusAndIndexByBetweenAnimation(t,e){this.sections.forEach((i=>{let s="neutral";i.index===e?s="in-progress":i.index===t&&(s="out-progress"),i.status=s,i.active="neutral"!==s}));const i=[e];this.indexes.toString()!==i.toString()&&(this.indexes=i,this.trigger("indexesChange",[this.indexes])),this.index!==e&&(this.index=e,this.trigger("indexChange",[this.index]))}updateSection(t){var e,i=t.inRangeTest(this._position);i?(t.active=!0,t.isReady&&!this.betweenAnimation&&("in"===i?(e=(this._position-t.inAnimation.start)/t.inAnimation.duration,t.progressInOutAnimation("in",e)):(e=(this._position-t.outAnimation.start)/t.outAnimation.duration,t.progressInOutAnimation("out",e)))):t.active=!1}getIndexAtPosition(t){var e;let i=null;return this._loop&&(t=this.normalizeVal(t,this._length)),this.sections.filter((e=>e.inRangeTest(t))).forEach((e=>{(!i||e.remaining(t)<.5)&&(i=e)})),(null===(e=i)||void 0===e?void 0:e.index)||0}getIndexesAtPosition(t){return[this.getIndexAtPosition(t)]}scrollTo(t,i=!0,s=1,n="auto",o){if(t=this.normalizePositionByDirection(t,n),!this.isSafeForInteractions)return!1;if(i&&(void 0===o.index||o.useScrollAnimation||"scroll"===this.options.get("transitionType")))return this.killScrollAnimation(),(o=e(e({easing:"easeOutExpo",duration:1e3*s},o),{},{complete:()=>{this.animating=!1,this.trigger("scrollToAnimationEnd",void 0,!0)}})).position=t,this.animating=!0,yt(e({targets:this},o)),!0;if(i){if(this.betweenAnimation)return!1;const t=this.sections[o.index];if(this.currentSection===t)return!1;const e=this.currentSection.disappearDuration>t.appearDuration?this.currentSection:t;return t.startInOutAnimation("in"),this.currentSection.startInOutAnimation("out"),this.updateStatusAndIndexByBetweenAnimation(this.index,o.index),this.betweenAnimation=!0,this.isSafeForInteractions=!1,this.trigger("betweenAnimationStart"),this.trigger("unsafeInteractions"),e.once("allInOutAnimationsEnd",(()=>{this.betweenAnimation=!1,this.isSafeForInteractions=!0,this.position=t.position,this.trigger("betweenAnimationEnd"),this.trigger("safeInteractions"),this.trigger("scrollToAnimationEnd",void 0,!0)}),this),!0}return this.position=t,!0}killScrollAnimation(){this.animating&&(yt.remove(this),this.animating=!1)}normalizePositionByDirection(t,e="auto"){t=this._loop?this.normalizeVal(t,this._length):Math.min(t,this._length-this._size);let i=0;if(this._loop&&"off"!==e){var s=this._position,n=t,o=s<n?n-s:this._length-s+n,r=s<n?n-this._length-s:n-s;switch(e){case"auto":i=Math.abs(r)<Math.abs(o)?r:o;break;case"backward":i=r;break;default:i=o}return this._position+i}return t}normalizeVal(t,e){return(t%=e)<0&&(t+=e),t}_afterSectionAdd(t,e){super._afterSectionAdd(t,e),t.on("ready",(()=>this.updateSection(t)))}}),Ht.registerAddon("autoHeight",class{constructor(t){this.composer=t,this.composer.on("init",this._setup,this)}update(t){let e=0;this.composer.view.indexes.forEach((t=>{e=Math.max(this.composer.view.sections[t].element.offsetHeight,e)})),"indexesChange"!==t?this.composer.view.element.style.transitionDuration="0ms":e!==this.lastHeight&&(this.composer.view.element.style.transitionDuration="300ms"),this.lastHeight=e,this.composer.view.element.style.height=`${e}px`,"indexesChange"!==t&&this._checkScrollbar()}_checkScrollbar(){var t=document.body.clientWidth-window.innerWidth;this.scrollbarWidth!==t&&(this.scrollbarWidth=t,this.composer.layoutController.update())}_setup(){"fullscreen"!==this.composer.options.get("layout")&&(this.composer.element.classList.add(`${r}-auto-height`),this.scrollbarWidth=document.body.clientWidth-window.innerWidth,this.composer.view.element.addEventListener("transitionend",(t=>{this.composer.view.element.style.transitionDuration="0ms",t.target===this.composer.view.element&&"height"===t.propertyName&&this._checkScrollbar()})),this.composer.on("indexesChange, sectionResize, resize",this.update,this),this.update())}});const Ti={};class Pi extends o{static registerLayer(t,e){if(h.call(Ti,t))throw new Error(`This layer (${t}) is already registered.`);Ti[t]=e}static get layers(){return Ti}constructor(t,e,i,s=!1){super(),this.holder=t,(this.holder.layersController=this).wrapperWidth=e,this.wrapperHeight=i,this.keepWrapperAspectRatio=s,this.layers=[],this.container=document.createElement("div"),this.container.classList.add(`${r}-layers-container`),this.layersFold=document.createElement("div"),this.layersFold.classList.add(`${r}-layers-fold`),this.wrapper=document.createElement("div"),this.wrapper.classList.add(`${r}-layers-wrapper`),this.container.appendChild(this.wrapper),this.wrapper.appendChild(this.layersFold)}setupLayers(t,e){this.container=document.createElement("div"),this.container.classList.add(`${r}-layers-container`),this.layersFold=document.createElement("div"),this.layersFold.classList.add(`${r}-layers-fold`),this.wrapper=document.createElement("div"),this.wrapper.classList.add(`${r}-layers-wrapper`),this.container.appendChild(this.wrapper),this.wrapper.appendChild(this.layersFold),this._initLayers(t,null,e),this.hasFixedLayers&&this.holder.on("statusChange, activated, deactivated",this._setFixedContainerClass,this),this._updateWrapperSize(),u.on("breakpointChange",this._updateWrapperSize,this),this.keepWrapperAspectRatio&&this.holder.on("resize",this._updateWrapperSize,this),this.trigger("layersSetup",[this])}changeWrapperSize(t,e){this.wrapperWidth=t,this.wrapperHeight=e,this._updateWrapperSize()}_initLayers(t,e,i,s){t.querySelectorAll(`:scope > .${r}-layer, :scope > a > .${r}-layer`).forEach(((t,n)=>{let o=!1;"A"===t.parentNode.nodeName&&(o=!0);let a=t.getAttribute("data-type")||"custom";h.call(Ti,a)||(a="custom");const l=Ti[a];if(l){const h=new l(t,a,this,this.holder,n,o,s);n="false"!==t.getAttribute("data-wrap"),h.positionType=t.getAttribute("data-position"),"static"===h.positionType?h.frame.classList.add(`${r}-static`):h.isFixed=!0!==i&&"fixed"===h.positionType,h.isFixed?this._appendToFixedContainer(h,n):e?e.appendChild(h.frame):this._appendToLayersContainer(h,n),h.init(),this.layers.push(h),h.nestable&&this._initLayers(h.element,h.element,!0,h)}}))}_updateWrapperSize(){var t=m(this.wrapperWidth),e=m(this.wrapperHeight);this.wrapper&&(this.wrapper.style.maxWidth=t+"px",this.wrapper.style.height=e+"px"),this.keepWrapperAspectRatio&&(this.wrapper.style.height=e*Math.min(1,this.wrapper.offsetWidth/t)+"px"),this.fixedWrapper&&(this.fixedWrapper.style.maxWidth=t+"px",this.fixedWrapper.style.maxHeight=e+"px")}_setFixedContainerClass(t,e,i,s){"activated"===t?this.fixedContainer.classList.add(`${r}-active`):"deactivated"===t?this.fixedContainer.classList.remove(`${r}-active`):(this.fixedContainer.classList.add(`${r}-${i}`),s&&this.fixedContainer.classList.remove(`${r}-${s}`))}_appendToLayersContainer(t,e){this.hasLayers=!0,(e?this.layersFold:this.container).appendChild(t.frame)}_appendToFixedContainer(t,e){this.hasFixedLayers||(this.hasFixedLayers=!0,this.fixedContainer=document.createElement("div"),this.fixedContainer.classList.add(`${r}-layers-container`),this.fixedContainer.classList.add(`${r}-fixed`),this.fixedLayersFold=document.createElement("div"),this.fixedLayersFold.classList.add(`${r}-layers-fold`),this.fixedWrapper=document.createElement("div"),this.fixedWrapper.classList.add(`${r}-layers-wrapper`),this.fixedContainer.appendChild(this.fixedWrapper),this.fixedWrapper.appendChild(this.fixedLayersFold)),(e?this.fixedLayersFold:this.fixedContainer).appendChild(t.frame)}}var Mi=(t,e)=>t.map(((t,i)=>void 0!==t&&""!==t||!Array.isArray(e)?t:e[i]));Ht.registerAddon("layersAdapter",class{constructor(t){this.composer=t,this.composer.options.register({fadeLayers:!1}),this.composer.on("beforeSectionsSetup",this._init,this)}_init(){this.wrapperWidth=this.composer.options.get("width"),this.wrapperHeight=this.composer.options.get("height"),this.composer.options.get("fadeLayers")&&this.composer.element.classList.add(`${r}-fade-layers`),this.composer.on("sectionBeforeMount",this.readLayers,this)}readLayers(t,e){if(!e.layersController){e.loadTrigger.hold(),this.wrapperWidth=this.composer.options.get("width"),e.element.dataset.wrapperWidth&&(this.wrapperWidth=Mi(e.element.dataset.wrapperWidth.split(","),this.wrapperWidth)),this.wrapperHeight=this.composer.options.get("height"),e.element.dataset.wrapperHeight&&(this.wrapperHeight=Mi(e.element.dataset.wrapperHeight.split(","),this.wrapperHeight));const t=new Pi(e,this.wrapperWidth,this.wrapperHeight,this.composer.options.get("keepAspectRatio"));if(t.composer=this.composer,t.parentEmitter=this.composer,e.layersController=t,t.setupLayers(e.element),e.element.appendChild(t.container),t.hasFixedLayers){if(!this.composer.fixedLayersContainer){const t=document.createElement("div");t.classList.add(`${r}-fixed-layers`),this.composer.view.element.appendChild(t),this.composer.fixedLayersContainer=t,this.composer.trigger("fixedLayersContainer")}this.composer.fixedLayersContainer.appendChild(t.fixedContainer)}e.loadTrigger.exec()}}}),Ht.registerAddon("layerSizing",class{constructor(t){this.composer=t,this.composer.on("layerCreate",this._checkLayer,this),this.layersList=[],u.on("breakpointChange",this._update,this)}_checkLayer(t,e){const i=e.element.getAttribute("data-width")||"",s=e.element.getAttribute("data-height")||"";var n;(i||s)&&(n={layer:e,height:s&&s.split(","),width:i&&i.split(",")},this.layersList.push(n),this._updateLayer(e,n.width,n.height,d().name))}_updateLayer(t,e,i,s){if(t.relativeSizing=!1,i){const e=m(i,s);e.includes("%")?(t.frame.classList.add(`${r}-relative-height`),t.frame.style.height=e,t.element.style.height="",t.relativeSizing=!0):(t.frame.classList.remove(`${r}-relative-height`),t.frame.style.height="",t.element.style.height=e)}if(e){const i=m(e,s);i.includes("%")?(t.frame.classList.add(`${r}-relative-width`),t.frame.style.width=i,t.element.style.width="",t.relativeSizing=!0):(t.frame.classList.remove(`${r}-relative-width`),t.frame.style.width="",t.element.style.width=i)}}_update(t,e){this.layersList.forEach((({layer:t,height:i,width:s})=>this._updateLayer(t,s,i,e)))}});class Bi extends o{constructor(t,e){super(),this.composer=t,this.eventPrefix="layersSurface",this.element=e,this.loadTrigger=new Vt(this.loadStart.bind(this)),this.readyTrigger=new Vt(this.ready.bind(this)),this.readyTrigger.hold(),this.composer.once("init",(()=>this.readyTrigger.exec()))}setup(){this.trigger("beforeSetup",[this],!0),this.layersController.layers.forEach((t=>{t.isOnSurface=!0,t.element.hasAttribute("data-show-on-sections")&&(t.showOnSections=t.element.getAttribute("data-show-on-sections").replace(/\s+/g,"").split(",")),t.element.hasAttribute("data-hide-on-sections")&&(t.hideOnSections=t.element.getAttribute("data-hide-on-sections").replace(/\s+/g,"").split(","))}),this),this.loadTrigger.exec(),this.composer.on("resize",(()=>this.trigger("resize",[this],!0)),this)}_changeLayersState(){var t;null!==(t=this._startingSection)&&void 0!==t&&t.off("readyAndActivated",this._changeLayersState,this),this._startingSection=null,this.layersController.layers.forEach((t=>{this._checkForShow(t)?t.show():t.hide()}))}loadStart(){this.trigger("loadingStart",[this],!0),this.readyTrigger.exec()}ready(){this.element.classList.add(`${r}-ready`),this.element.classList.add(`${r}-active`),this.isReady=!0,this.active=!0,this.isActivated=!0,this.ready=!0,this.composer.on("changeStart",this._changeLayersState,this);const t=this.composer.view.currentSection;t.isReady?this._changeLayersState():(t.once("readyAndActivated",this._changeLayersState,this),this._startingSection=t),this.trigger("ready",[this],!0),this.trigger("readyAndActivated",[this],!0)}_checkForShow(t){var e=this.composer.navigator.targetSectionIndex;e=this.composer.view.sections[e].id;const i=t.hideOnSections,s=t.showOnSections;return s?!!e&&-1!==s.indexOf(e):!e||!i||i.length&&-1===i.indexOf(e)}}Ht.registerAddon("overlayLayersAdapter",class{constructor(t){this.composer=t,this.composer.on("beforeSectionsSetup",this._init,this)}_init(){if(this.wrapperWidth=this.composer.options.get("width"),this.wrapperHeight=this.composer.options.get("height"),this.layersContainer=this.composer.element.querySelector(`.${r}-overlay-layers`),this.layersContainer){this.layersSurface=new Bi(this.composer,this.layersContainer),this.layersSurface.parentEmitter=this.composer,this.composer.view.element.appendChild(this.layersContainer);const t=new Pi(this.layersSurface,this.wrapperWidth,this.wrapperHeight,this.composer.options.get("keepAspectRatio"));t.parentEmitter=this.composer,t.composer=this.composer,this.layersController=t,t.setupLayers(this.layersContainer),this.composer.on("indexesChange",this._updateWrapperSize,this),t.hasLayers&&this.layersSurface.element.appendChild(t.container),this.composer.overlayLayers=this.layersSurface,this.layersSurface.setup()}}_updateWrapperSize(t,e){const i=this.composer.view.sections[e[0]];this.wrapperWidth=this.composer.options.get("width"),i.element.dataset.wrapperWidth&&(this.wrapperWidth=Mi(i.element.dataset.wrapperWidth.split(","),this.wrapperWidth)),this.wrapperHeight=this.composer.options.get("height"),i.element.dataset.wrapperHeight&&(this.wrapperHeight=Mi(i.element.dataset.wrapperHeight.split(","),this.wrapperHeight)),this.layersController.changeWrapperSize(this.wrapperWidth,this.wrapperHeight)}});class zi{constructor(t,e=""){this.element=t,this.segments=[],this.transform=e.length?`${e}Transform`:"transform",this._id=0}add(t,e=0){return this._id+=1,this.segments.push({transform:t,depth:e,id:this._id}),this._sort(),t&&t.length&&this._apply(),this._id}update(t,e,i){-1!==(e=this._find(e))&&(void 0!==i&&(this.segments[e].depth=i,this._sort()),null!==t&&(this.segments[e].transform=t,this._apply()))}remove(t){-1!==(t=this._find(t))&&(this.segments.splice(t,1),this._apply())}_apply(){if(0!==this.segments.length){let t="";this.segments.forEach((e=>{e.transform&&(t+=e.transform+" ")})),this.element.style[this.transform]=t}else this.element.style[this.transform]=""}_sort(){this.segments.sort(((t,e)=>t.depth-e.depth))}_find(t){let e=-1;return this.segments.some(((i,s)=>(e=s,t===i.id))),e}}const Di=["width","height","padding-bottom","padding-top","padding-left","padding-right"],Vi=["font-size"];class ji{constructor(t,e,i){this.layer=t,this.isEnabled=i,this.positionHandler=e,this.resizeType=t.element.getAttribute("data-resize-type")||"scale-relocate",this.resetResize="false"!==t.element.getAttribute("data-reset-resize"),this.scaleType=t.element.getAttribute("data-scale-type")||"scale",this.upscale="true"===t.element.getAttribute("data-upscale"),this.scale=-1!==this.resizeType.indexOf("scale"),this.relocate=-1!==this.resizeType.indexOf("relocate"),this._firstLocate=!0,this.scale&&("scale"===this.scaleType?this.scaleTransform=t.frameTransform.add(null,100):this.layerInlineStyle=this.layer.element.getAttribute("style"),this.updateBaseStyle())}updateBaseStyle(){var t=this.scaleType.toLowerCase();if("scale"!==t){let e;switch(t){case"box":default:e=Di;break;case"typography-box":e=[].concat(Di,Vi);break;case"typography":e=Vi}this.baseStyle={},this.layer.element.setAttribute("style",this.layerInlineStyle),e.forEach((t=>{var e=getComputedStyle(this.layer.element)[t];this.baseStyle[t]=e}))}}update(){var t=d().name,e=m(this.layer.controller.wrapperWidth,t);let i=this.layer.composer.element.clientWidth/e;if(this.isEnabled&&m(this.isEnabled,t)||(i=1),this.scale)if(this.upscale||(i=Math.min(1,i)),"scale"===this.scaleType){if(this.layer.relativeSizing)return;this.layer.frameTransform.update(`scale(${i})`,this.scaleTransform)}else{const t=this.positionHandler;Object.keys(this.baseStyle).forEach((e=>{"width"===e&&t.floatWidth||"height"===e&&t.floatHeight||(this.layer.element.style[e]=parseFloat(this.baseStyle[e])*i+"px")}))}if(this.relocate){const t=this.positionHandler.activeOffset,e=t.origin||"tl";let o=i;const r=this.layer.frame;if(this.upscale||(o=Math.min(1,o)),-1===t.x.indexOf("%")){var s=parseInt(t.x,10)*o;switch(e.charAt(1)){case"l":default:r.style.left=s+"px";break;case"r":r.style.right=s+"px";break;case"c":r.style.left=0==s?"50%":"calc( 50% + "+s+"px )"}}if(-1===t.y.indexOf("%")){var n=parseInt(t.y,10)*o;switch(e.charAt(0)){case"t":default:r.style.top=n+"px";break;case"b":r.style.bottom=n+"px";break;case"m":r.style.top=0==n?"50%":"calc( 50% + "+n+"px )"}}}}}const Ri={t:"top",m:"center",b:"bottom",l:"left",r:"right",c:"center"};class Wi{constructor(t){(this.layer=t).frame.classList.add(`${r}-pos-absolute`),this.layer.frame.style.zIndex=this.layer.index+10;const i=e({none:{x:"0px",y:"0px",origin:"tl"}},g(t.element,"offset"));Object.keys(i).forEach((t=>{"string"==typeof i[t]&&(i[t]=this._getOffsetObject(i[t]))})),this.layer.offsets=i,this.layer.element.getAttribute("data-responsive-scale")&&!this.layer.nested&&(t=this.layer.element.getAttribute("data-responsive-scale").split(",").map((t=>t.length?"true"===t:"")),this.resizeHandler=new ji(this.layer,this,t),this.layer.holder.on("resize",this.resizeHandler.update,this.resizeHandler)),u.on("breakpointChange",this.locate,this)}locate(){const t=this.layer.frame,e=m(this.layer.offsets);this.activeOffset=e,void 0!==e.width&&(-1===e.width.indexOf("%")?(this.layer.element.style.width=e.width,t.classList.remove(`${r}-float-width`),this.floatWidth=!1):(t.style.width=e.width,t.classList.add(`${r}-float-width`),this.floatWidth=!0)),void 0!==e.height&&(-1===e.height.indexOf("%")?(this.layer.element.style.height=e.height,t.classList.remove(`${r}-float-height`),this.floatHeight=!1):(t.style.height=e.height,t.classList.add(`${r}-float-height`),this.floatHeight=!0)),t.style[`${Ei.js}Transform`]="",this.layer.frameTransform.update("",this._transformSegment),t.style.top="",t.style.left="",t.style.bottom="",t.style.right="";const i=e.origin||"tl";var s=i.charAt(0),n=i.charAt(1);let o="";t.style[`${Ei.js}TransformOrigin`]=Ri[s]+" "+Ri[n];var{width:a,height:h}=t.getBoundingClientRect();switch(s){case"t":default:t.style.top=e.y;break;case"b":t.style.bottom=e.y;break;case"m":"0"===e.y&&(e.y="0px"),o=`translateY(${h%2==0?"-50%":"calc(-50% + 0.5px)"})`,t.style.top=`calc(50% + ${e.y})`}switch(n){case"l":default:t.style.left=e.x;break;case"r":t.style.right=e.x;break;case"c":"0"===e.x&&(e.x="0px"),t.style.left=`calc(50% + ${e.x})`,o+=` translateX(${a%2==0?"-50%":"calc(-50% + 0.5px)"})`}this.layer.frameTransform.update(o,this.layer.transformSegment),this.resizeHandler&&(this.resizeHandler.updateBaseStyle(),this.resizeHandler.update())}_getOffsetObject(t){const e={};return t.replace(/\s/g,"").split(";").forEach((t=>{t=t.split(":"),e[t[0]]=t[1]})),e}}function Ni(t){if(!t||0===t.length)return{};const e={},i=t.toLowerCase().replace(/-(.)/g,((t,e)=>e.toUpperCase())).replace(/;\s?$/g,"").split(/:|;/g);for(let t=0;t<i.length;t+=2)e[i[t].replace(/\s/g,"")]=i[t+1].replace(/^\s+|\s+$/g,"");return e}class Fi{constructor(t,e){this.element=t,e=e||g(t,"style"),0===(t=Object.keys(e).length)||1===t&&h.call(e,"none")||(Object.keys(e).forEach((t=>{"none"!==t&&(e[t]=Ni(e[t]))})),e.none={},this.styles=e,u.on("breakpointChange",this.update,this),this.lastActivePoint="none",this.updateBaseStyle(),this.update())}updateBaseStyle(){this.baseStyle=Ni(this.element.getAttribute("style"))}update(){const t={};"none"!==this.lastActivePoint&&Object.keys(this.lastStyle).forEach((e=>{this.baseStyle[e]?t[e]=this.baseStyle[e]:t[e]=""})),this.lastActivePoint=u.activeBreakpoint;let i=m(this.styles,this.lastActivePoint);this.lastStyle=i,i=e(e({},t),i),requestAnimationFrame((()=>{Object.keys(i).forEach((t=>{this.element.style[t]=i[t]}))}))}}class Hi{constructor(t,e){this.element=t,e=e||g(this.element,"class"),0===(t=Object.keys(e).length)||1===t&&h.call(e,"none")||(Object.keys(e).forEach((t=>{"none"!==t&&(e[t]=e[t].replace(/(\s\s)+/g," ").split(" "))})),this.classNames=e,this.classNames.none=[],u.on("breakpointChange",this.update,this),this.lastActivePoint="none",this.update())}update(){"none"!==this.lastActivePoint&&this.lastClasses.forEach((t=>this.element.classList.remove(t))),this.lastActivePoint=u.activeBreakpoint;const t=m(this.classNames,this.lastActivePoint);this.lastClasses=t,t.forEach((t=>this.element.classList.add(t)))}}class Yi extends o{constructor(t,e,i,s,n,o,a){super(),this.type=e,this.element=t,this.controller=i,this.holder=s,this.index=n,this.isLinked=o,this.parent=a,this.composer=this.controller.composer,this.id=t.id,this.composer.layersById||(this.composer.layersById={}),this.id&&(this.composer.layersById[this.id]=this),this.parentEmitter=i,this.eventPrefix="layer",o&&(this.linkElement=t.parentElement),this.parent&&(this.nested=!0),this.frame=document.createElement("div"),this.frame.classList.add(`${r}-layer-frame`),this.element.hasAttribute("data-frame-class")&&this.frame.classList.add(this.element.getAttribute("data-frame-class")),this.element.hasAttribute("data-frame-id")&&(this.frame.id=this.element.getAttribute("data-frame-id")),this.element.hasAttribute("data-frame-style")&&this.frame.setAttribute("style",this.element.getAttribute("data-frame-style")),this.elementBreakpointStyle=new Fi(this.element),this.elementBreakpointClass=new Hi(this.element),this.frameBreakpointStyle=new Fi(this.frame,g(this.element,"frame-style")),this.frameBreakpointClass=new Hi(this.frame,g(this.element,"frame-class")),this.isLinked?this.frame.appendChild(this.linkElement):this.frame.appendChild(this.element),this.readyTrigger=new Vt(this._ready.bind(this)),this.offsets={},this.trigger("create",[this],!0)}init(t){t||this.trigger("beforeInit",[this],!0),this.element.hasAttribute("data-id")&&(this.id=this.element.getAttribute("data-id"),this.frame.classList.add(`${r}-id-${this.id}`)),this.frameTransform=new zi(this.frame,Ei.js),this.transformSegment=this.frameTransform.add(),this.disablePositionHandler||this.element.hasAttribute("data-position-handler")&&"absolute"!==this.element.getAttribute("data-position-handler")||(this.positionHandler=new Wi(this));const e=this.element.getAttribute("data-hide-on");var i,s,n,o,a;this.bpVisible=!0,e&&([i,s,n,o="depicter-hidden"]=[this.frame,e.split(","),t=>{this.bpVisible=!t,this.trigger("visibilityChange",[this,t],!0)},`${r}-layer-hidden`],(a=(t,e)=>{s.includes(e=null===e?"desktop":e)?(n&&n(!0),i.classList.add(o)):(n&&n(!1),i.classList.remove(o))})(0,d().name),u.on("breakpointChange",a)),this._setupContent(),t||(this.trigger("afterInit",[this],!0),this.readyTrigger.exec())}show(){this.isHidden=!1,this.element.style.visibility="",this.frame.classList.remove(`${r}-is-hidden`)}hide(){this.isHidden=!0,this.element.style.visibility="hidden",this.frame.classList.add(`${r}-is-hidden`)}_setupContent(){}_ready(){this.ready=!0,this.positionHandler&&this.positionHandler.locate(),this.trigger("ready",[this],!0)}}Pi.registerLayer("custom",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="custom",this.frame.classList.add(`${r}-${this.type}-layer`)}}),Pi.registerLayer("text",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="text",this.frame.classList.add(`${r}-${this.type}-layer`)}}),Pi.registerLayer("button",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="button",this.frame.classList.add(`${r}-${this.type}-layer`)}}),Pi.registerLayer("shape",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="shape",this.frame.classList.add(`${r}-${this.type}-layer`)}_setupContent(){var t;null!==(t=this.element.querySelector("svg"))&&void 0!==t&&t.setAttribute("preserveAspectRatio","none")}}),Pi.registerLayer("image",class extends Yi{constructor(t,i,s,n,o,a){super(t,i,s,n,o,a),this.type="image",this.frame.classList.add(`${r}-${this.type}-layer`),this.picture=this.element,this.image=this.picture.querySelector("img"),this.isImageLoaded=!1,this.cropData=e({},g(this.element,"crop"))}_setupContent(){this.picture&&(this.mediaPosition=null,this.mediaSize=null,this.previousCropValue=null,this.cropData=this._getCropObject(this.cropData),this.holder.readyTrigger.hold(),this.holder.on("loadingStart",this._loadImages,this),this.holder.on("resize, readyAndActivated",this.locateImage,this),u.on("breakpointChange",(()=>{this.locateImage()})))}locateImage(){var t,e;this.isImageLoaded&&((t=m(this.cropData))?(({focalPoint:e,mediaSize:t}=t),({position:t,mediaSize:e}=_i(t.width,t.height,e.x,e.y,this.element.offsetWidth,this.element.offsetHeight)),this.mediaSize=e,this.mediaPosition=t,this.image.style.width=`${null===(t=this.mediaSize)||void 0===t?void 0:t.width}px`,this.image.style.height=`${null===(t=this.mediaSize)||void 0===t?void 0:t.height}px`,this.image.style.left=`-${null===(t=this.mediaPosition)||void 0===t?void 0:t.x}px`,this.image.style.top=`-${null===(t=this.mediaPosition)||void 0===t?void 0:t.y}px`,this.picture.classList.add(`${r}-cropped`)):(this.mediaSize=null,this.mediaPosition=null,this.image.removeAttribute("style"),this.picture.classList.remove(`${r}-cropped`)))}_loadImages(){xi(this.picture,this._loaded.bind(this),this._error.bind(this),this._srcChanged.bind(this))}_loaded(){this.image.classList.add(`${r}-loaded`),this.isImageLoaded=!0,this.locateImage(),this.holder.readyTrigger.isExecuted()||this.holder.readyTrigger.exec()}_error(){this.holder.readyTrigger.exec()}_srcChanged(){this.image.classList.remove(`${r}-loaded`),this.isImageLoaded=!1}_getCropObject(t){const e=t;return Object.entries(t).forEach((([t,i])=>{if("false"!==i.trim()){i=i.replace(/'/g,'"');try{e[t]=JSON.parse(i)}catch(t){console.warn("Given crop data value is not a valid JSON, crop skipped. \n "+i)}}else e[t]=!1})),e}});const Xi={},qi={},Zi=[],Ui=Object.prototype.hasOwnProperty;class Gi{static registerPlayer(t,e){Ui.call(Xi,t)||(Xi[t]=e)}static get players(){return Xi}constructor(t){this.type="custom","string"==typeof t?(this.videoSourceType="embed",this.type=this._getTypeBySrc(t),Ui.call(Xi,this.type)&&(this.player=new Xi[this.type](this)),this.element=this._generateIframe(t),this.source=this.element):"IFRAME"===t.tagName?(this.videoSourceType="embed",this.type=this._getTypeBySrc(t.getAttribute("src")),this.element=t,this.source=t,Ui.call(Xi,this.type)&&(this.player=new Xi[this.type](this))):"VIDEO"===t.tagName&&(this.videoSourceType="self-hosted",this.element=t,t=(this.source=t).getAttribute("data-player-type")||"native",Ui.call(Xi,t)&&(this.type=t,this.player=new Xi[this.type](this)))}setup(t,e){"custom"!==this.type&&(this._readyCallback=t,this._errorCallback=e,this.player.init())}playerIsReady(){this.ready=!0,this._readyCallback&&this._readyCallback()}loadScript(t,e){if(qi[`${this.type}_isLoaded`])e();else if(qi[this.type]?qi[this.type].push(e):qi[this.type]=[e],-1===Zi.indexOf(t)){Zi.push(t);const e=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.onload=()=>{qi[this.type].forEach((t=>t())),qi[`${this.type}_isLoaded`]=!0},i.onreadystatechange=i.onload,this._errorCallback&&(i.onerror=this._errorCallback),i.src=t,e.appendChild(i)}}_getTypeBySrc(t){let e="custom";return Object.keys(Xi).some((i=>{const s=Xi[i];return!(!s.iframeEmbed||!s.validate(t)||(e=i,0))})),e}_generateIframe(t){this.player&&this.player.beforeIframe&&(t=this.player.beforeIframe(t));const e=document.createElement("iframe");return e.setAttribute("src",t),e.setAttribute("allowtransparency","true"),e.setAttribute("frameborder","0"),e.setAttribute("scrolling","no"),e.setAttribute("allowfullscreen",""),this.player&&this.player.afterIframe&&(t=this.player.afterIframe(t)),e}}Gi.registerPlayer("mejs",class{constructor(t){this.ve=t}init(){if(!window.MediaElementPlayer)throw new Error("MediaElementJS not found.");this.api=new window.MediaElementPlayer(this.ve.element,{success:()=>{setTimeout(this._apiReady.bind(this),0)}}),this.ve.element=this.api.container}setupInterface(){Object.assign(this.ve,{play:this.api.play.bind(this.api),pause:this.api.pause.bind(this.api),mute:()=>{this.api.setMuted(!0)},unmute:()=>{this.api.setMuted(!1)},stop:()=>{this.api.setCurrentTime(0),this.api.pause()},on:this.on.bind(this),off:this.off.bind(this)})}on(t,e){this.ve.source.addEventListener(t="play"===t?"playing":t,e,!1)}off(t,e){this.ve.source.removeEventListener(t,e,!1)}_apiReady(){this.setupInterface(),this.ve.playerIsReady(this.api)}}),Gi.registerPlayer("native",class{constructor(t){this.ve=t}init(){this.api=this.ve.element,this.setupInterface(),this.ve.playerIsReady(this.api)}setupInterface(){Object.assign(this.ve,{play:this.api.play.bind(this.api),pause:this.api.pause.bind(this.api),mute:()=>{this.api.muted=!0},unmute:()=>{this.api.muted=!1},stop:()=>{this.api.currentTime=0,this.api.pause()},on:this.on.bind(this),off:this.off.bind(this)})}on(t,e){this.ve.element.addEventListener(t,e,!1)}off(t,e){this.ve.element.removeEventListener(t,e,!1)}});const Ki=/http(?:s?):\/\/(?:www\.)?\w*.?vimeo.com/,Ji=/(?:http?s?:\/\/)?(?:www\.)?(?:vimeo\.com)\/?(.+)/;Gi.registerPlayer("vimeo",class{static validate(t){return Ki.test(t)}static get iframeEmbed(){return!0}constructor(t){this.ve=t}beforeIframe(t){return-1===t.indexOf("/video/")?`https://player.vimeo.com/video/${t.match(Ji)[1]}`:t}init(){window.Vimeo?(this.api=new window.Vimeo.Player(this.ve.element),this.setupInterface(),this.ve.playerIsReady(this.api)):this.ve.loadScript("https://player.vimeo.com/api/player.js",(()=>{this.init()}))}setupInterface(){Object.assign(this.ve,{play:this.api.play.bind(this.api),pause:this.api.pause.bind(this.api),mute:()=>{this._currentVol=this.api.getVolume(),this.api.setVolume(0)},unmute:()=>{this.api.setVolume(this._currentVol)},stop:()=>{this.api.setCurrentTime(0),this.api.pause()},on:this.api.on.bind(this.api),off:this.api.off.bind(this.api)})}});const Qi=/http(?:s?):\/\/(?:www\.)?youtu(?:be\.com|\.be\/)/,ts=/(?:http?s?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?(.+)/;Gi.registerPlayer("youtube",class{static validate(t){return Qi.test(t)}static get iframeEmbed(){return!0}constructor(t){this.ve=t,this._apiReady=this._apiReady.bind(this),this._onAPIReloaded=this._onAPIReloaded.bind(this),this._onStateChange=this._onStateChange.bind(this),this._listeners={},this.ve.element.src=this.checkSrc(this.ve.element.src)}checkSrc(t){return-1===(t=-1===t.indexOf("/embed/")?`https://www.youtube.com/embed/${t.match(ts)[1]}`:t).indexOf("enablejsapi")&&(t+=(-1===t.indexOf("?")?"?":"&")+"enablejsapi=1"),t}beforeIframe(t){return this.checkSrc(t)}init(t){if(window.YT&&window.YT.Player)this.api=new window.YT.Player(this.ve.element),this.api.addEventListener("onReady",this._apiReady,!1);else if(t){let t;window.onYouTubeIframeAPIReady&&(t=window.onYouTubeIframeAPIReady),window.onYouTubeIframeAPIReady=()=>{t&&t(),this.init()}}else this.ve.loadScript("https://www.youtube.com/iframe_api",(()=>{this.init(!0)}))}setupInterface(){Object.assign(this.ve,{play:this.api.playVideo.bind(this.api),pause:this.api.pauseVideo.bind(this.api),mute:this.api.mute.bind(this.api),unmute:this.api.unMute.bind(this.api),stop:()=>{this.api.seekTo(0),this.api.pauseVideo()},on:this.on.bind(this),off:this.off.bind(this)})}on(t,e){this._eventAdded||(this._eventAdded=!0,this.api.addEventListener("onStateChange",this._onStateChange,!1)),this._listeners[t]?this._listeners[t].push(e):this._listeners[t]=[e]}off(t,e){!this._listeners[t]||-1!==(e=this._listeners[t].indexOf(e))&&this._listeners[t].splice(e,1)}_apiReady(){this.setupInterface(),this.ve.playerIsReady(this.api),this.api.removeEventListener("onReady",this._apiReady,!1),this.api.addEventListener("onReady",this._onAPIReloaded,!1)}_onAPIReloaded(){"play"===this._state&&this.ve.play()}_onStateChange(t){let e;switch(t.data){case 0:e="ended";break;case 1:e="play";break;case 2:e="pause";break;default:return}this._state=e,this._listeners[e]&&this._listeners[e].forEach((t=>{t()}))}}),Gi.registerPlayer("plyr",class{constructor(t){this.ve=t}init(){if(!window.plyr)throw new Error("Plyr not found.");[this.api]=window.plyr.setup(this.ve.element),this.setupInterface(),this.ve.playerIsReady(this.api),this.ve.element=this.api.getContainer()}setupInterface(){Object.assign(this.ve,{play:this.api.play.bind(this.api),pause:this.api.pause.bind(this.api),stop:this.api.stop.bind(this.api),on:this.api.on.bind(this.api),mute:()=>{this.api.isMuted()||this.api.toggleMute()},unmute:()=>{this.api.isMuted()&&this.api.toggleMute()}})}});class es extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="video",this.frame.classList.add(`${r}-${this.type}-layer`),this.playVideo=this.playVideo.bind(this),this._videoState="initial",this.holder.hasVideoLayer=!0}playVideo(t){this.holder.active&&"leaving"!==this.holder.status&&"playing"!==this._videoState&&this.videoElement.ready&&this.bpVisible&&(t&&this.trigger("playByBtn",[this],!0),this.videoElement.play(),this.element.classList.add(`${r}-playing`))}stopVideo(){"stopped"!==this._videoState&&this.videoElement.ready&&(this.autoPause?this.videoElement.pause():this.videoElement.stop(),this.element.classList.remove(`${r}-playing`))}_setupContent(){var t;this.coverImage=this.element.querySelector("img"),this.videoSource=this.element.querySelector("iframe, video"),this.autoplay="true"===this.element.getAttribute("data-autoplay"),this.autoPause="true"===this.element.getAttribute("data-auto-pause"),this.videoSource&&(this.looped="false"!==this.videoSource.getAttribute("data-loop"),"IFRAME"===this.videoSource.tagName?this.videoSource.src=this.videoSource.src.replace("autoplay=1",""):"VIDEO"!==this.videoSource.tagName||this.videoSource.hasAttribute("data-player-type")||(t=this.videoSource.getAttribute("data-object-fit")||"cover",this.videoSource.style.objectFit=t,this.videoSource.setAttribute("data-object-fit",t),this.videoSource.hasAttribute("data-object-position")&&(t=this.videoSource.getAttribute("data-object-position"),this.videoSource.style.objectPosition=t),this.videoSource.setAttribute("playsinline",""),this.videoSource.setAttribute("webkit-playsinline","")),this.videoElement=new Gi(this.videoSource),this.videoElement.setup(this._videoControllerReady.bind(this)),this.videoElement.element.classList.add(`${r}-video-player`),"mejs"===this.videoElement.type&&(this.videoElement.player.api.options.stretching="responsive"),this.coverImage&&(this.playBtn=document.createElement("div"),this.playBtn.classList.add(`${r}-video-btn`),this.playBtn.addEventListener("click",this.playVideo,!1),this.element.appendChild(this.playBtn),this.holder.readyTrigger.hold()),this.autoplay&&this.holder.on("activated",this.playVideo,this),this.holder.on("deactivated",this.stopVideo,this),this.holder.on("loadingStart",this._startLoading,this),this.on("visibilityChange",((t,e,i)=>{i||!this.autoplay&&!this.wasPlaying?i&&(this.wasPlaying="playing"===this._videoState,this.stopVideo()):this.playVideo()})),this.holder.composer.on("attach",(()=>{this.wasPlaying&&this.playVideo()})))}_videoControllerReady(){this._onVideoPlay=this._onVideoPlay.bind(this),this._onVideoPause=this._onVideoPause.bind(this),this._onVideoEnded=this._onVideoEnded.bind(this),this.videoElement.on("play",this._onVideoPlay),this.videoElement.on("pause",this._onVideoPause),this.videoElement.on("ended",this._onVideoEnded),window.objectFitPolyfill&&window.objectFitPolyfill(this.videoSource),this.autoplay&&this.playVideo()}_startLoading(){this.coverImage&&wi(this.coverImage,this._loaded.bind(this),this._error.bind(this))}_loaded(){this.coverImage.classList.add(`${r}-loaded`),this.holder.readyTrigger.exec()}_error(){this.holder.readyTrigger.exec()}_onVideoPlay(){this._videoState="playing",this.trigger("videoPlay",[this],!0)}_onVideoPause(){this._videoState="stopped",this.trigger("videoPause",[this],!0)}_onVideoEnded(){this._videoState="ended",this.looped&&this.playVideo(),this.trigger("videoEnded",[this],!0)}}let is;function ss(t){const e=e=>function(t,e){"readyAndActivated"===t?e.waitForAction||e.animateInOut("in",!0):"readyAndDeactivated"===t&&e.autoAnimateOut&&e.animateInOut("out")}(e,t);let i;((t,e)=>{const i=[];let s;t.forEach(((t,n)=>((t,e)=>{let i,s=t;if(Array.isArray(t)){if(1===t.length)return void e(t[0]);s=t.slice()}else{if("string"!=typeof t||!t.includes(","))return void e(s);s=t.split(",").map((t=>t.trim()))}t=(t,n)=>{(n=m(s,n))!==i&&(i=n,e(n))},u.on("breakpointChange",t),t(0,u.activeBreakpoint)})(t,(t=>{i[n]=t,clearTimeout(s),s=setTimeout((()=>{e(i)}),1)}))))})([t.interactiveAnimationIn,t.interactiveAnimationOut],(s=>{const[n,o]=s.map((t=>"true"===t));i&&t.holder.off("pendingOffsetChange",i),n||o?(i=(e,i,s,r)=>{var a,h;a=t,h=r,r=o,0<=h&&n?a.progressInOut(Math.max(0,1-h),"in"):h<0&&r&&a.progressInOut(Math.min(1,-h),"out")},t.disableAutoAnimateOut=!0,t.holder.on("pendingOffsetChange",i),t.holder.active&&t.holder.triggerPendingOffsetChange()):t.disableAutoAnimateOut=!1,n?t.holder.off("readyAndActivated",e):(t.holder.active&&t.holder.isReady&&e("readyAndActivated"),t.holder.on("readyAndActivated",e)),o?t.holder.off("readyAndDeactivated",e):t.holder.on("readyAndDeactivated",e)}))}Pi.registerLayer("video",es),Pi.registerLayer("embedVideo",es),Pi.registerLayer("hotspot",class extends Yi{constructor(t,e,i,s,n,o){if(super(t,e,i,s,n,o),this.type="hotspot",this._hidden=!0,this.frame.classList.add(`${r}-${this.type}-layer`),!is){const t=e.composer.element.querySelector(`.${r}-hotspot-point-template`);t?(is=t.outerHTML,t.remove()):is='<div class="depicter-hotspot-point depicter-tooltip-point">\n                                <div class="depicter-point-center"></div>\n                                <div class="depicter-point-border"></div>\n                            </div>'}}_setupContent(){this._mouseX=0,this._mouseY=0,this.align=this.element.getAttribute("data-align")||"top",this.tooltipWidth=parseInt(this.element.getAttribute("data-width"),10)||200,this.transparent="true"===this.element.getAttribute("data-transparent");let t=this.element.querySelector(`.${r}-hotspot-point`);t&&t.parentElement.removeChild(t),this.content=this.element.innerHTML,this.element.innerHTML="",this.transparent?t=this.element:t?this.element.appendChild(t):(this.element.innerHTML=is,t=this.element.querySelector(`.${r}-hotspot-point`)),this._mouseInteraction=this._mouseInteraction.bind(this),t.addEventListener("mouseenter",this._mouseInteraction,!1),t.addEventListener("mouseleave",this._mouseInteraction,!1);const e=document.createElement("div");e.classList.add(`${r}-hotspot-tooltip`),e.classList.add(`${r}-align-${this.align}`),this.element.hasAttribute("data-tooltip-class")&&this.element.getAttribute("data-tooltip-class").split(" ").forEach((t=>{e.classList.add(t)})),this.tooltipContainer=document.createElement("div"),this.tooltipContainer.classList.add(`${r}-tooltip-cont`),this.tooltipContainer.innerHTML=this.content,this.tooltipContainer.style.width=this.tooltipWidth+"px","true"===this.element.getAttribute("data-stay-hover")&&(this._tooltipMouseInteraction=this._tooltipMouseInteraction.bind(this),this.tooltipContainer.addEventListener("mouseenter",this._tooltipMouseInteraction,!1),this.tooltipContainer.addEventListener("mouseleave",this._tooltipMouseInteraction,!1)),e.appendChild(this.tooltipContainer),this.holder.composer.layoutController.primaryContainer.appendChild(e),this.tooltip=e,this.hotspotPoint=t}_mouseInteraction(t){"mouseenter"===t.type?(this._mouseX=t.clientX,this._mouseY=t.clientY,this._locateTooltip(),setTimeout(this._showTooltip.bind(this),1)):this._hideTooltip()}_tooltipMouseInteraction(t){"mouseenter"===t.type?this._hidden||this._showTooltip():this._hideTooltip()}_showTooltip(){clearTimeout(this._hideTimeout),this._hidden&&(this.tooltip.classList.add(`${r}-tooltip-active`),this._hidden=!1)}_hideTooltip(){clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout((()=>{this._hidden=!0,this.tooltip.classList.remove(`${r}-tooltip-active`)}),200)}_alignPolicy(t){var e=this.tooltip.offsetHeight;switch(t){case"top":default:if(this.pointY-e<0)return"bottom";break;case"right":if(this.pointX+this.tooltipWidth>window.innerWidth)return"bottom";break;case"left":if(this.pointX-this.tooltipWidth<0)return"bottom"}return null}_locateTooltip(t){let e,i;t=t||this.align;var s=this.frame.getBoundingClientRect();e=s.left+window.pageXOffset,i=s.top+window.pageYOffset,this.transparent&&(e+=this._mouseX-s.left,i+=this._mouseY-s.top);var n=e;if(e-=this.composer.element.offsetLeft+this.composer.element.scrollLeft,i-=this.composer.element.offsetTop+this.composer.element.scrollTop,this.pointX=e,this.pointY=i,this.tooltipContainer.style.left="",this.tooltipContainer.style.right="",this.tooltipContainer.width=this.tooltipWidth+"px",this.tooltip.classList.add(`${r}-no-transition`),this._lastAlign&&this.tooltip.classList.remove(`${r}-align-${this._lastAlign}`),this.tooltip.classList.add(`${r}-align-${t}`),"bottom"===(this._lastAlign=t)||"top"===t){let t=this.tooltipWidth;this.tooltipWidth>=window.innerWidth?(this.tooltipContainer.style.width=window.innerWidth-40+"px",t=window.innerWidth-40):this.tooltipContainer.style.width=t+"px",(s=window.innerWidth-t/2-n)<0?this.tooltipContainer.style.right=-(s-=20)+"px":(n-=t/2,(n-=20)<0&&(this.tooltipContainer.style.left=-n+"px"))}(t=this._alignPolicy(t))?this._locateTooltip(t):(this.tooltip.style.left=e+"px",this.tooltip.style.top=i+"px",this.tooltip.classList.remove(`${r}-no-transition`))}}),Pi.registerLayer("group",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="group",this.nestable=!0,this.frame.classList.add(`${r}-${this.type}-layer`)}}),Pi.registerLayer("flex",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="flex",this.nestable=!0,this.frame.classList.add(`${r}-${this.type}-layer`),this.disablePositionHandler=!0}}),Pi.registerLayer("arrow",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="arrow",this.frame.classList.add(`${r}-${this.type}-layer`)}_setupContent(){this.arrowIcon=this.element.querySelector("svg"),this.arrowIcon.classList.add(`${r}-arrow-icon`)}}),Pi.registerLayer("bullet",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="bullet",this.frame.classList.add(`${r}-${this.type}-layer`),this.activeBulletItemClass=`${r}-bullet-active`}_setupContent(){this.bulletsCount=this.composer.navigator.count,this.generateBullets=this.generateBullets.bind(this),this.bulletItems=[],this.composer.on("countChange",((t,e)=>{e!==this.bulletsCount&&(this.bulletItems=[],this.element.replaceChildren(this.generateBullets(e)),this.handleIndexChange(this.composer.navigator.targetIndex),this.bulletsCount=e)})),this.composer.on("targetIndexChange",((t,e)=>{this.handleIndexChange(e)}))}generateBullets(t){return this.bulletsWrapper=document.createElement("div"),this.bulletsWrapper.classList.add(`${r}-bullets-wrapper`),[...Array(t).keys()].forEach((t=>{const e=document.createElement("span");e.classList.add(`${r}-bullet-item`),this.bulletItems.push(e),e.addEventListener("click",(()=>this.handleNavigate(t))),di(e,this.bulletsWrapper)})),di(this.bulletsWrapper,this.element),this.bulletsWrapper}handleNavigate(t){this.composer.actions.gotoSection({type:"number",to:t})}handleIndexChange(t){this.bulletItems.forEach(((e,i)=>{t!==i&&e.classList.contains(this.activeBulletItemClass)?e.classList.remove(this.activeBulletItemClass):t===i&&e.classList.add(this.activeBulletItemClass)}))}}),Pi.registerLayer("lineTimer",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="lineTimer",this.frame.classList.add(`${r}-${this.type}-layer`)}_setupContent(){this.timerBar=document.createElement("div"),this.timerBar.classList.add(`${r}-timer-bar`),di(this.timerBar,this.element),this.composer.navigator.on("changeStart",(()=>setTimeout(this.handleTimerBarWidth.bind(this),100,.001))),this.composer.on("slideshowTimerUpdate",((t,e)=>this.handleTimerBarWidth(e)))}handleTimerBarWidth(t){0!==t&&(this.timerBar.style.width=`${t}%`)}}),Pi.registerLayer("scroll",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="scroll",this.frame.classList.add(`${r}-${this.type}-layer`)}_setupContent(){this.arrowIcon=this.element.querySelector("svg"),this.arrowIcon.classList.add(`${r}-scroll-icon`)}}),Pi.registerLayer("playAndPause",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="playAndPause",this.frame.classList.add(`${r}-${this.type}-layer`),this.activeClassName=`${r}-active`,this._isPause=!1}_setupContent(){this.playIcon=this.element.querySelector(`.${r}-play-icon`),this.pauseIcon=this.element.querySelector(`.${r}-pause-icon`),this.composer.on("slideshowInit",((t,e)=>{this._isPause=e||!1})),this.composer.on("slideshowStatusChange",((t,e)=>{this._isPause=e,this.toggleClassName(this._isPause)})),this.toggleClassName(this._isPause),this.element.addEventListener("click",this.toggleState.bind(this))}toggleClassName(t){t?(this.pauseIcon.classList.remove(this.activeClassName),this.playIcon.classList.add(this.activeClassName)):(this.playIcon.classList.remove(this.activeClassName),this.pauseIcon.classList.add(this.activeClassName))}toggleState(){const{pause:t,resume:e}=this.composer.slideshow;this._isPause?(e(),this.toggleClassName(!1)):(t(),this.toggleClassName(!0))}}),Ht.registerAddon("layerAnimationAdapter",class{constructor(t){this.composer=t,this.composer.options.register({hideLayers:!0,addDefaultAnimation:!0}),this._stepAnimationLayers=[],this.composer.options.get("disableAnimations")||t.on("layerBeforeInit",this._checkLayer,this)}_checkLayer(t,e){var i,s,n;yi.isAnimative(e.element)&&(e.animationWrap=((t,e)=>{if(e&&t.parentElement.classList.contains(`.${e}`))return t.parentElement;const i=document.createElement("div");return i.classList.add(`${e}`),t.parentElement.insertBefore(i,t),i.appendChild(t),i})(e.element,`${r}-animation-wrap`),i=e,s=this.composer,n=this.composer.options.get("addDefaultAnimation"),i.inOutAnimation=new yi(i,i.element,i.animationWrap,n),i.interactiveAnimationIn=i.element.getAttribute("data-animation-in-interactive"),i.interactiveAnimationOut=i.element.getAttribute("data-animation-out-interactive"),i.waitForAction="true"===i.element.getAttribute("data-wait-for-action"),i.waitOnAnimationOut="false"!==i.element.getAttribute("data-animation-out-wait"),i.autoAnimateOut="true"===i.element.getAttribute("data-animation-out-on-change")||s.options.get("hideLayers"),s=i.holder instanceof Bi,void 0===i.holder.layersAnimations&&(i.holder.layersAnimations=[]),i.holder.layersAnimations[i.index]=i.inOutAnimation.animationsData,i.waitForAction||s||i.holder.disableAnimationAdapterControl?i.hide(!1):ss(i),i.on("animationInEnd",(()=>setTimeout((()=>{i.waitOnAnimationOut||i.disableAutoAnimateOut||i.waitForAction||i.animateInOut("out")})))),this.composer.trigger("layerGetInOutAnimation",[e]))}}),Pi.registerLayer("rating",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="rating",this.frame.classList.add(`${r}-${this.type}-layer`)}_setupContent(){this.symbolID=this.element.getAttribute("data-symbol"),this.rateValue=parseFloat(this.element.getAttribute("data-rate-value")),this.wrapper=document.createElement("div"),this.element.appendChild(this.wrapper),this._calcSymbolValue(this.rateValue).forEach((t=>{this.wrapper.appendChild(this._generateSymbolContainers(t))}))}_calcSymbolValue(t){return[0,0,0,0,0].map(((e,i)=>(i=Math.max(Math.min(t-i,1),0),[0,1].includes(i)?i:t%1)))}_generateSvg(t){const e=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=document.createElementNS("http://www.w3.org/2000/svg","use");return e.setAttribute("width","100%"),e.setAttribute("height","100%"),i.setAttributeNS("http://www.w3.org/1999/xlink","href",`#${t}`),e.appendChild(i),e}_generateSymbolContainers(t){var e=this._generateSvg(this.symbolID),i=this._generateSvg(this.symbolID);const s=document.createElement("div");s.appendChild(e);const n=document.createElement("div");n.appendChild(i),n.style.clipPath=`inset(0 ${100-100*t}% 0 0)`;const o=document.createElement("div");return o.classList.add(`${r}-rating-container`),o.appendChild(s).classList.add(`${r}-symbol-container`),o.appendChild(n).classList.add(`${r}-track-container`),this.element.appendChild(o)}});Pi.registerLayer("date",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="date",this.frame.classList.add(`${r}-${this.type}-layer`)}_setupContent(){this.useRelative="true"===this.element.getAttribute("data-use-relative"),this.displayTime="true"===this.element.getAttribute("data-display-time"),this.formatStyle=this.element.getAttribute("data-format-style")||"auto";var t=((t,i={})=>{var{locale:s="en-US",useRelative:n=!1,formatOptions:i}=i;if(!t)return null;const o=new Date(t);return n?(n=(t,e=2,i="0")=>`${t}`.padStart(e,i),((t,i="en",s={})=>{var n=Date.now()/1e3;const[o,r]=t.trim().split(" ");t=[...o.split("-").map(((t,e)=>parseInt(t,10)+(1===e?-1:0))),...r.split(":").map((t=>parseInt(t,10)))],t=Date.UTC(...t)/1e3;const a=new Intl.RelativeTimeFormat(i,e({numeric:"auto"},s));var h=Math.round(t-n);switch(!0){case Math.abs(h)<60:return a.format(Math.round(h),"seconds");case 60<Math.abs(h)&&Math.abs(h)<3600:return a.format(Math.round(h/60),"minute");case 3600<Math.abs(h)&&Math.abs(h)<86400:return a.format(Math.round(h/3600),"hour");case 86400<Math.abs(h)&&Math.abs(h)<2592e3:return a.format(Math.round(h/86400),"day");default:return a.format(Math.round(h/2592e3),"month")}})(`${o.getFullYear()}-${n(o.getDate())}-${n(o.getMonth()+1)} ${n(o.getHours())}:${n(o.getMinutes())}:${n(o.getSeconds())}`)):new Intl.DateTimeFormat(s,i).format(o)})(this.element.dateTime,{useRelative:this.useRelative,formatOptions:((t,i=!1)=>{let s={};return s="auto"===t?e({year:"numeric",month:"long",day:"numeric"},i?{hour12:!1,minute:"numeric",hour:"numeric"}:{}):e({dateStyle:t},i?{timeStyle:t}:{}),s})(this.formatStyle,this.displayTime)});this.element.innerHTML=t}}),Pi.registerLayer("tagList",class extends Yi{constructor(t,e,i,s,n,o){super(t,e,i,s,n,o),this.type="tagList",this.element.classList.add(`${r}-${this.type}-layer`)}});var ns,os="ontouchstart"in document;Ge=window.PointerEvent,Le=window.MSPointerEvent;const rs=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,as=Ge?"pointerdown":Le?"MSPointerDown":os?"touchstart":"mousedown",hs=Ge?"pointerup":Le?"MSPointerUp":os?"touchend":"mouseup",ls=Ge?"pointermove":Le?"MSPointerMove":os?"touchmove":"mousemove",cs=Ge?"pointercancel":Le?"MSPointerCancel":os?"touchcancel":"";class ds{constructor(t){this.element=t,this._direction="horizontal",this.noSwipeSelector="",this.preventDefault="auto",this._lastStatus={},this._touchStart=this._touchStart.bind(this),this._touchEnd=this._touchEnd.bind(this),this._touchMove=this._touchMove.bind(this),this._touchCancel=this._touchCancel.bind(this),this._reset=this._reset.bind(this),this.enable()}get direction(){return this._direction}set direction(t){let e="both"!==(this._direction=t)?"horizontal"===t?"pan-y":"pan-x":"pan-x pan-y";this.element.style.msTouchAction=e,this.element.style.touchAction=e}_getDirection(t,e){switch(this._direction){case"horizontal":return t<=this.startX?"left":"right";case"vertical":return e<=this.startY?"up":"down";default:return Math.abs(t-this.startX)>Math.abs(e-this.startY)?t<=this.startX?"left":"right":e<=this.startY?"up":"down"}}_preventDefaultEvent(t,e){return"auto"!==this.preventDefault?this.preventDefault:!!this._preventLock||(e=Math.abs(t-this.startX)>Math.abs(e-this.startY),this._preventLock="horizontal"===this._direction&&e||"vertical"===this._direction&&!e,this._preventLock)}_createStatusObject(t){const i={};var s=this._lastStatus.distanceX||0,n=this._lastStatus.distanceY||0;return i.distanceX=t.pageX-this.startX,i.distanceY=t.pageY-this.startY,i.moveX=i.distanceX-s,i.moveY=i.distanceY-n,0===i.moveX&&0===i.moveY?e({},this._lastStatus):(i.timeStamp=Date.now(),n=i.timeStamp-this._lastStatus.timeStamp||0,n/=1e3,0==(i.dt=n)||0===i.moveX&&(t.pageX<=2||t.pageX>=window.screen.width-2)?i.velocityX=this._lastStatus.velocityX:i.velocityX=i.moveX/n,0==n||0===i.moveY&&(t.pageY<=2||t.pageY>=window.screen.height-2)?i.velocityY=this._lastStatus.velocityY:i.velocityY=i.moveY/n,i.duration=i.timeStamp-this.startTime,i.direction=this._getDirection(t.pageX,t.pageY),i)}_touchStart(t){if(this.enabled&&!this.touchStarted&&!t.target.closest(this.noSwipeSelector,this.element)){t.pointerType&&"mouse"===t.pointerType&&t.preventDefault(),t="touchstart"===t.type?t.touches[0]:t,this.startX=t.pageX,this.startY=t.pageY,this.startTime=Date.now(),document.addEventListener(hs,this._touchEnd,!1),rs||document.addEventListener(ls,this._touchMove,{passive:!1}),cs.length&&document.addEventListener(cs,this._touchCancel,!1);const e=this._createStatusObject(t);e.phase="start",this.onSwipe(e),this._lastStatus=e,this.touchStarted=!0}}_touchMove(t){if(this.touchStarted){var e="touchmove"===t.type?t.touches[0]:t;const i=this._createStatusObject(e);this._preventDefaultEvent(e.pageX,e.pageY)&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),clearTimeout(this._autoResetTimeout),this._autoResetTimeout=setTimeout(this._reset,60,e),i.phase="move",this._lastStatus=i,this.onSwipe(i))}}_touchEnd(t){const e=this._lastStatus;t.preventDefault(),document.removeEventListener(hs,this._touchEnd,!1),rs||document.addEventListener(ls,this._touchMove,{passive:!1}),cs.length&&document.removeEventListener(cs,this._touchCancel,!1),clearTimeout(this._autoResetTimeout),this._autoResetTimeout=setTimeout(this._reset,60),200<Date.now()-e.timeStamp&&(e.velocityX=0,e.velocityY=0),e.phase="end",this.touchStarted=!1,this.onSwipe(e)}_touchCancel(t){this._touchEnd(t)}_reset(t){this.reset=!1,this._lastStatus={},this.startTime=Date.now(),t?(this.startX=t.pageX,this.startY=t.pageY):(this.startX=null,this.startY=null),this._preventLock=!1}enable(){this.enabled||(this.enabled=!0,rs&&document.addEventListener(ls,this._touchMove,{passive:!1}),this.element.addEventListener(as,this._touchStart,{passive:!1}),this.direction=this._direction)}disable(){this.enabled&&(this.element.style.msTouchAction="",this.element.style.touchAction="",this.enabled=!1,this.element.removeEventListener(as,this._touchStart,!1),document.removeEventListener(hs,this._touchEnd,!1),document.removeEventListener(ls,this._touchMove,!1),cs.length&&document.removeEventListener(cs,this._touchCancel,!1))}}class ps{constructor(t,e){this.navigator=t,this.swipeDir=e,this.swipe=new ds(t.view.element),this.swipe.noSwipeSelector=`.${r}-no-swipe`,this._updateDirection=this._updateDirection.bind(this),this.navigator.view.options.observe("dir",this._updateDirection),this.navigator.view.options.observe("reverse",this._updateDirection),this._updateDirection(),this._scrollNavigatorAdapter=this._scrollNavigatorAdapter.bind(this),this.swipe.onSwipe=this._scrollNavigatorAdapter}enable(){this.swipe.enable()}disable(){this.swipe.disable()}_updateDirection(){var t="auto"===this.swipeDir?this.navigator.view.options.get("dir"):this.swipeDir,e=this.navigator.view.options.get("reverse");let i="";this._reverseFactor=e?1:-1,"h"===(this.direction=t)?(i="clientWidth",this._movement="moveX",this._velocity="velocityX",this.swipe.direction="horizontal"):(i="clientHeight",this._movement="moveY",this._velocity="velocityY",this.swipe.direction="vertical"),this._moveFactor=this.navigator.view.size/this.navigator.view.element[i]||1}_scrollNavigatorAdapter(t){switch(t.phase){case"start":this.navigator.hold(),this.navigator.trigger("swipeStart",[this.navigator,this]);break;case"move":this.navigator.drag(t[this._movement]*this._reverseFactor*this._moveFactor),this.navigator.trigger("swipeMove",[this.navigator,this]);break;default:t[this._velocity]?this.navigator.push(t[this._velocity]*this._reverseFactor):this.navigator.release(),this.navigator.trigger("swipeEnd",[this.navigator,this])}}}Ht.registerAddon("swipeGesture",class{constructor(t){this.composer=t,this.composer.options.observe(this.composer.options.register({mouseSwipe:!0,touchSwipe:!0,swipeDir:"auto"}),this.checkOptions.bind(this)),this.composer.once("navigatorSetup",((t,e)=>{this.swipeHandler=new ps(e,this.composer.options.get("swipeDir")),this.enable=this.swipeHandler.enable.bind(this.swipeHandler),this.disable=this.swipeHandler.disable.bind(this.swipeHandler),this.checkOptions()}))}checkOptions(){var t=this.composer.options.get(["mouseSwipe","touchSwipe"]);t.touchSwipe&&a||t.mouseSwipe?this.enable():this.disable()}});class us{constructor(t){const e=t.element.querySelector(`.${r}-bg-video`);t.hasBackgroundVideo=!!e,t.hasBackgroundVideo&&(this.videoSource=e,this.section=t,this.composer=t.composer,this.looped="false"!==e.getAttribute("data-loop")||e.loop,e.muted="false"!==e.getAttribute("data-muted"),this.goNext="true"===e.getAttribute("data-goto-next"),e.removeAttribute("loop"),e.loop=!1,e.autoplay=!1,this.autoPause="true"===e.getAttribute("data-auto-pause"),this.videoContainer=document.createElement("div"),this.videoContainer.classList.add("depicter-bg-video-container"),this.videoContainer.classList.add("depicter-background-video-container"),this.videoContainer.appendChild(e),t.background.element.appendChild(this.videoContainer),bi(e,void 0,"cover"),e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),this._videoReady=this._videoReady.bind(this),e.addEventListener("loadstart",this._videoReady,!1),e.addEventListener("loadedmetadata",this._videoReady,!1),0<e.readyState&&this._videoReady(),t.on("deactivated, readyAndActivated",this._sectionStateChange,this),this.composer.on("attach",(()=>{"playing"===this.videoState&&this.videoSource.play()})))}_videoReady(){this.videoReady||(this.videoReady=!0,this._videoStateChange=this._videoStateChange.bind(this),this.videoSource.addEventListener("play",this._videoStateChange,!1),this.videoSource.addEventListener("pause",this._videoStateChange,!1),this.videoSource.addEventListener("ended",this._videoStateChange,!1),window.objectFitPolyfill&&window.objectFitPolyfill(this.videoSource),this.section.active&&this.section.isReady?this.videoSource.play():(this.videoSource.pause(),this.videoSource.currentTime=0),this.section.trigger("backgroundVideoReady",[this.section],!0))}_videoStateChange(t){switch(t.type){case"play":default:this.videoState="playing",this.section.trigger("backgroundVideoPlay",[this.section],!0);break;case"pause":this.videoState="stopped",this.section.trigger("backgroundVideoPause",[this.section],!0);break;case"ended":this.videoState="ended",this.section.trigger("backgroundVideoEnded",[this.section],!0),this.goNext?this.composer.navigator.next():this.looped&&this.videoSource.play()}}_sectionStateChange(t){if(this.videoReady)switch(t){case"readyAndActivated":default:this.videoSource.play();break;case"deactivated":this.videoSource.pause(),this.autoPause||(this.videoSource.currentTime=0)}}}Ht.registerAddon("sectionBackgroundVideo",class{constructor(t){this.composer=t,this.activeSlides=[],this.composer.on("sectionBeforeMount",this._checkSection,this)}_checkSection(t,e){e.firstMount&&(e.backgroundVideoController=new us(e),e.hasBackgroundVideo||this.activeSlides.push(e))}});Ht.registerAddon("inViewport",class{constructor(t){this.composer=t,this.composer.options.register({inViewportRatio:.25});const e=this.composer.options.get("inViewportRatio");((t,e,i)=>{if(!window.IntersectionObserver)return!1;const s=new IntersectionObserver((t=>{t.forEach((t=>{i(t.intersectionRatio,t)}))}),{threshold:e||function(t){const e=[];for(let t=1;t<=25;t+=1){var i=t/25;e.push(i)}return e.push(0),e}()});return s.observe(t),!0})(this.composer.element,null,(t=>{var i=t>=e;this.composer.element.classList[i?"add":"remove"](`${r}-in-viewport`),i!==this.composer.inViewport&&this.composer.trigger("inViewportStateChange",[i,t]),this.composer.trigger("inViewportRatioChange",[t]),this.composer.inViewport=i}))||(this.composer.inViewport=!0)}}),Ht.registerAddon("loading",class{constructor(t){if(this.composer=t,this.composer.options.register({sectionLoading:"auto"}),this.loadingElement=t.element.querySelector(`.${r}-loading-container`),!this.loadingElement){this.loadingElement=document.createElement("div"),this.loadingElement.classList.add(`${r}-loading-container`);const t=document.createElement("div");t.classList.add(`${r}-loading`),this.loadingElement.appendChild(t),this.composer.element.appendChild(this.loadingElement)}this.composer.on("init",this._afterInit,this)}_afterInit(){"off"!==this.composer.options.get("sectionLoading")&&(this.sectionLoadingTemplate=this.composer.element.querySelector(`.${r}-section-loading`)||this.loadingElement.cloneNode(!0),this.sectionLoadingTemplate.remove(),this.composer.view.sections.forEach(this._setupLoadingOnSection,this))}_setupLoadingOnSection(t){var e;t.isReady||(e=this.sectionLoadingTemplate.cloneNode(!0),t.element.appendChild(e))}}),Ht.registerAddon("disableClicks",class{constructor(t){this.composer=t,this.actions=t.actions,this.composer.on("init",this._init,this)}_init(){this._checkClick=this._checkClick.bind(this),this.composer.view.element.addEventListener("click",this._checkClick,!1),this.composer.on("swipeStart",this._swipeInteraction,this),this.composer.on("swipeMove",this._swipeInteraction,this),this.composer.on("swipeEnd",this._swipeInteraction,this)}_swipeInteraction(t){clearTimeout(this._to),"swipeStart"===t?(this._clickDisabled=!0,this._hadMove=!1):"swipeMove"===t?this._hadMove=!0:this._hadMove?(this._hadMove=!1,this._to=setTimeout((()=>{this._clickDisabled=!1}),5)):this._clickDisabled=!1}_checkClick(t){this._clickDisabled&&(t.preventDefault(),t.stopPropagation())}}),Ht.registerAddon("smartLoader",class{constructor(t){this.composer=t,this.composer.options.register({preload:0}),this.composer.options.alias("lazyload","preload"),this.composer.on("init",this._start,this,100),this.composer.on("sectionBeforeMount",((t,e)=>e.loadTrigger.hold()),this,100),this.composer.on("layersSurfaceBeforeSetup",this._checkSurfaceLayers,this)}_start(){var t=this.composer.options.get("preload");0===t?this._loadSectionsInSequence():"all"===t?this._waitForAllSections():"number"==typeof t&&(this._loadNearby=t),this.composer.element.classList.add(`${r}-preload-${t}`),this.composer.on("targetIndexChange",this._checkCurrentSection,this),this._checkCurrentSection()}_checkSurfaceLayers(t,e){"all"===this.composer.options.get("preload")&&(e.loadTrigger.hold(),this.composer.readyTrigger.hold(),e.on("ready",(()=>this.composer.readyTrigger.exec()),this),e.loadTrigger.exec())}_checkCurrentSection(){this.composer.navigator.targetSectionIndexes.forEach((t=>{this.composer.view.sections[t].loadTrigger.exec(),this._loadNearby&&this._loadNearbySections(t,this._loadNearby)}))}_loadNearbySections(t,e){let i;const s=this.composer.view.sections;var n=this.composer.view.loop,o=s.length;for(let r=1;r!==e+1;r+=1)i=t+r,i>=o?n&&(i%=o,s[i].loadTrigger.exec()):s[i].loadTrigger.exec(),i=t-r,i<0?n&&(i+=o,s[i].loadTrigger.exec()):s[i].loadTrigger.exec()}_loadSectionsInSequence(t){if(t!==this.composer.view.sections.length){void 0===t&&(t=0);const e=this.composer.view.sections[t];e.isReady?this._loadSectionsInSequence(t+1):(e.on("ready",(()=>{this._loadSectionsInSequence(t+1)}),this),e.loadTrigger.exec())}}_waitForAllSections(){this.composer.readyTrigger.charge(this.composer.view.sections.length),this.composer.view.sections.forEach((t=>{t.isReady?this.composer.readyTrigger.exec():(t.on("ready",(()=>this.composer.readyTrigger.exec()),this),t.loadTrigger.exec())}))}});class ms{constructor(t){let e=t.element.querySelector('.depicter-section-video, a[data-type="video"]');var i;e?(this.section=t,this.composer=t.composer,(t.videoController=this).autoplay="true"===e.getAttribute("data-autoplay"),this.goNext="true"===e.getAttribute("data-goto-next"),"A"===e.tagName?(i=e.getAttribute("href"),e.remove(),e=i):"VIDEO"!==e.tagName||e.hasAttribute("data-player-type")||(e.hasAttribute("data-object-fit")&&(e.style.objectFit=e.getAttribute("data-object-fit")),e.hasAttribute("data-object-position")&&(e.style.objectPosition=e.getAttribute("data-object-position"))),this._videoElementReady=this._videoElementReady.bind(this),this.videoElement=new Gi(e),this.videoElement.setup(this._videoElementReady),"mejs"===this.videoElement.type&&(this.videoElement.player.api.options.stretching="responsive"),this.videoElement.source.classList.remove("depicter-section-video"),this.videoElement.element.classList.add("depicter-section-video"),"string"==typeof e&&t.element.appendChild(this.videoElement.element),this.playBtn=document.createElement("div"),this.playBtn.classList.add("depicter-section-video-btn"),this.playBtn.addEventListener("click",this.playVideo.bind(this),!1),t.element.appendChild(this.playBtn),this.closeBtn=document.createElement("div"),this.closeBtn.classList.add("depicter-section-video-close-btn"),this.closeBtn.addEventListener("click",this.closeVideo.bind(this),!1),t.element.appendChild(this.closeBtn),t.on("activated, deactivated",this._sectionStateChange,this)):this.noSource=!0}playVideo(){this.videoElement.ready&&this.videoElement.play(),this.section.element.classList.add(`${r}-video-open`),this.section.trigger("videoOpen",[this.section,this],!0)}closeVideo(){this.videoElement.ready&&this.videoElement.stop(),this.section.element.classList.remove(`${r}-video-open`),this.section.trigger("videoClose",[this.section,this],!0)}_videoElementReady(){this.section.active&&this.autoplay&&this.playVideo(),this._onVideoPlay=this._onVideoPlay.bind(this),this._onVideoPause=this._onVideoPause.bind(this),this._onVideoEnded=this._onVideoEnded.bind(this),this.videoElement.on("play",this._onVideoPlay),this.videoElement.on("pause",this._onVideoPause),this.videoElement.on("ended",this._onVideoEnded)}_onVideoPlay(){this._videoState="playing",this.section.trigger("videoPlay",[this.section,this],!0)}_onVideoPause(){this._videoState="stopped",this.section.trigger("videoPause",[this.section,this],!0)}_onVideoEnded(){this._videoState="ended",this.section.trigger("videoEnded",[this.section,this],!0),this.goNext&&this.composer.next&&this.composer.next()}_sectionStateChange(t){switch(t){case"select":default:this.autoplay&&this.playVideo();break;case"deselect":this.closeVideo()}}}Ht.registerAddon("sectionVideo",class{constructor(t){this.composer=t,this.actions=t.actions,this.options=t.options,this.activeSections=[],this.composer.on("init",(()=>{this.composer.view.sections.forEach(this._checkSection,this)}))}_checkSection(t){new ms(t).noSource||this.activeSections.push(t)}});const gs=new RegExp(`${r}-hide-on-(tablet|desktop|mobile)`,"g");Ht.registerAddon("hideOn",class{constructor(t){var e;this.composer=t,this.composerElement=this.composer.element,this.hideBreakpoints=null===(e=this.composerElement.getAttribute("class").match(gs))||void 0===e?void 0:e.map((t=>t.split("-").slice(-1)[0])),null!==(e=this.hideBreakpoints)&&void 0!==e&&e.includes(d().name||"desktop")&&(this._contentIsOnHold=!0,this.composer.isHidden=!0,t.initTrigger.hold()),null!==(t=this.hideBreakpoints)&&void 0!==t&&t.length&&u.on("breakpointChange",this.update,this)}update(t,e){var i;null!==(i=this.hideBreakpoints)&&void 0!==i&&i.includes(e)?(this.composer.isHidden=!0,this.composer.trigger("visibilityChange",[!0])):(this.composer.isHidden=!1,this._contentIsOnHold&&(this._contentIsOnHold=!1,this.composer.initTrigger.exec()),this.composer.trigger("visibilityChange",[!1]))}}),Ht.registerAddon("keyboardNav",class{constructor(t){this.composer=t,this.composerElement=this.composer.element,this.composer.options.register({keyboard:!1}),this.composer.on("init",this.setup,this)}setup(){var t=this.composer.options.get("keyboard");t&&(this.activeOptions=e(e({},{checkLoop:!0,activeOnHover:!1}),"object"==typeof t?t:void 0),this._onKeydown=this._onKeydown.bind(this),this.activeOptions.activeOnHover?(this.composerElement.tabIndex=0,this._mouseInteraction=this._mouseInteraction.bind(this),this.composerElement.addEventListener("mouseenter",this._mouseInteraction,!1),this.composerElement.addEventListener("mouseleave",this._mouseInteraction,!1)):(this.composer.on("inViewportStateChange",((t,e)=>{e?document.addEventListener("keydown",this._onKeydown):document.removeEventListener("keydown",this._onKeydown)})),this.composer.inViewport&&document.addEventListener("keydown",this._onKeydown)))}_mouseInteraction(t){switch(t.type){case"mouseenter":this.composerElement.focus(),this.composerElement.addEventListener("keydown",this._onKeydown,!1);break;case"mouseleave":this.composerElement.blur(),this.composerElement.removeEventListener("keydown",this._onKeydown,!1)}}_onKeydown(t){var e=t.key,i=this.activeOptions.checkLoop;"ArrowLeft"===e?(this.composer.navigator.previous({checkLoop:i}),t.preventDefault()):"ArrowRight"===e&&(this.composer.navigator.next({checkLoop:i}),t.preventDefault())}}),Ht.registerAddon("mouseWheelNav",class{constructor(t){this.composer=t,this.composerElement=this.composer.element,this.composer.options.register({mouseWheel:!1}),this.composer.on("init",this.setup,this)}setup(){var t=this.composer.options.get("mouseWheel");this._slideByWheel=this._slideByWheel.bind(this),this._scrollByWheel=this._scrollByWheel.bind(this),this._wheelDeltaBuffer=0,this._lastWheelTime=0,t&&(this.options=e(e({},{activeOnAppear:!0,preventDefault:"auto",friction:.09}),"object"==typeof t?t:void 0),t=this.composer.options.get("navigator.slickType"),this.view=this.composer.view,"scroll"===t?(this._readViewPosition=!0,this.loop=this.composer.options.get("viewOptions.loop"),this.composer.navigator.on("slickChanged",(()=>{this._readViewPosition=!0})),this.composerElement.addEventListener("wheel",this._scrollByWheel,!1)):this.composerElement.addEventListener("wheel",this._slideByWheel,!1))}_checkContentLocation(t){var e=this.composerElement.getBoundingClientRect();return t<0&&e.top<0||0<t&&e.bottom>window.innerHeight}_slideByWheel(t){let e=t.deltaY;this.options.activeOnAppear&&this._checkContentLocation(e)||"auto"===this.options.preventDefault&&(this.composer.navigator.currentIndex===this.composer.navigator.count-1&&1<e||0===this.composer.navigator.currentIndex&&e<1)||(this.options.preventDefault&&t.preventDefault(),t.timeStamp-this._lastWheelTime<300||(1===t.deltaMode&&(e*=40),Math.abs(e)<20||(e<0?this.composer.navigator.previous():this.composer.navigator.next(),this._lastWheelTime=t.timeStamp)))}_scrollByWheel(t){let e=t.deltaY;this.options.activeOnAppear&&this._checkContentLocation(e)||(1===t.deltaMode&&(e*=40),this.targetScrollPosition>=this.view.nominalLength&&1<e&&("auto"===this.options.preventDefault||!this.options.preventDefault)||this.targetScrollPosition<=0&&e<1&&("auto"===this.options.preventDefault||!this.options.preventDefault)||(this.options.preventDefault&&t.preventDefault(),this._readViewPosition&&(this._readViewPosition=!1,this.targetScrollPosition=this.view.position),this.targetScrollPosition+=e,this.loop&&"auto"!==this.options.preventDefault||(this.targetScrollPosition=Math.max(Math.min(this.view.nominalLength,this.targetScrollPosition),0)),this.composer.navigator.goToPosition(this.targetScrollPosition,{useFriction:0!==this.options.friction,friction:this.options.friction}),this._lastWheelTime=t.timeStamp))}}),Ht.registerAddon("grabCursor",class{constructor(t){this.composer=t,this.composer.options.register({useGrabCursor:!0}),this.composer.on("init",this._afterInit,this)}_toggleEnable(t){"betweenAnimationStart"===t?(this.disabled=!0,this.composer.element.classList.remove(`${r}-cursor-grab`),this.composer.element.classList.remove(`${r}-cursor-grabbing`)):(this.disabled=!1,this.composer.element.classList.add(`${r}-cursor-grab`))}_afterInit(){if(this.composer.view.on("betweenAnimationStart, betweenAnimationEnd",this._toggleEnable,this),this.composer.options.get("useGrabCursor")&&!0===this.composer.options.get("mouseSwipe")){const t=this.composer.element;t.classList.add(`${r}-cursor-grab`),this.composer.on("swipeStart",(()=>!this.disabled&&t.classList.add(`${r}-cursor-grabbing`))),this.composer.on("swipeEnd",(()=>!this.disabled&&t.classList.remove(`${r}-cursor-grabbing`)))}}});const vs=[];let fs=!0;const ys=()=>{fs||(vs.forEach((t=>t())),requestAnimationFrame(ys))};class _s{constructor(t,e){this.delay=t,this.currentCount=0,this.paused=!1,this.onTimer=null,e&&this.start(),this.update=this.update.bind(this)}start(){this.paused=!1,this.lastTime=Date.now(),(t=>{vs.push(t),1===vs.length&&fs&&(fs=!1,ys()),vs.length})(this.update)}stop(){this.paused=!0,(t=>{vs.splice(vs.indexOf(t),1),0===vs.length&&(fs=!0)})(this.update)}reset(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()}update(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount+=1,this.lastTime=Date.now(),this.onTimer&&this.onTimer(this.getTime()))}getTime(){return this.delay*this.currentCount}}const bs={autostart:!1,duration:3,autoStartAfterVideo:!0,pauseOnHover:!0,resetTimerOnBlur:!0,pauseAtEnd:"auto",navigatorParams:{animate:!0,duration:1.5,easing:"easeOutExpo"}};function ws(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})})),e}Ht.registerAddon("slideshow",class{constructor(t){this.composer=t,this.composer.options.register({slideshow:!1}),this.timer=new _s(100),this.timer.onTimer=this._onTimer.bind(this),this.mouseEntered=!1,this.composer.on("init",this.setup,this,100)}setup(){var t=this.composer.options.get("slideshow");this.options=e(e({},bs),"object"==typeof t?t:{autostart:!!t}),this._registerAutoPlayMethods(),this._readSectionSlideshowDataAttrs(),this.loop=this.composer.view.options.get("loop"),this.options.autostart?(this._start(),this._waitForVideo()):this.composer.slideshow.pause(),this.composer.on("changeStart",this._reset,this),this.composer.on("swipeStart",this._reset,this),this.composer.on("changeEnd",this._onChangeEnd,this),this.options.pauseOnHover&&(this._mouseInteraction=this._mouseInteraction.bind(this),this.composer.element.addEventListener("mouseover",this._mouseInteraction,!1),this.composer.element.addEventListener("mouseenter",this._mouseInteraction,!1),this.composer.element.addEventListener("mouseleave",this._mouseInteraction,!1)),this.composer.on("sectionVideoOpen, detach",this._pause,this),this.composer.on("sectionVideoClose",this._start,this),this.composer.on("attach",(()=>{this._reset(),this._start()})),this.composer.trigger("slideshowInit",[this._hardPause])}_registerAutoPlayMethods(){this.composer.slideshow={currentTime:()=>this.durationProgress,resume:()=>{this._hardPause=!1,this.composer.paused=!1,this._start(),this.composer.trigger("slideshowStatusChange",[this._hardPause])},pause:()=>{this._hardPause=!0,this.composer.paused=!0,this._pause(),this.composer.trigger("slideshowStatusChange",[this._hardPause])},reset:()=>this._reset,isPaused:()=>this._hardPause}}_readSectionSlideshowDataAttrs(){this.duration=this.options.duration;var{slideshowDuration:t,slideshowPause:e}=this.composer.view.currentSection.element.dataset;t&&(this.duration=t),e&&this.composer.slideshow.pause(),this.duration*=1e3}_start(){this._hardPause||(this._isPaused=!1,this.timer.start(),this.composer.trigger("slideshowStart"))}_pause(){this._isPaused=!0,this.timer.stop(),this.composer.trigger("slideshowPaused")}_reset(){this.timer.reset(),this.durationProgress=0,this.composer.trigger("slideshowTimerUpdate",[this.durationProgress]),this.composer.trigger("slideshowTimerReset")}_onChangeEnd(){("auto"!==this.options.pauseAtEnd||this.loop)&&!0!==this.options.pauseAtEnd||this.composer.navigator.targetIndex!==this.composer.navigator.count-1?(this._readSectionSlideshowDataAttrs(),this.mouseEntered||(this._start(),this._waitForVideo())):this.composer.slideshow.pause()}_onTimer(){this.durationProgress=this.timer.getTime()/this.duration*100,this.composer.trigger("slideshowTimerUpdate",[this.durationProgress]),this.timer.getTime()>=this.duration&&this.composer.navigator.next(this.options.navigatorParams)}_mouseInteraction(t){switch(t.type){case"mouseenter":case"mouseover":this.mouseEntered=!0,this._pause();break;case"mouseleave":this.mouseEntered=!1,this.options.resetTimerOnBlur&&this._reset(),this._start()}}_waitForVideo(){var t=this.options.autoStartAfterVideo,{view:{currentSection:{backgroundVideoController:e,hasBackgroundVideo:i}}}=this.composer;t&&i&&"playing"!==e.videoState&&(this._reset(),this.composer.on("sectionBackgroundVideoPlay",this._start,this))}}),(function(t){t.exports={polyfill:function(){var t,e,i,s,n,o,r=window,a=document;function h(t,e){this.scrollLeft=t,this.scrollTop=e}function l(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(t,e){return"Y"===e?t.clientHeight+n<t.scrollHeight:"X"===e?t.clientWidth+n<t.scrollWidth:void 0}function d(t,e){return"auto"===(e=r.getComputedStyle(t,null)["overflow"+e])||"scroll"===e}function p(t){var i,n=(s()-t.startTime)/e;i=n=1<n?1:n,n=.5*(1-Math.cos(Math.PI*i)),i=t.startX+(t.x-t.startX)*n,n=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,i,n),i===t.x&&n===t.y||r.requestAnimationFrame(p.bind(r,t))}function u(t,e,n){var o,l,c,d=s();t=t===a.body?(l=(o=r).scrollX||r.pageXOffset,c=r.scrollY||r.pageYOffset,i.scroll):(l=(o=t).scrollLeft,c=t.scrollTop,h);p({scrollable:o,method:t,startTime:d,startX:l,startY:c,x:e,y:n})}"scrollBehavior"in a.documentElement.style&&!0!==r.__forceSmoothScrollPolyfill__||(t=r.HTMLElement||r.Element,e=468,i={scroll:r.scroll||r.scrollTo,scrollBy:r.scrollBy,elementScroll:t.prototype.scroll||h,scrollIntoView:t.prototype.scrollIntoView},s=r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now,o=r.navigator.userAgent,n=new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(o)?1:0,r.scroll=r.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?u.call(r,a.body,void 0!==arguments[0].left?~~arguments[0].left:r.scrollX||r.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:r.scrollY||r.pageYOffset):i.scroll.call(r,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:r.scrollX||r.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:r.scrollY||r.pageYOffset))},r.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?i.scrollBy.call(r,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):u.call(r,a.body,~~arguments[0].left+(r.scrollX||r.pageXOffset),~~arguments[0].top+(r.scrollY||r.pageYOffset)))},t.prototype.scroll=t.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var t=arguments[0].left,e=arguments[0].top;u.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},t.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):i.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},t.prototype.scrollIntoView=function(){var t,e,s;!0!==l(arguments[0])?(e=(t=function(t){for(;t!==a.body&&!1===(i=c(e=t,"Y")&&d(e,"Y"),e=c(e,"X")&&d(e,"X"),i||e);)t=t.parentNode||t.host;var e,i;return t}(this)).getBoundingClientRect(),s=this.getBoundingClientRect(),t!==a.body?(u.call(this,t,t.scrollLeft+s.left-e.left,t.scrollTop+s.top-e.top),"fixed"!==r.getComputedStyle(t).position&&r.scrollBy({left:e.left,top:e.top,behavior:"smooth"})):r.scrollBy({left:s.left,top:s.top,behavior:"smooth"})):i.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])})}}}(ns={exports:{}}),ns.exports).polyfill();const xs=["click","mouseenter","mouseleave"],Ss=(t,e,i=0)=>{i?setTimeout((()=>{null!=t&&t(e)}),1e3*i):null!=t&&t(e)},As=(t,e,i)=>{const s=e.dataset.actions;if(s){let n=[];try{n=JSON.parse(s.replace(/'/g,'"'))}catch(t){}n.forEach((([s,n,o,a])=>{xs.includes(n)?(e.classList.add(`${r}-no-swipe`),e.classList.add(`${r}-has-mouse-action`),e.addEventListener(n,(e=>{e.preventDefault(),e.stopPropagation(),Ss(t[s],a,o)}))):(console.log(i,n),i.on(n,(()=>Ss(t[s],a,o))))}))}};Ht.registerAddon("actions",class{constructor(t){var e;this.composer=t,this.composer.on("init",this._afterInit,this),this.composer.on("layerCreate",this._setLayerActions,this),this.composer.actions=(e=t,{openURL({path:t,target:e}){window.open(t,e)},slideshow({type:t}){var i,s;["resume","pause","reset"].includes(t)&&null!==(i=(s=e.slideshow)[t])&&void 0!==i&&i.call(s)},gotoSection({type:t,to:i}){var s,n;["next","previous"].includes(t)?null!==(s=(n=e.navigator)[t])&&void 0!==s&&s.call(n,{checkLoop:!0}):"number"!==t||Number.isNaN(i)?0<=(t=e.view.sections.findIndex((t=>t.element.id===e.element.id+"-"+i)))&&e.navigator.goToIndex(t):e.navigator.goToIndex(parseInt(i,10))},scrollTo({type:t,to:i}){"below"===t?window.scrollTo({top:window.scrollY+e.element.getBoundingClientRect().bottom,behavior:"smooth"}):null!==(i=document.querySelector(i))&&void 0!==i&&i.scrollIntoView({behavior:"smooth"})},backgroundVideo({type:t}){var i,s;const n=null===(i=e.view.currentSection)||void 0===i||null===(s=i.backgroundVideoController)||void 0===s?void 0:s.videoSource;if(n)try{switch(t){case"mute":n.muted=!0;break;case"unmute":n.muted=!1;break;case"toggleSound":n.muted=!n.muted;break;case"toggle":n.paused?n.play():n.pause();break;case"stop":n.pause(),n.currentTime=0;break;case"play":n.play();break;case"pause":n.pause();break;case"restart":n.play(),n.currentTime=0}}catch(t){}},elements({elements:t,type:i}){t.forEach((t=>{const s=e.layersById[e.element.id+"-"+t];if(s)switch(i){case"show":null!=s&&s.show();break;case"hide":null!=s&&s.hide();break;case"toggle":null!=s&&s.isHidden?null!=s&&s.show():null!=s&&s.hide()}}))}})}_afterInit(){this.composer.view.sections.forEach((t=>As(this.composer.actions,t.element,t)))}_setLayerActions(t,e){As(this.composer.actions,e.element,e)}_setupLoadingOnSection(t){var e;t.isReady||(e=this.sectionLoadingTemplate.cloneNode(!0),t.element.appendChild(e))}}),Ht.registerAddon("revertStyles",class{constructor(t){this.composer=t,this.composer.options.register({useRevertStyles:!0}),this.composer.on("init",this._afterInit,this)}_afterInit(){var t,e;this.composer.options.get("useRevertStyles")&&null!==(t=window)&&void 0!==t&&null!==(e=t.CSS)&&void 0!==e&&e.supports("all","revert")&&this.composer.element.classList.add(`${r}-revert`)}}),Ht.registerAddon("hoverOff",class{constructor(t){this.composer=t,this.composer.on("layerCreate",this._checkLayer,this),this.layersList=[],u.on("breakpointChange",this._update,this)}_checkLayer(t,e){var i=(e.element.getAttribute("data-hover-off")||"").split(",").map((t=>t.trim()));i.length&&(this.layersList.push({layer:e,hoverOffValue:i}),this._updateLayer(e,i,d().name))}_updateLayer(t,e,i){e.includes(i||"desktop")?t.element.classList.add(`${r}-hover-off`):t.element.classList.remove(`${r}-hover-off`)}_update(t,e){this.layersList.forEach((({layer:t,hoverOffValue:i})=>this._updateLayer(t,i,e)))}}),Ht.registerAddon("gotoNextVideoLayer",class{constructor(t){this.composer=t,this.composer.on("layerCreate",this._checkLayer,this)}_checkLayer(t,e){["video","embedVideo"].includes(e.type)&&(this.goNext="true"===e.element.getAttribute("data-goto-next"),this.goNext&&e.on("videoEnded",(()=>{this.composer.navigator.next()})))}}),Ht.registerAddon("layerAnimationsClassName",class{constructor(t){this.composer=t,this.composer.on("layerGetInOutAnimation",this._checkLayer,this),this.layersList=[],u.on("breakpointChange",this._update,this)}_checkLayer(t,e){this.layersList.push(e),this._updateLayer(e,d().name||"desktop")}_updateLayer(t,e){var{inOutAnimation:{animationsData:i}}=t;i&&((e=m(i,e)).animationIn?t.frame.classList.add(`${r}-has-animation-in`):t.frame.classList.remove(`${r}-has-animation-in`),e.animationOut?t.frame.classList.add(`${r}-has-animation-out`):t.frame.classList.remove(`${r}-has-animation-out`))}_update(t,e){this.layersList.forEach((t=>this._updateLayer(t,e)))}}),Ht.registerAddon("nearbySections",class{constructor(t){this.composer=t,this.composer.on("init",this._setup,this)}_setup(){this.composer.view.options.register("nearbyVisibility","hidden"),this.composer.view.options.register("nearbyVisibilityAmount","10%");var t=this.composer.options.get("view"),e=this.composer.options.get("viewOptions.nearbyVisibility");"hidden"!==e&&["basic","transform"].includes(t)&&(this.nearbyAmount=this.composer.options.get("viewOptions.nearbyVisibilityAmount"),this.composer.element.classList.add(`${r}-nearby-sections-visible`),this.targetDimension="v"===this.composer.options.get("viewOptions.dir")?["maxHeight","height"]:["maxWidth","width"],this.composer.view.element.style[this.targetDimension[0]]=`calc(100% - ${this.nearbyAmount})`,this.composer.view.element.style[this.targetDimension[1]]=`calc(100% - ${this.nearbyAmount})`,"full"===e&&this.composer.on("layoutUpdate",this._update,this),this.composer.layoutController.update())}_update(){var t="maxHeight"===this.targetDimension[0]?m(this.composer.options.get("height")):this.composer.layoutController.activeBreakpointSize;this.composer.view.element.style[this.targetDimension[0]]=`${t}px`}}),Ht.registerAddon("viewDir",class{constructor(t){this.composer=t,this.composer.on("init",this._afterInit,this)}_afterInit(){var t=this.composer.options.get("viewOptions.dir");t&&this.composer.element.classList.add(`${r}-view-dir-${t}`)}}),Ht.registerAddon("slickerSpeed",class{constructor(t){this.composer=t,this._update=this._update.bind(this),this.composer.on("navigatorSetup",this._setup,this)}_setup(){this.composer.navigator.options.register("slickerSpeed",.5),this.composer.navigator.options.observe("slickerSpeed",this._update),this._update()}_update(){var t=100*(this.composer.options.get("navigator.slickerSpeed")||.01);t<=50?(this.composer.options.set("navigator.snapping.constant",50+t/50*40),this.composer.options.set("navigator.slickerFriction",.01+(50-t)/50*.19)):(this.composer.options.set("navigator.snapping.constant",90+910*(t=(t-50)/50)),this.composer.options.set("navigator.slickerFriction",.01-.01*t))}});class Cs{constructor(t,e,i,s){this.parallaxAddon=t,this.target=e,this.holder=i,this.refPoint={x:0,y:0},this.currentPoint={x:0,y:0},this.container=t.container,this._renderByMouse=this._renderByMouse.bind(this),this.options=s}_setupMouseInteractions(){this.holder.addEventListener("mousemove",this._renderByMouse),this.holder.addEventListener("mouseleave",this._renderByMouse)}_revokeMouseInteractions(){this.holder.removeEventListener("mousemove",this._renderByMouse),this.holder.removeEventListener("mouseleave",this._renderByMouse)}_renderByMouse(t){let e,i;if("mousemove"===t.type){const o=t.currentTarget;var{top:s,left:n}=o.getBoundingClientRect();e=t.clientX-n-o.offsetWidth/2,i=t.clientY-s-o.offsetHeight/2}else e=0,i=0;this.refPoint={x:e,y:i}}_calculate(){var t,e,i,s;!1===this.options.smooth?this.currentPoint=this.refPoint:(({x:t,y:e}=this.refPoint),({x:i,y:s}=this.currentPoint),this.currentPoint={x:i+(i=t-i)/12,y:s+(s=e-s)/12},Math.abs(i)<.019&&(this.currentPoint.x=t),Math.abs(s)<.019&&(this.currentPoint.y=e)),this.render(),requestAnimationFrame((()=>this._calculate()))}render(){var{x:t=.5,y:e=.5}=this.options,{x:i,y:s}=this.currentPoint,t=-i*mi(t),e=-s*mi(e);this.container.style.transform="translateX("+t+"px) translateY("+e+"px) "}initiate(){var{use:t="mouse"}=this.options;"mouse"===(this.lastActiveUseValue=t)&&this._setupMouseInteractions(),this._calculate()}reset(){"mouse"===this.lastActiveUseValue&&this._revokeMouseInteractions(),this.container.style.transform=""}}const Es=new Map;Es.set("2d",Cs),Es.set("3d",class extends Cs{render(){var{x:t=0,y:e=0,rx:i=30,ry:s=30}=this.options,{x:n,y:o}=this.currentPoint,{offsetWidth:r,offsetHeight:a}=this.holder,t=-n*mi(t),e=-o*mi(e),i=n/(r/2)*mi(i),s=-o/(a/2)*mi(s);this.container.style.transform="translateX("+t+"px) translateY("+e+"px) rotateY("+i+"deg) rotateX("+s+"deg)"}initiate(){var{use:t="mouse",zOrigin:e=0}=this.options;"mouse"===(this.lastActiveUseValue=t)&&this._setupMouseInteractions(),this.container.style.transformStyle="preserve-3d",this.container.style.transformOrigin=`center center ${mi(e)}px`,this._calculate()}reset(){super.reset(),this.container.style.transformStyle="",this.container.style.transformOrigin=""}}),Es.set("scroll",class{constructor(t,e,i,s){this.parallaxAddon=t,this.target=e,this.holder=i,this.refValue=0,this.currentValue=0,this.container=t.container,this._onScroll=this._onScroll.bind(this),this.options=s,this.alwaysEnabled=!0}_setupScrollInteractions(){document.addEventListener("scroll",this._onScroll)}_revokeScrollInteractions(){document.removeEventListener("scroll",this._onScroll)}_onScroll(){var{top:t,bottom:e,height:i}=this.holder.getBoundingClientRect(),{twoWay:s=!0}=this.options;t<0?this.refValue=Math.max(-i,t)/i:e>window.innerHeight?this.refValue=(s?1:-1)*Math.min(i,e-window.innerHeight)/i:this.refValue=0}_calculate(){var t;!1===this.options.smooth?this.currentValue=this.refValue:(t=this.refValue-this.currentValue,this.currentValue+=t/12,Math.abs(t)<.001&&(this.currentValue=this.refValue)),this.render(),requestAnimationFrame((()=>this._calculate()))}render(){var t,{dir:e="bottom",movement:i=300,fade:s=!1,rotate:n=0,scale:o=1}=this.options;let r="",a="";i&&(t=["top","left"].includes(e),r+=`translate${["bottom","top"].includes(e)?"Y":"X"}(${this.currentValue*mi(i)*(t?1:-1)}px)`),n&&(r+=` rotate(${mi(n)*this.currentValue}deg)`),1!==o&&(r+=` scale(${1+(1-mi(o))*this.currentValue})`),s&&(a=1-Math.abs(this.currentValue)),this.container.style.transform=r,this.container.style.opacity=a}initiate(){this._setupScrollInteractions(),this._onScroll(),this._calculate(),this.holder.classList.add(`${r}-scroll-parallax`)}reset(){this._revokeScrollInteractions(),this.container.style.transform="",this.container.style.opacity="",this.holder.classList.remove(`${r}-scroll-parallax`)}}),Es.set("viewScroll",class{constructor(t,e,i,s){this.controller=t,this.target=e,this.holder=i,this.refValue=0,this.currentValue=0,this.container=t.container,this._onScroll=this._onScroll.bind(this),this.options=s,this.alwaysEnabled=!0}_setupScrollInteractions(){this.controller.holder.on("pendingOffsetChange",this._onScroll)}_revokeScrollInteractions(){this.controller.holder.on("pendingOffsetChange",this._onScroll)}_onScroll(t,e,i,s){this.value=s,this.render()}render(){var t,{dir:e="bottom",movement:i=300,fade:s=!1,rotate:n=0,scale:o=1}=this.options;let r="",a="";i&&(t=["top","left"].includes(e),r+=`translate${["bottom","top"].includes(e)?"Y":"X"}(${this.value*mi(i)*(t?1:-1)}px)`),n&&(r+=` rotate(${mi(n)*this.value}deg)`),1!==o&&(r+=` scale(${1+(1-mi(o))*this.value})`),s&&(a=1-Math.abs(this.value)),this.container.style.transform=r,this.container.style.opacity=a}initiate(){this._setupScrollInteractions()}reset(){this._revokeScrollInteractions(),this.container.style.transform="",this.container.style.opacity=""}});const ks=t=>{try{var e=g(t,"parallax");if(ui(e))return!1;const i={};return Object.entries(e).forEach((([t,e])=>{i[t]="false"!==e&&JSON.parse(e.replace(/'/g,'"'))})),i}catch(t){return console.log(t),!1}};class Ls{constructor(t,e,i,s,n=!0){if(this.options=s,this.activeAreaElement=i,this.holder=e,this.targetElement=t,n){const e=document.createElement("div");e.classList.add(`${r}-parallax-wrap`),this.container=e,di(t,e)}else this.container=t;u.on("breakpointChange",((t,e)=>this._update(e)),this),this._update(d().name)}_update(t){if(t=m(this.options,t),this.disable(),!t)return this.holder.off("readyAndActivated",this.enable,this),void this.holder.off("readyAndDeactivated",this.disable,this);this.activeOptions=t;t=this.activeOptions.type;const e=Es.get(t);e?(this.activeHandler=new e(this,this.targetElement,this.activeAreaElement,this.activeOptions),this.activeHandler.alwaysEnabled?(this.holder.off("readyAndActivated",this.enable,this),this.holder.off("readyAndDeactivated",this.disable,this),this.enable()):(this.holder.on("readyAndActivated",this.enable,this),this.holder.on("readyAndDeactivated",this.disable,this),this.holder.isReady&&this.holder.isActivated&&this.enable())):console.warn("No parallax handler found for "+t)}enable(){this.isEnabled||(this.isEnabled=!0,this.activeHandler.initiate())}disable(){var t;this.isEnabled=!1,null!==(t=this.activeHandler)&&void 0!==t&&t.reset()}}Ht.registerAddon("parallax",class{constructor(t){(this.composer=t).options.get("disableAnimations")||(this.composer.on("layerCreate",this._checkLayer,this),this.composer.on("sectionReady",this._checkSection,this),this.layersList=[])}_checkLayer(t,e){var i=ks(e.element);i&&new Ls(e.element,e.holder,this.composer.element,i)}_checkSection(t,e){var i,s=ks(e.element);!s||(i=e.background.element)&&new Ls(i,e,this.composer.element,s,!1)}}),Ht.registerAddon("animrollOptionsController",class{constructor(t){this.composer=t,t=this.composer.options.get("sectionType"),"animroll"===this.composer.options.get("view")&&"animative"!==t&&this.composer.options.set("sectionType","animative")}}),os=Object.freeze({__proto__:null,default:class{constructor(t){var e=null===(i=(this.section=t).background)||void 0===i?void 0:i.targetImg,i=(t=e&&g(e,"ken-burns"),e&&g(e,"crop"));this.section.hasKenBurnsEffect=t&&!ui(t)&&i&&!ui(i),this.enabled=this.section.hasKenBurnsEffect,this.enabled&&(this.imageElement=e,this.kenBurnsAttrs=gi(t,vi),this.cropAttrs=gi(i,vi),this.section.on("readyAndActivated, resize",this.setAnimation,this),this.section.on("deactivated",this.removeAnimation,this),this.animTarget=this.section.background.element)}setAnimation(t){if("resize"!==t||this.section.active){const e=(null===(t=this.anim)||void 0===t?void 0:t.timeline.progress)||0;if(null!==(t=this.anim)&&void 0!==t&&t.reset(),cancelAnimationFrame(this.ram),this.imageElement.classList.contains(`${r}-cropped`)){const t=m(this.kenBurnsAttrs);t&&(t.set=m(this.cropAttrs),this.ram=requestAnimationFrame((()=>{if(this.anim=ci("kenBurns",this.animTarget,"out",t),e){const t=this.anim.timeline;t.seek(t.duration*e/100)}})))}}}removeAnimation(){var t,e;null===(t=this.anim)||void 0===t||null!==(e=t.reset)&&void 0!==e&&e.call(t),this.anim=void 0}}});const Is=ws(Yt).default,$s=ws(os).default;Is.registerAddon("kenBurns",class{constructor(t){this.composer=t,this.activeSlides=[],t.options.get("disableAnimations")||this.composer.on("sectionReady",this._checkSection,this)}_checkSection(t,e){e.firstMount&&(e.kenBurnsController=new $s(e),e.hasBackgroundVideo||this.activeSlides.push(e))}}),Ht.registerAddon("detacher",class{constructor(t){this.composer=t,this.composerElement=this.composer.element,this.composer.options.register({detachBeforeInit:!1,restartActiveSections:!0}),this._placeHolder=document.createElement("span"),this._placeHolder.style.display="none",this._placeHolder.dataset.placeholder=this.composerElement.id,this.isDetached=!1,this.disableAutoInit=this.composer.options.get("detachBeforeInit"),this.restartActiveSections=this.composer.options.get("restartActiveSections"),this.disableAutoInit&&(this.composer.initTrigger.hold(),this._detach()),this.composer.attach=this._attach.bind(this),this.composer.detach=this._detach.bind(this)}_detach(){this.isDetached||(this.isDetached=!0,this.composer.trigger("beforeDetach"),this.composerElement.parentElement.insertBefore(this._placeHolder,this.composerElement),this.composerElement.remove(),this.composer.trigger("detach"),this.composer.navigator.goToIndex(this.composer.navigator.targetIndex,{animate:!1},!0))}_attach(t){this.isDetached&&(this.isDetached=!1,this.composer.trigger("beforeAttach"),t?t.appendChild(this.composerElement):(this._placeHolder.parentElement.insertBefore(this.composerElement,this._placeHolder),this._placeHolder.remove()),this.disableAutoInit?(this.disableAutoInit=!1,this.composer.initTrigger.exec()):(this.composer.layoutController.update(),this.restartActiveSections&&this.composer.view.sections.forEach((t=>{t.reactive()})),this.composer.trigger("attach")))}});class Os{constructor(t){const e=t.element.querySelector(`.${r}-bg-embed`),i=null==e?void 0:e.querySelector("iframe");var s;t.hasBackgroundVideo=!!i,t.hasBackgroundVideo&&(s=e.querySelector("img"),this.videoWrapper=e,this.videoSource=i,this.videoPoster=s,this.section=t,this.composer=t.composer,this._videoState="initial",this.looped="false"!==i.getAttribute("data-loop"),this.videoWidth=i.getAttribute("data-width")||100,this.videoHeight=i.getAttribute("data-height")||100,this.autoPause="true"===i.getAttribute("data-auto-pause"),t.background.appendBackground(this.videoWrapper),this.goNext="true"===i.getAttribute("data-goto-next"),this.videoElement=new Gi(this.videoSource),this.videoElement.setup(this._videoControllerReady.bind(this)),this.section.readyTrigger.hold(),this.section.on("resize",this._locateBackground.bind(this),this),this.section.on("deactivated, readyAndActivated",this._sectionStateChange.bind(this),this))}_locateBackground(){var t=((t,e,i)=>{var s=t.width/e.width,n=t.height/e.height;n=Math.max(s,n);let o=e.height*n,r=e.width*n;return(n=o-t.height)<=i&&(t=r/o,o=o+i-n,r=(o+i-n)*t),{width:r,height:o}})(this.section.element.getBoundingClientRect(),{width:this.videoWidth,height:this.videoHeight},"vimeo"===this.videoElement.type?0:120);this.videoWrapper.style.width=`${t.width}px`,this.videoWrapper.style.height=`${t.height}px`}_videoControllerReady(){this.videoReady||(this.videoReady=!0,this._onVideoPlay=this._onVideoPlay.bind(this),this._onVideoPause=this._onVideoPause.bind(this),this._onVideoEnded=this._onVideoEnded.bind(this),this.videoElement.on("play",this._onVideoPlay),this.videoElement.on("pause",this._onVideoPause),this.videoElement.on("ended",this._onVideoEnded),this._locateBackground(),this.section.readyTrigger.exec(),this.section.active&&this.section.isReady?this.videoElement.play():this.videoElement.pause(),this.section.trigger("backgroundEmbedVideoReady",[this.section],!0),this.composer.on("attach",(()=>{"playing"===this._videoState&&this.videoElement.play()})))}_sectionStateChange(t){if(this.videoReady)switch(t){case"readyAndActivated":default:this.videoElement.play();break;case"deactivated":this.videoElement.pause(),this.autoPause||this.videoElement.stop()}}_onVideoPlay(){this._videoState="playing",this.videoPoster&&this.videoPoster.classList.remove(`.${r}-bg-embed-show-poster`),this.section.trigger("backgroundEmbedVideoPlay",[this],!0)}_onVideoPause(){this._videoState="stopped",this.videoPoster&&this.videoPoster.classList.add(`.${r}-bg-embed-show-poster`),this.section.trigger("backgroundEmbedVideoPause",[this],!0)}_onVideoEnded(){this._videoState="ended",this.section.trigger("backgroundEmbedVideoEnded",[this],!0),this.goNext?this.composer.navigator.next():this.looped?this.videoElement.play():this.looped||(this.videoElement.play(),this.videoElement.pause())}}Ht.registerAddon("sectionBackgroundEmbedVideo",class{constructor(t){this.composer=t,this.activeSlides=[],this.composer.on("sectionBeforeMount",this._checkSection,this)}_checkSection(t,e){e.firstMount&&(e.backgroundVideoController=new Os(e),e.hasBackgroundVideo||this.activeSlides.push(e))}});const Ts=[];window.depicterInstances=Ts;class Ps extends Ht{static setup(t,e){return t=Array.from(document.querySelectorAll(t)).filter((t=>!Ts.find((({element:e})=>e===t)))).map((t=>{const i=new Ps;return i.setup(t,e),Ts.push(i),i})),null==t?void 0:t[0]}setup(t,e={}){super.setup(t,e),this.options.register({})}}function Ms(){window.DepicterDisableAutoInit||Ps.initAll()}return Ps.version="1.9.0",Ps.author={name:"Averta",url:"https://averta.net"},window.Depicter?console.warn("Another instance of Depicter module found on the page."):"complete"===document.readyState?setTimeout(Ms,20):document.addEventListener("DOMContentLoaded",Ms),Ps}));